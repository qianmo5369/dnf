{"version":3,"names":["TnModal","TnIcon","fuiUpload","fuiBottomPopup","TnAvatar","fuiSafeArea","fuiNavBar","fuiDialog","uploadRef","common_vendor","ref","uploadUrl","util_env","baseUrl","uploadStatus","settlementImage","dialogShow","completeShow","title","content","confirmText","roomData","onConfirm","selectedHeroId","msgTime","inputMsg","room_id","msgList","phrasShow","isGoldCar","hasCard","teraCost","cardPrice","onLoad","params","share_uid","index","setStorageSync","__f__","value","showToast","icon","waitingTimeText","progressTimeText","timer","startTime","status","Date","now","formatTime","seconds","h","String","Math","floor","padStart","m","s","concat","updateTimer","current","start","Number","max","initCounter","room","waiting_start_at","progress_start_at","clearInterval","setInterval","onUnmounted","handlePhras","faceShow","complaintLink","linkTo","_a","id","onClick","e","onClose","refresh","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","wrap","_callee$","_context","prev","next","getChatList","getRoomData","stop","apply","arguments","onStartGame","positions","joinedMembers","filter","pos","user","length","is_terache","doStartGame","path","type","undefined","switchTab","url","navigateTo","isRoomOperator","computed","joined_role_code","onKickMember","currentUserId","user_id","is_owner","code","nickname","doKickMember","_ref2","_callee2","memberId","res","_callee2$","_context2","$http","post","member_id","sent","msg","_x2","sendChat","_ref3","_callee3","_callee3$","_context3","trim","abrupt","util_ws","ws","send","phrasSend","_ref4","_callee4","_callee4$","_context4","_x3","_ref5","_callee5","_callee5$","_context5","last_id","data","list","commonPhrases","getCommonPhrases","_ref6","_callee6","_callee6$","_context6","_ref7","_callee7","_callee7$","_context7","onCheckRoom","onSelectPosition","_ref8","_callee8","_callee8$","_context8","copy","is_member","payload","user_hero_id","room_code","_x4","previewImage","urls","success","fail","complete","onLeaveRoom","confirmLeaveRoom","_ref9","_callee9","_callee9$","_context9","doResetToWait","_ref10","_callee10","result","_callee10$","_context10","onResetToWait","_ref11","_callee11","_callee11$","_context11","doCompleteRoom","_ref12","_callee12","_callee12$","_context12","image_url","_ref13","_callee13","_callee13$","_context13","toHome","checkMemberAccess","callback","getRoleColor","_ref14","_callee14","_callee14$","_context14","val","js_sdk_xbCopy_uniCopy","uniCopy","error","duration","uploadSuccess","JSON","parse","replace","uploadError","showModal","stringify","focus","focusChange","blurChange","faceChange","hideKeyboard","faceClick","item","delMsg","number","substr","search","scrollTo","watch","len","playNumberVoice","num","audio","createInnerAudioContext","src","play","onEnded","destroy","onError","onMounted","on","push","joined_number","show_completed_modal","reLaunch","catch","err","wx","createPage","MiniProgramPage"],"sources":["room.vue","room.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"room-container\">\r\n\t\t<fui-dialog :show=\"dialogShow\" :content=\"content\" :confirmText=\"confirmText\" maskClosable @click=\"onClick\"\r\n\t\t\t@close=\"onClose\"></fui-dialog>\r\n\t\t<TnModal ref=\"modalRef\" />\r\n\r\n\t\t<fui-bottom-popup :show=\"phrasShow\" zIndex=\"4000\">\r\n\t\t\t<view class=\"phras-popup\">\r\n\t\t\t\t<view class=\"phras-header\">常用语</view>\r\n\t\t\t\t<view class=\"fui-icon__close\" @tap=\"phrasShow  = false\">\r\n\t\t\t\t\t<TnIcon name=\"close\" color=\"#000\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"phras-list\">\r\n\t\t\t\t\t<view class=\"phras-item\" v-for=\"(item,index) in commonPhrases\" :key=\"index\">\r\n\t\t\t\t\t\t<view class=\"phras-desc\">\r\n\t\t\t\t\t\t\t{{item.text}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"phras-send\" @tap=\"phrasSend(item.text)\">\r\n\t\t\t\t\t\t\t发送\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</fui-bottom-popup>\r\n\r\n\t\t<!-- 结算图上传 -->\r\n\t\t<!-- <fui-bottom-popup :show=\"completeShow\" zIndex=\"8000\">\r\n\t\t\t<view class=\"complete-popup\">\r\n\t\t\t\t<view class=\"popup-header\">完成结算</view>\r\n\t\t\t\t<view class=\"fui-icon__close\" @tap=\"completeShow  = false\">\r\n\t\t\t\t\t<TnIcon name=\"close\" color=\"#000\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"popup-alert\">\r\n\t\t\t\t\t上传截图，可作为纠纷评判依据\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"form-group\">\r\n\t\t\t\t\t<text class=\"label required\">拍卖结算图或者通关翻牌图</text>\r\n\t\t\t\t\t<view class=\"upload-box\">\r\n\t\t\t\t\t\t<fui-upload borderColor=\"#eee\" background=\"#Fff\" radius=\"10\" immediate width=\"500\" height=\"300\"\r\n\t\t\t\t\t\t\t:url=\"uploadUrl\" :max=\"2\" ref=\"uploadRef\" @success=\"uploadSuccess\"\r\n\t\t\t\t\t\t\t@error=\"uploadError\"></fui-upload>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"popup-footer\">\r\n\t\t\t\t\t<view class=\"submit-btn\" @tap=\"doCompleteRoom\">确定完成</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t</fui-bottom-popup> -->\n\t\t\n\t\t<fui-bottom-popup :show=\"completeShow\" zIndex=\"8000\">\n\t\t  <view class=\"complete-popup\">\n\t\t\n\t\t    <!-- 标题 -->\n\t\t    <view class=\"popup-header\">{{ roomData.value.room?.is_terache ? '泰拉车结算' : '完成结算' }}</view>\n\t\t    <view class=\"fui-icon__close\" @tap=\"completeShow = false\">\n\t\t      <TnIcon name=\"close\" color=\"#000\" />\n\t\t    </view>\n\t\t\n\t\t    <!-- ✅ 泰拉车表单 -->\n\t\t    <view v-if=\"roomData.value.room?.is_terache\">\n\t\t      <!-- 是否金币车 -->\n\t\t      <view class=\"form-group\">\n\t\t        <text class=\"label required\">是否金币车</text>\n\t\t        <view class=\"radio-box\">\n\t\t          <radio-group :value=\"isGoldCar\" @change=\"e => isGoldCar = e.detail.value\">\n\t\t            <label><radio value=\"0\" /> 否</label>\n\t\t            <label style=\"margin-left: 40rpx;\"><radio value=\"1\" /> 是</label>\n\t\t          </radio-group>\n\t\t        </view>\n\t\t      </view>\n\t\t\n\t\t      <!-- 拉满花费泰拉 -->\n\t\t      <view v-if=\"isGoldCar === '0'\" class=\"form-group\">\n\t\t        <text class=\"label required\">花费泰拉</text>\n\t\t        <view class=\"input-box input-with-unit\">\n\t\t          <input v-model=\"teraCost\" type=\"number\" placeholder=\"请输入\" class=\"input\" />\n\t\t          <text class=\"unit\">万</text>\n\t\t        </view>\n\t\t      </view>\n\t\t\n\t\t      <!-- 是否有卡片/宝珠 -->\n\t\t      <view class=\"form-group\">\n\t\t        <text class=\"label required\">卡片/宝珠</text>\n\t\t        <view class=\"radio-box\">\n\t\t          <radio-group :value=\"hasCard\" @change=\"e => hasCard = e.detail.value\">\n\t\t            <label><radio value=\"0\" /> 无</label>\n\t\t            <label style=\"margin-left: 40rpx;\"><radio value=\"1\" /> 有</label>\n\t\t          </radio-group>\n\t\t        </view>\n\t\t      </view>\n\t\t\n\t\t      <!-- 卡片拍卖价 -->\n\t\t      <view v-if=\"hasCard === '1'\" class=\"form-group\">\n\t\t        <text class=\"label required\">拍卖价</text>\n\t\t        <view class=\"input-box input-with-unit\">\n\t\t          <input v-model=\"cardPrice\" type=\"number\" placeholder=\"请输入\" class=\"input\" />\n\t\t          <text class=\"unit\">万</text>\n\t\t        </view>\n\t\t      </view>\n\t\t    </view>\n\t\t\n\t\t    <!-- 普通副本提示 -->\n\t\t    <view v-else class=\"popup-alert\">\n\t\t      上传截图，可作为纠纷评判依据\n\t\t    </view>\n\t\t\n\t\t    <!-- 上传截图 -->\n\t\t    <view class=\"form-group\" style=\"flex-direction: column; align-items: flex-start;\">\n\t\t      <text class=\"label required\" style=\"margin-bottom: 10rpx;\">上传结算截图</text>\n\t\t      <fui-upload\n\t\t        borderColor=\"#eee\"\n\t\t        background=\"#fff\"\n\t\t        radius=\"10\"\n\t\t        immediate\n\t\t        width=\"500\"\n\t\t        height=\"300\"\n\t\t        :url=\"uploadUrl\"\n\t\t        :max=\"2\"\n\t\t        ref=\"uploadRef\"\n\t\t        @success=\"uploadSuccess\"\n\t\t        @error=\"uploadError\"\n\t\t      />\n\t\t    </view>\n\t\t\n\t\t    <!-- 提交按钮 -->\n\t\t    <view class=\"popup-footer\">\n\t\t      <view class=\"submit-btn\" @tap=\"doCompleteRoom\">确定完成</view>\n\t\t    </view>\n\t\t\n\t\t  </view>\n\t\t</fui-bottom-popup>\n\n\n\t\t\n\t\t\n\n\n\r\n\r\n\t\t<!-- 顶部背景与状态栏 -->\r\n\t\t<view class=\"room-header\" :style=\"{ backgroundImage: `url(${roomData.room?.mode_image })` }\">\r\n\t\t\t<fui-nav-bar custom padding=\"12\" background=\"none\">\r\n\t\t\t\t<view class=\"fui-nav__left\">\r\n\t\t\t\t\t<TnIcon name=\"left\" size=\"35rpx\" color=\"#fff\" @tap=\"linkTo('/pages/index/index','tabbar')\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"room-top-info\">\r\n\t\t\t\t\t<image class=\"zone-icon\" src=\"https://dnf.hanyunkeji.cn/static/room/wechat2.png\"\r\n\t\t\t\t\t\tv-if=\"roomData.room?.channel === 'wechat'\" mode=\"aspectFill\" />\r\n\t\t\t\t\t<image class=\"zone-icon\" src=\"https://dnf.hanyunkeji.cn/static/home/qq.png\"\r\n\t\t\t\t\t\tv-if=\"roomData.room?.channel === 'QQ'\" mode=\"aspectFill\" />\r\n\t\t\t\t\t<text class=\"zone-tag\" v-if=\"roomData.room?.channel === 'wechat'\">微信区</text>\r\n\t\t\t\t\t<text class=\"zone-tag\" v-if=\"roomData.room?.channel === 'QQ'\">QQ区</text>\r\n\t\t\t\t\t<text class=\"zone-title\">{{roomData.room?.mode_title}} -{{roomData.room?.id}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</fui-nav-bar>\r\n\r\n\t\t\t<!-- <view class=\"room-top-info\">\r\n\t\t\t\t<text class=\"zone-tag\">微信区 - 包车155</text>\r\n\t\t\t</view> -->\r\n\t\t\t<!-- <image class=\"room-bg\" src=\"https://dnf.hanyunkeji.cn/static/room/20.png\" mode=\"aspectFill\" /> -->\r\n\t\t\t<view class=\"room-overlay\">\r\n\t\t\t\t<view class=\"room-status\">\r\n\t\t\t\t\t<view class=\"room-tag\">暂未匹配游戏房间链接 <text class=\"i\">i</text></view>\r\n\t\t\t\t\t<view class=\"room-time\" v-if=\"roomData && roomData.room?.status != 'completed'\">\r\n\t\t\t\t\t\t<text v-if=\"roomData && roomData.room?.status === 'waiting'\">等待中 {{ waitingTimeText }}</text>\r\n\t\t\t\t\t\t<text v-if=\"roomData && roomData.room?.status === 'in_progress'\" style=\"color: green\">进行中\r\n\t\t\t\t\t\t\t{{ progressTimeText }}</text>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<view class=\"room-cards\">\r\n\t\t\t<view class=\"role-card\" :class=\"pos.code\" v-for=\"(pos, index) in roomData.positions\" :key=\"pos.id\"\r\n\t\t\t\t@tap=\"onSelectPosition(pos)\"   @longpress=\"onKickMember(pos)\">\r\n\t\t\t\t<view class=\"role-tag-box\">\r\n\t\t\t\t\t<view class=\"role-tag\" :class=\"getRoleColor(pos.code)\"> {{pos.title}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"role-info\" v-if=\"pos.user && pos.code != 'seller'\">\r\n\t\t\t\t\t<view class=\"role-meta\">\r\n\t\t\t\t\t\t<image class=\"role-avatar\" v-if=\"pos.user\" :src=\"pos.user['hero_avatar']\" mode=\"aspectFill\" />\r\n\t\t\t\t\t\t<text class=\"role-level\">{{ pos.user.resist_power }}</text>\r\n\t\t\t\t\t\t<text class=\"role-name\">{{ pos.user.hero_name }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"tn-flex-1\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<image v-if=\"pos.user.status == 'escaped'\"  class=\"icon-escaped\"\n\t\t\t\t\t\t\tsrc=\"https://dnf.hanyunkeji.cn/static/room/escaped.png\" />\r\n\t\t\t\t\t\t<text class=\"role-desc\">{{ pos.user.nickname }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\n\t\t\t\t<view class=\"seller-layout\" v-if=\"pos.user && pos.code == 'seller'\">\n\t\t\t\t\t<view class=\"role-meta\">\n\t\t\t\t\t\t<image class=\"role-avatar\" v-if=\"pos.user\" :src=\"pos.user['hero_avatar']\" mode=\"aspectFill\" />\n\t\t\t\t\t\t{{roomData.room.tera_own}}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"tn-flex-1\">\n\t\t\t\t\t\t<view class=\"tera-ratio\">比例{{roomData.room.tera_ratio}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"role-info-empty\" :class=\"getRoleColor(pos.code)\" v-if=\"pos.code != 'lock' && !pos.user\">\r\n\t\t\t\t\t加入位置\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"role-info-empty\" v-if=\"pos.code == 'lock'\">\r\n\t\t\t\t\t位置锁定\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"room-chat\">\n\t\t\t<scroll-view\n\t\t\t\tclass=\"room-chat\"\n\t\t\t\tscroll-y\n\t\t\t\tref=\"scrollViewRef\"\n\t\t\t\t:scroll-into-view=\"scrollTo\"\n\t\t\t\t:scroll-with-animation=\"true\"\n\t\t\t>\r\n\t\t\t<view class=\"chat-msg\" v-for=\"(msg, index) in msgList\" :key=\"index\" :id=\"'msg-' + index\">\r\n\t\t\t\t<view class=\"chat-header\">\r\n\t\t\t\t\t<TnAvatar size=\"60rpx\" :url=\"msg.hero_avatar\" />\r\n\t\t\t\t\t<view class=\"chat-meta\">\r\n\t\t\t\t\t\t<view class=\"chat-nickname\">\r\n\t\t\t\t\t\t\t<text class=\"chat-role\" :class=\"msg.role_code\">\r\n\t\t\t\t\t\t\t\t{{msg.role_title}}\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<text class=\"chat-tag\" :class=\"getRoleColor(msg.role_code)\">\r\n\t\t\t\t\t\t\t\t{{ msg.hero_nickname }}\r\n\t\t\t\t\t\t\t</text>\r\n\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<text class=\"chat-text\">{{ msg.content }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\n\t\t\t<view id=\"chat-bottom\"></view>\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 右侧功能按钮区域 -->\r\n\t\t<view class=\"room-actions\" v-if=\"roomData.room && isRoomOperator\">\n\t\t\n\t\t  <!-- 等待中状态才能开始游戏 -->\n\t\t  <view\n\t\t    class=\"room-action start-btn\"\n\t\t    v-if=\"roomData.room.status === 'waiting'\"\n\t\t    @tap=\"onStartGame()\"\n\t\t  >\n\t\t    <text>开始</text>\n\t\t  </view>\n\t\t\n\t\t  <!-- 进行中状态可以上传结算图 -->\n\t\t  <view\n\t\t    class=\"room-action end-btn\"\n\t\t    v-if=\"roomData.room.status === 'in_progress'\"\n\t\t    @tap=\"completeShow = true\"\n\t\t  >\n\t\t    <text>完成</text>\n\t\t  </view>\n\t\t\n\t\t  <!-- 等待中可刷新 -->\n\t\t  <view\n\t\t    class=\"room-action refresh-btn\"\n\t\t    v-if=\"roomData.room.status === 'waiting'\"\n\t\t    @tap=\"refresh()\"\n\t\t  >\n\t\t    <text>刷新</text>\n\t\t  </view>\n\t\t\n\t\t  <!-- 进行中可重置 -->\n\t\t  <view\n\t\t    class=\"room-action reset-btn\"\n\t\t    v-if=\"roomData.room.status === 'in_progress'\"\n\t\t    @tap=\"onResetToWait()\"\n\t\t  >\n\t\t    <view>重新</view>\n\t\t    <view>等待</view>\n\t\t  </view>\n\t\t\n\t\t</view>\n\r\n\t\t<!-- </view> -->\r\n\t\t<!-- 常用语和输入栏 -->\r\n\t\t<view class=\"room-footer\"\r\n\t\t\tv-if=\"roomData.room && roomData.room['status'] != 'completed' && roomData.room['status'] != 'disbanded' \">\r\n\t\t\t<view class=\"input-layout\">\n\t\t\t\t<view class=\"chat-shortcuts\">\n\t\t\t\t\t<view class=\"shortcut\" @tap=\"checkMemberAccess(handlePhras)\">常用语</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"chat-input\">\n\t\t\t\t\t<input class=\"input\" ref=\"inputaRef\" confirm-type=\"send\" :disabled=\"!roomData.room?.is_member\"\n\t\t\t\t\t\t:placeholder=\"msgTime\" v-model=\"inputMsg\" @tap=\"() => checkMemberAccess()\" @focus=\"focusChange\"\n\t\t\t\t\t\t@blur=\"blurChange\" @confirm=\"sendChat()\" />\n\t\t\t\t\t<fui-icon @tap=\"() => checkMemberAccess(faceChange)\" :name=\"!faceShow?'face':'keyboard'\"></fui-icon>\n\t\t\t\t\n\t\t\t\t\t<image v-if=\"inputMsg\" @tap=\"checkMemberAccess(sendChat)\" class=\"icon-send\"\n\t\t\t\t\t\tsrc=\"https://dnf.hanyunkeji.cn/static/room/send.png\" />\n\t\t\t\t\t<image v-else @tap=\"checkMemberAccess(onLeaveRoom)\" class=\"icon-send\"\n\t\t\t\t\t\tsrc=\"https://dnf.hanyunkeji.cn/static/room/23.png\" />\n\t\t\t\t</view>\n\t\t\t</view>\r\n\t\t\t<view class=\"fui-scroll__box\" v-if=\"faceShow\">\r\n\t\t\t\t<scroll-view scroll-y class=\"fui-face__box\" :style=\"{opacity:faceShow?1:0}\">\r\n\t\t\t\t\t<view class=\"fui-face__inner\">\r\n\t\t\t\t\t\t<text class=\"fui-face__text fui--active\" v-for=\"(item,index) in faceList\" :key=\"index\"\r\n\t\t\t\t\t\t\t@click=\"faceClick(item)\">{{item}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</scroll-view>\r\n\t\t\t\t<view class=\"fui-del__box\" @tap.stop=\"delMsg\">\r\n\t\t\t\t\t<fui-icon name=\"backspace\" :size=\"56\"></fui-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<fui-safe-area background=\"none\"></fui-safe-area>\r\n\t\t</view>\r\n\t\t<view class=\"bottom-status\" v-if=\"roomData.room &&  roomData.room['status'] == 'disbanded'\">\r\n\t\t\t<image class=\"bottom-status-img\" src=\"https://dnf.hanyunkeji.cn/static/room/200.png\" mode=\"aspectFit\">\r\n\t\t\t</image>\r\n\t\t</view>\r\n\r\n\t\t<view class=\"room-summary\"\r\n\t\t\tv-if=\"roomData.room && roomData.room['status'] == 'completed' && roomData.room['status'] != 'disbanded' \">\r\n\t\t\t<view class=\"summary-left\">\r\n\t\t\t\t<view class=\"summary-item\">\r\n\t\t\t\t\t<text class=\"summary-label\">结算图:</text>\r\n\t\t\t\t\t<view class=\"images\">\r\n\t\t\t\t\t\t<image @tap=\"previewImage(img)\" v-for=\"(img, idx) in roomData.room.settlement_images\" :key=\"idx\"\r\n\t\t\t\t\t\t\t:src=\"img\" class=\"settle-img\" mode=\"aspectFill\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"summary-item\">\r\n\t\t\t\t\t<text class=\"summary-label\">组队时间:</text>\r\n\t\t\t\t\t<text class=\"value\">{{ roomData.room.start_time }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"summary-item\">\r\n\t\t\t\t\t<text class=\"summary-label\">累计用时:</text>\r\n\t\t\t\t\t<text class=\"value\">{{ roomData.room.teamup_time }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 右下角印章和客服 -->\r\n\t\t\t<view class=\"summary-right\">\r\n\t\t\t\t<image v-if=\"roomData.room && roomData.room['status'] == 'completed'\"\r\n\t\t\t\t\tsrc=\"https://dnf.hanyunkeji.cn/static/room/300.png\" class=\"stamp\" />\r\n\t\t\t\t<view class=\"actions\" v-if=\"roomData.room?.is_member\">\r\n\t\t\t\t\t<view class=\"btn-outline\" v-if=\"roomData.room?.joined_role_code == 'leader'\">\r\n\t\t\t\t\t\t<text v-if=\"roomData.room?.complaint_status.can_complain\"\r\n\t\t\t\t\t\t\t@tap=\"linkTo(`/pages/complaint/send?room_id=${roomData.room?.id}`)\">发起申诉</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t@tap=\"linkTo(`/pages/complaint/complaint?complaint_id=${roomData.room?.complaint_status.complaint_id}`)\"\r\n\t\t\t\t\t\t\tv-if=\"roomData.room?.complaint_status.complaint_status == 'pending' || roomData.room?.complaint_status.complaint_status == 'processing'\">申诉中</text>\r\n\t\t\t\t\t\t<text\r\n\t\t\t\t\t\t\t@tap=\"linkTo(`/pages/complaint/complaint?complaint_id=${roomData.room?.complaint_status.complaint_id}`)\"\r\n\t\t\t\t\t\t\tv-if=\"roomData.room?.complaint_status.complaint_status == 'resolved' || roomData.room?.complaint_status.complaint_status == 'cancelled'\">申诉完成</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"btn-primary\">联系客服</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport uniCopy from '@/js_sdk/xb-copy/uni-copy.js'\r\n\timport TnModal from '@/uni_modules/tuniaoui-vue3/components/modal/src/modal.vue'\r\n\timport TnIcon from '@/uni_modules/tuniaoui-vue3/components/icon/src/icon.vue'\r\n\timport fuiUpload from \"@/components/fui-upload.vue\"\r\n\timport {\r\n\t\tref,\r\n\t\tdefineProps,\r\n\t\tcomputed,\r\n\t\twatch,\r\n\t\tonMounted,\r\n\t\tonUnmounted,\n\t\tnextTick\r\n\r\n\t} from 'vue'\r\n\timport {\r\n\t\tonShow,\r\n\t\tonLoad\r\n\t} from '@dcloudio/uni-app';\r\n\timport {\r\n\t\tbaseUrl\r\n\t} from \"@/util/env\";\n\timport ws from '@/util/ws.js'\r\n\timport faceList from './emoji.js'\r\n\timport fuiBottomPopup from \"@/components/fui-bottom-popup.vue\"\r\n\timport TnAvatar from '@/uni_modules/tuniaoui-vue3/components/avatar/src/avatar.vue'\r\n\timport fuiSafeArea from \"@/components/fui-safe-area.vue\"\r\n\timport fuiNavBar from \"@/components/fui-nav-bar.vue\"\r\n\timport fuiDialog from \"@/components/fui-dialog.vue\"\r\n\tconst uploadRef = ref(null)\r\n\tconst uploadUrl = baseUrl + '/common/upload'\r\n\tconst uploadStatus = ref(false);\r\n\tconst settlementImage = ref(null); // 游戏结算图\r\n\tconst dialogShow = ref(false);\r\n\tconst completeShow = ref(true);\r\n\tconst title = ref(null)\r\n\tconst content = ref(null)\r\n\tconst confirmText = ref(null)\r\n\tconst roomData = ref({})\r\n\tconst onConfirm = ref(null) // 动态绑定的回调函数\r\n\tconst selectedHeroId = ref(null)\r\n\tconst msgTime = ref(\"该房间最新消息，2小时前\")\r\n\tconst inputMsg = ref('');\r\n\tconst room_id = ref(null)\r\n\tconst msgList = ref([])\r\n\tconst phrasShow = ref(false)\n\tconst isGoldCar = ref('0')  // 使用字符串 '0'/'1' 配合 radio-group\n\tconst hasCard = ref('0')\n\tconst teraCost = ref('')\n\tconst cardPrice = ref('')\n\n\t\n\t\n\t\r\n\tonLoad((params) => {\r\n\t\tif (params.share_uid) {\r\n\t\t\tuni.setStorageSync('share_uid', params.share_uid)\r\n\t\t\tconsole.log(\"换成分享uid\" + params.share_uid);\r\n\t\t}\r\n\r\n\t\tif (params.room_id) {\r\n\t\t\troom_id.value = params.room_id;\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: \"房间不存在\",\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t})\r\n\r\n\tconst waitingTimeText = ref('')\r\n\tconst progressTimeText = ref('')\r\n\tlet timer = null\r\n\r\n\t// room 为接口返回的 room 数据\r\n\tconst startTime = ref(0)\r\n\tconst status = ref('')\r\n\tconst now = ref(Date.now())\r\n\r\n\tconst formatTime = (seconds) => {\r\n\t\tconst h = String(Math.floor(seconds / 3600)).padStart(2, '0')\r\n\t\tconst m = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0')\r\n\t\tconst s = String(seconds % 60).padStart(2, '0')\r\n\t\treturn `${h}:${m}:${s}`\r\n\t}\r\n\n\t\n\tconst updateTimer = () => {\n\t\tconst current = Math.floor(Date.now() / 1000)\n\t\tconst start = Number(startTime.value || 0)\n\t\tconst seconds = Math.max(0, current - start)\n\t\n\t\tif (status.value === 'waiting') {\n\t\t\twaitingTimeText.value = formatTime(seconds)\n\t\t} else if (status.value === 'in_progress') {\n\t\t\tprogressTimeText.value = formatTime(seconds)\n\t\t}\n\t}\n\t\n\tconst initCounter = (room) => {\n\t\tconsole.log(room)\n\t\tstatus.value = room.status\n\t\tif (status.value === 'waiting') {\n\t\t\tstartTime.value = Number(room.waiting_start_at)\n\t\t} else if (status.value === 'in_progress') {\n\t\t\tstartTime.value = Number(room.progress_start_at)\n\t\t}\n\t\n\t\tupdateTimer()\n\t\tclearInterval(timer)\n\t\tif (status.value === 'waiting' || status.value === 'in_progress') {\n\t\t\ttimer = setInterval(updateTimer, 1000)\n\t\t}\n\t}\r\n\r\n\tonUnmounted(() => {\r\n\t\tclearInterval(timer)\r\n\t})\r\n\r\n\tconst handlePhras = () => {\r\n\t\tconsole.log(\"执行我\");\r\n\t\tphrasShow.value = true;\n\t\tif(faceShow.value){\n\t\t\tfaceShow.value = false;\n\t\t}\r\n\t}\n\t\n\t// 跳转申诉页面\n\tconst complaintLink  = ()=>{\n\t\tlinkTo(`/pages/complaint/send?room_id=${roomData.value.room?.id}`)\n\t}\r\n\r\n\tconst onClick = (e) => {\r\n\t\tconsole.log('点击事件触发了，type：', e)\r\n\t\tif (e.index === 1 && typeof onConfirm.value === 'function') {\r\n\t\t\tconsole.log(\"点击确定\");\r\n\t\t\tonConfirm.value() // 只在点击确认按钮时执行\r\n\t\t}\r\n\t\tdialogShow.value = false\r\n\t}\r\n\tconst onClose = () => {\r\n\t\tdialogShow.value = false\r\n\t\tconsole.log(\"关闭点击\");\r\n\t}\r\n\r\n\tconst refresh = async () => {\r\n\r\n\t\tawait getChatList()\r\n\t\tawait getRoomData()\r\n\r\n\t\tuni.showToast({\r\n\t\t\ttitle: \"刷新成功\",\r\n\t\t\ticon: 'none'\r\n\t\t})\r\n\t}\r\n\r\n\r\n\tconst onStartGame = () => {\n\t  const positions = roomData.value.positions || []\n\t  const room = roomData.value.room || {}\n\t\n\t  // 统计当前已加入的成员数（user 存在）\n\t  const joinedMembers = positions.filter(pos => pos.user).length\n\t\n\t  //判断泰拉车是否满员\n\t  if (room.is_terache && joinedMembers < 6) {\n\t    uni.showToast({\n\t      title: '泰拉车需满 6 人才能开始游戏',\n\t      icon: 'none'\n\t    })\n\t    return\n\t  }\n\t\n\t  // 普通副本至少 2 人才能开始\n\t  if (!room.is_terache && joinedMembers <= 1) {\n\t    uni.showToast({\n\t      title: '至少需要两名成员才能开始游戏',\n\t      icon: 'none'\n\t    })\n\t    return\n\t  }\n\t\n\t  title.value = \"确认开始游戏\"\n\t  content.value = \"确定开始游戏吗？请确认房间人员准备完成\"\n\t  confirmText.value = \"确认开始\"\n\t  dialogShow.value = true\n\t\n\t  onConfirm.value = doStartGame\n\t}\n\n\t\r\n\tconst openEmojiPanel = () => {\r\n\t\tconsole.log(\"表情\");\r\n\t}\r\n\r\n\tconst linkTo = (path, type = '') => {\r\n\t\tif (type == 'tabbar') {\r\n\t\t\tuni.switchTab({\r\n\t\t\t\turl: path\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: path\r\n\t\t\t})\r\n\t\t}\r\n\t}\n\t\n\tconst isRoomOperator = computed(() => {\n\t  const room = roomData.value?.room\n\t  if (!room){\n\t    console.log(\"不存在信息\");\n\t    return false;\n\t  }\n\t  if (room.is_terache) {\n\t    return room.joined_role_code === 'seller'\n\t  } else {\n\t    return room.joined_role_code === 'dps'\n\t  }\n\t})\n\n\n\t\n\t\n\tconst onKickMember = (pos) => {\n\t  const room = roomData.value.room\n\t  const currentUserId = room?.user_id\n\t  \n\t  // console.log(currentUserId);\n\t  console.log(pos);\n\t\n\t  // 非房主不能操作\n\t  if (!room?.is_owner) return\n\t\n\t  // 空位或锁定位不能操作\n\t  if (!pos.user || pos.code === 'lock') return\n\t\n\t  // 不能踢自己（静默 return，无提示）\n\t  if (pos.user.user_id === currentUserId) return\n\t\n\t  // 确认弹窗\n\t  title.value = \"踢出成员\"\n\t  content.value = `确定将【${pos.user.nickname}】踢出房间吗？`\n\t  confirmText.value = \"确认踢出\"\n\t  dialogShow.value = true\n\t\n\t  onConfirm.value = () => doKickMember(pos.id)\n\t}\n\n\n\t\n\tconst doKickMember = async (memberId) => {\n\t  const res = await uni.$http.post('/dungeon/kick', {\n\t    room_id: roomData.value.room.id,\n\t    member_id: memberId\n\t  })\n\t  if (res.code === 1) {\n\t    uni.showToast({ title: '已踢出', icon: 'none' })\n\t    getRoomData()\n\t    // 建议广播 WebSocket 通知更新房间\n\t  } else {\n\t    uni.showToast({ title: res.msg, icon: 'none' })\n\t  }\n\t}\n\n\r\n\r\n\tconst sendChat = async () => {\r\n\t\tif (!inputMsg.value.trim()) {\r\n\t\t\treturn uni.showToast({\r\n\t\t\t\ttitle: '请输入内容',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\n\t\t\n\t\t\n\t\tws.send({\n\t\t  type: 'chat',\n\t\t  room_id: `room_${roomData.value.room.id}`,\n\t\t  content:inputMsg.value\n\t\t})\n\t\t\r\n\t\t// const res = await uni.$http.post('/dungeon/sendChat', {\r\n\t\t// \troom_id: room_id.value,\r\n\t\t// \tcontent: inputMsg.value\r\n\t\t// })\n\t\tif(faceShow.value){\n\t\t\tfaceShow.value = false;\n\t\t}\n\t\tinputMsg.value = '';\r\n\t\t// console.log('接口信息:', res)\r\n\r\n\t\t// if (res.code === 1) {\n\t\t// \tif(faceShow.value){\n\t\t// \t\tfaceShow.value = false;\n\t\t// \t}\r\n\t\t// \tinputMsg.value = '';\r\n\t\t// \tgetChatList()\n\t\t\t\r\n\t\t// \tuni.showToast({\r\n\t\t// \t\ttitle: res.msg,\r\n\t\t// \t\ticon: 'none'\r\n\t\t// \t})\r\n\r\n\t\t// }\r\n\t}\r\n\r\n\tconst phrasSend = async (value) => {\r\n\t\t// const res = await uni.$http.post('/dungeon/sendChat', {\r\n\t\t// \troom_id: room_id.value,\r\n\t\t// \tcontent: value\r\n\t\t// })\n\t\t\n\t\tws.send({\n\t\t  type: 'chat',\n\t\t  room_id: `room_${roomData.value.room.id}`,\n\t\t  content:value\n\t\t})\n\t\tphrasShow.value = false;\n\t\t\r\n\r\n\t\t// if (res.code === 1) {\r\n\t\t// \tphrasShow.value = false;\r\n\t\t// \t// getChatList()\r\n\t\t// \tuni.showToast({\r\n\t\t// \t\ttitle: res.msg,\r\n\t\t// \t\ticon: 'none'\r\n\t\t// \t})\r\n\r\n\t\t// }\r\n\t}\r\n\r\n\tconst getChatList = async () => {\r\n\r\n\t\tconst res = await uni.$http.post('/dungeon/chatList', {\r\n\t\t\troom_id: room_id.value,\r\n\t\t\tlast_id: null\r\n\t\t})\r\n\t\tconsole.log('接口信息:', res)\r\n\r\n\t\tif (res.code === 1) {\r\n\t\t\tmsgList.value = res.data.list;\r\n\t\t\tscrollToBottom()\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: res.msg,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst commonPhrases = ref([]);\r\n\tconst getCommonPhrases = async () => {\r\n\r\n\t\tconst res = await uni.$http.post('/room/getCommonPhrases', {})\r\n\t\tconsole.log('接口信息:', res)\r\n\r\n\t\tif (res.code === 1) {\r\n\t\t\tcommonPhrases.value = res.data;\r\n\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tconst getRoomData = async () => {\r\n\t\tconst res = await uni.$http.post('/dungeon/info', {\r\n\t\t\troom_id: room_id.value\r\n\t\t})\r\n\t\tconsole.log('接口信息:', res)\r\n\r\n\t\tif (res.code === 1) {\r\n\t\t\troomData.value = res.data;\r\n\t\t\tonCheckRoom()\r\n\t\t\tinitCounter(res.data.room)\r\n\t\t\t// modeMapTree.value = res.data\r\n\t\t}\r\n\t}\r\n\r\n\tconst onSelectPosition = async (pos) => {\r\n\r\n\t\tif (pos.code == 'lock') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tif (pos.user) {\r\n\t\t\tcopy(pos.user.nickname)\r\n\t\t\t// uni.showToast({ title: '该位置已被占用', icon: 'none' })\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (roomData.value.room.is_member) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst res = await uni.$http.post('/dungeon/join', {\r\n\t\t\tpayload: {\r\n\t\t\t\troom_id: roomData.value.room.id,\r\n\t\t\t\tmember_id: pos.id,\r\n\t\t\t\tuser_hero_id: selectedHeroId.value // 当前用户选择的英雄 ID\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tif (res.code === 1) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '加入成功',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\n\t\t\t\n\t\t\tws.send({\n\t\t\t  type: 'join',\n\t\t\t  room_code: `room_${roomData.value.room.id}`\n\t\t\t})\r\n\t\t\tgetRoomData() // 重新刷新\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: res.msg,\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tconst previewImage = (e) => {\r\n\t\tuni.previewImage({\r\n\t\t\turls: [e], // 需要预览的图片http链接列表\r\n\t\t\tcurrent: '', // 当前显示图片的http链接，默认是第一个\r\n\t\t\tsuccess: function(res) {},\r\n\t\t\tfail: function(res) {},\r\n\t\t\tcomplete: function(res) {},\r\n\t\t})\r\n\t}\r\n\tconst onLeaveRoom = () => {\r\n\t\tconst room = roomData.value.room\r\n\t\tif (room.status === 'completed') {\r\n\t\t\t// 提示不能退出\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '游戏已经完成无须退出',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn false;\r\n\t\t} else if (room.is_owner && room.status === 'waiting') {\r\n\t\t\t// 提示解散房间确认\r\n\t\t\ttitle.value = \"解散房间\";\r\n\t\t\tcontent.value = \"你作为房主 退出将会解散房间\";\r\n\t\t\tconfirmText.value = \"确定解散\";\r\n\t\t} else if (room.is_owner && room.status === 'in_progress') {\r\n\t\t\t// 提示游戏中退出会解散，不结算\r\n\t\t\ttitle.value = \"解散房间\";\r\n\t\t\tcontent.value = \"游戏进行中，退出将会无法结算\";\r\n\t\t\tconfirmText.value = \"确认解散\";\r\n\t\t} else {\r\n\t\t\t// 普通成员退出提示\r\n\t\t\ttitle.value = \"退出房间\";\r\n\t\t\tcontent.value = \"退出房间将无法发言\";\r\n\t\t\tconfirmText.value = \"确认退出\";\r\n\t\t}\r\n\r\n\t\tonConfirm.value = confirmLeaveRoom\r\n\t\tdialogShow.value = true\r\n\t}\r\n\r\n\t// 开始游戏\r\n\tconst doStartGame = async () => {\r\n\t\tconst res = await uni.$http.post('/dungeon/start', {\r\n\t\t\troom_id: roomData.value.room.id\r\n\t\t})\r\n\t\tif (res.code === 1) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '游戏已开始',\r\n\t\t\t\ticon: 'success'\r\n\t\t\t})\r\n\t\t\t// getRoomData()\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: res.msg || '开始失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t// 重新等待执行\r\n\tconst doResetToWait = async () => {\r\n\t\tconst result = await uni.$http.post('/dungeon/resetWait', {\r\n\t\t\troom_id: roomData.value.room.id\r\n\t\t})\r\n\t\tif (result.code === 1) {\r\n\t\t\t// getRoomData()\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: result.msg || '失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t//重新等待\r\n\tconst onResetToWait = async () => {\r\n\t\ttitle.value = \"提示\";\r\n\t\tcontent.value = \"将房间变为等候中，和长按踢人，重新组人\";\r\n\t\tconfirmText.value = \"确认变更\";\r\n\t\tdialogShow.value = true;\r\n\t\t// 绑定弹窗确认的操作\r\n\t\tonConfirm.value = doResetToWait\r\n\t}\r\n\r\n\tconst doCompleteRoom = async () => {\r\n\r\n\t\tif (settlementImage.value == \"\") {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: \"请上传结算截图\",\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tconst res = await uni.$http.post('/dungeon/completeRoom', {\r\n\t\t\troom_id: roomData.value.room.id,\r\n\t\t\timage_url: settlementImage.value\r\n\t\t})\r\n\t\tif (res.code === 1) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: res.msg || '',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\tcompleteShow.value = false;\r\n\t\t\t// 可刷新房间状态或跳转\r\n\t\t\t// getRoomData()\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: res.msg || '开始失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tconst onCheckRoom = async () => {\r\n\r\n\r\n\t\tif (roomData.value.room.status == 'completed' && !roomData.value.room.is_member) {\r\n\t\t\ttitle.value = \"提示\";\r\n\t\t\tcontent.value = \"该房间已经完成\";\r\n\t\t\tconfirmText.value = \"更多房间\";\r\n\t\t\tdialogShow.value = true;\r\n\t\t\t// 绑定弹窗确认的操作\r\n\t\t\tonConfirm.value = toHome\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tconst positions = roomData.value.positions || []\r\n\t\t// 统计当前已加入的成员数\r\n\t\tconst joinedMembers = positions.filter(pos => pos.user).length;\r\n\t\tif (positions.length == joinedMembers && !roomData.value.room.is_member) {\r\n\t\t\ttitle.value = \"提示\";\r\n\t\t\tcontent.value = \"该房间已满员\";\r\n\t\t\tconfirmText.value = \"更多房间\";\r\n\t\t\tdialogShow.value = true;\r\n\t\t\t// 绑定弹窗确认的操作\r\n\t\t\tonConfirm.value = toHome\r\n\t\t}\r\n\r\n\t}\r\n\tconst toHome = () => {\r\n\t\tuni.switchTab({\r\n\t\t\turl: \"/pages/index/index\"\r\n\t\t})\r\n\t}\r\n\tconst checkMemberAccess = (callback) => {\r\n\t\tconsole.log(roomData.value.room);\r\n\t\tif (!roomData.value.room?.is_member) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请先加入房间',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// 已加入房间时执行回调\r\n\t\tcallback && callback()\r\n\t}\r\n\r\n\tconst getRoleColor = (code) => {\r\n\t\tif (code === 'leader') return 'blue'\r\n\t\tif (code === 'dps') return 'red'\r\n\t\tif (code === 'support') return 'green'\r\n\t\tif (code === 'leech') return 'green'\r\n\t\tif (code === 'baoche') return code\r\n\t\tif (code === 'team') return code\r\n\t\tif (code === 'deck') return code\r\n\t\tif (code === 'lock') return code\n\t\tif (code === 'seller') return code\r\n\t\treturn ''\r\n\t}\r\n\r\n\tconst getRoleIcon = (code) => {\r\n\t\tconst map = {\r\n\t\t\tleader: 'https://dnf.hanyunkeji.cn/static/room/09.png',\r\n\t\t\tdps: 'https://dnf.hanyunkeji.cn/static/room/10.png',\r\n\t\t\tsupport: 'https://dnf.hanyunkeji.cn/static/room/11.png'\r\n\t\t}\r\n\t\treturn map[code] || ''\r\n\t}\r\n\t// 退出房间确认\r\n\tconst confirmLeaveRoom = async () => {\r\n\t\tconst result = await uni.$http.post('/dungeon/leave', {\r\n\t\t\troom_id: roomData.value.room.id\r\n\t\t})\r\n\t\tif (result.code === 1) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: result.msg || '退出失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\t// getRoomData()\r\n\t\t\treturn true;\r\n\t\t\t// 可以返回房间列表或首页\r\n\t\t\t// uni.navigateBack()\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: result.msg || '退出失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\tconst copy = (val) => {\r\n\t\tuniCopy({\r\n\t\t\tcontent: val,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: res,\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\terror: (e) => {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: e,\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 3000,\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\tconst uploadSuccess = (e) => {\r\n\t\tconsole.log(e)\r\n\t\t//上传成功回调，处理服务器返回数据【此处根据实际返回数据进行处理】\r\n\t\tlet res = JSON.parse(e.res.data.replace(/\\ufeff/g, \"\") || \"{}\")\r\n\t\tuploadStatus.value = e.status\r\n\t\tif (res.data.url) {\r\n\t\t\tsettlementImage.value = res.data.url;\r\n\t\t\t//处理结果返回给组件 \r\n\t\t\t//data.url为上传成功后返回的图片地址\r\n\t\t\t//e.index为图片索引值\r\n\t\t\t// this.$refs.upload.result(res.data.url, e.index)\r\n\t\t}\r\n\t}\r\n\r\n\tconst uploadError = (e) => {\r\n\t\tuploadStatus.value = e.status\r\n\t\tuni.showModal({\r\n\t\t\tcontent: JSON.stringify(e)\r\n\t\t})\r\n\t}\r\n\r\n\tconst focus = ref(false)\r\n\tconst faceShow = ref(false)\r\n\tconst inputaRef = ref(null)\r\n\tconst focusChange = () => {\r\n\t\tfocus.value = true;\r\n\t}\r\n\tconst blurChange = () => {\r\n\t\tfocus.value = false\r\n\t}\r\n\tconst faceChange = () => {\r\n\t\tfaceShow.value = !faceShow.value;\r\n\t\tuni.hideKeyboard()\r\n\t\t// // #ifdef APP-NVUE\r\n\t\tinputaRef.value.blur()\r\n\t\t// // #endif\r\n\t}\r\n\tconst faceClick = (item) => {\r\n\t\tconsole.log(item);\r\n\t\tif (!faceShow.value) return;\r\n\t\tinputMsg.value += item;\r\n\t}\r\n\r\n\tconst delMsg = () => {\r\n\t\tif (!inputMsg.value) return;\r\n\t\tlet number = 1;\r\n\t\tif (inputMsg.value.length > 1) {\r\n\t\t\tnumber = inputMsg.value.substr(inputMsg.value.length - 2, inputMsg.value.length).search(\r\n\t\t\t\t/(\\ud83c[\\udf00-\\udfff])|(\\ud83d[\\udc00-\\ude4f])|(\\ud83d[\\ude80-\\udeff])/i) == -1 ? 1 : 2;\r\n\t\t}\r\n\t\tinputMsg.value = inputMsg.value.substr(0, inputMsg.value.length - number);\r\n\t}\n\t\n\t\n\tconst scrollViewRef = ref(null)\n\t\n\tconst scrollToBottom = () => {\n\t\t// nextTick(() => {\n\t\t// \t// 使用 scroll-into-view 的方式\n\t\t// \tconst el = document.getElementById('chat-bottom')\n\t\t// \tif (el && typeof el.scrollIntoView === 'function') {\n\t\t// \t\tel.scrollIntoView({ behavior: 'smooth' })\n\t\t// \t}\n\t\t// })\n\t}\r\n\t\n\t\n\tconst scrollTo = ref('')\r\n\t\n\twatch(\n\t\t() => msgList.value.length,\n\t\t(len) => {\n\t\t\tif (len > 0) {\n\t\t\t\tscrollTo.value = 'msg-' + (len - 1)\n\t\t\t}\n\t\t}\n\t)\n\t\n\tconst playNumberVoice = (num) => {\n\t  const audio = uni.createInnerAudioContext()\n\t  audio.src = `/static/sounds/${num}.mp3`\n\t  audio.play()\n\t\n\t  audio.onEnded(() => audio.destroy())\n\t  audio.onError(() => audio.destroy())\n\t}\n\t\r\n\r\n\r\n\r\n\tonMounted(() => {\r\n\t\tgetRoomData()\r\n\t\tgetChatList()\r\n\t\tgetCommonPhrases()\n\t\t// playJoinSound()\n\t\t ws.on('room_update', (msg) => {\n\t\t    console.log('收到 room_update:', msg.data)\n\t\t    roomData.value = msg.data\n\t\t\tonCheckRoom()\n\t\t\tinitCounter(msg.data.room)\n\t\t    // positions.value = msg.data.positions\n\t\t  })\n\t\t  \n\t\t  \n\t\t  ws.on('chat', (msg) => {\n\t\t      msgList.value.push(msg.data)\n\t\t      scrollToBottom()\n\t\t    })\n\t\t\t\n\t\t\tws.on('member_join_voice', (msg) => {\n\t\t\t  const num = msg.joined_number\n\t\t\t  if (num >= 1 && num <= 6) {\n\t\t\t    playNumberVoice(num)\n\t\t\t  }\n\t\t\t})\t\t\t\n\t\t\tws.on('completeRoom',(res)=>{\n\t\t\t\t// console.log(res);\n\t\t\t\tif(res.data.show_completed_modal){\n\t\t\t\t\ttitle.value = \"组队完成\";\n\t\t\t\t\tcontent.value = \"结算阶段： 是否存在未通关、虚假结算、违规竞拍、等问题?\";\n\t\t\t\t\tconfirmText.value = \"发起申诉\";\n\t\t\t\t\tdialogShow.value = true;\n\t\t\t\t\t// 绑定弹窗确认的操作\n\t\t\t\t\tonConfirm.value = complaintLink\n\t\t\t\t}\n\t\t\t\t\n\t\t\t})\n\t\t\t\n\t\t\tws.on('kicked', () => {\n\t\t\t  title.value = '提示'\n\t\t\t  content.value = '你已被房主踢出该房间'\n\t\t\t  confirmText.value = '返回首页'\n\t\t\t  dialogShow.value = true\n\t\t\t\n\t\t\t onConfirm.value = () => {\n\t\t\t   uni.reLaunch({ url: '/pages/index/index' })\n\t\t\t     .catch(err => {\n\t\t\t       console.error('页面跳转失败:', err)\n\t\t\t     })\n\t\t\t }\n\n\t\t\t})\n\n\r\n\t})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n\t.room-container {\n\t\t// position: fixed;\n\t\twidth: 100%;\n\t\ttop: 0;\r\n\t\tbackground-color: #fff;\r\n\t\tcolor: #fff;\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.room-header {\r\n\t\t/* background-image: url('https://dnf.hanyunkeji.cn/static/room/20.png'); */\r\n\t\tbackground-size: 100% 100%;\r\n\t\tposition: relative;\r\n\t\theight: 380rpx;\r\n\t}\r\n\r\n\t.room-bg {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-bottom-left-radius: 24rpx;\r\n\t\tborder-bottom-right-radius: 24rpx;\r\n\t}\r\n\r\n\t.fui-nav__left {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tbackground: rgb(0, 0, 0, 0.8);\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.room-top-info {\r\n\t\theight: 60rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground: rgb(0, 0, 0, 0.8);\r\n\t\tborder-radius: 50rpx;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 30rpx;\r\n\t\tfont-size: 25rpx;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.zone-icon {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t}\r\n\r\n\t.zone-tag {\r\n\t\tmargin: 0rpx 15rpx;\r\n\t}\r\n\r\n\t.room-content {\r\n\t\t/* height: 100%;\r\n\tposition: relative; */\r\n\t}\r\n\r\n\t.tag-icon {\r\n\t\twidth: 25rpx;\r\n\t\theight: 25rpx;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.room-overlay {\r\n\t\tposition: absolute;\r\n\t\t/* top: 0; */\r\n\t\tbottom: 10rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\t/* height: 100rpx; */\r\n\t\tbottom: 20rpx;\r\n\t\tpadding: 0rpx 20rpx;\r\n\t}\r\n\r\n\r\n\r\n\t.room-status {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-top: 20rpx;\r\n\t}\r\n\r\n\t.room-time {\r\n\t\tmargin-left: auto;\r\n\t}\r\n\r\n\t.room-tag,\r\n\t.room-time {\r\n\t\tbackground: rgba(0, 0, 0, 0.8);\r\n\t\tborder-radius: 30rpx;\r\n\t\tpadding: 15rpx 30rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t.room-members {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.room-row {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\r\n\r\n\t.role {\r\n\t\tfont-size: 24rpx;\r\n\t\tpadding: 2rpx 12rpx;\r\n\t\tborder-radius: 24rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.role-icon {\r\n\t\twidth: 32rpx;\r\n\t\theight: 32rpx;\r\n\t\tmargin-right: 5rpx;\r\n\t}\r\n\r\n\t.blue {\r\n\t\tcolor: #0284FE;\r\n\t}\r\n\r\n\t.red {\r\n\t\tcolor: #ff3a3a;\r\n\t}\r\n\r\n\t.green {\r\n\t\tcolor: #22cc88;\r\n\t}\r\n\r\n\t.user-nickname {\r\n\t\tfont-size: 38rpx;\r\n\t}\r\n\r\n\t.green-title {\r\n\t\tbackground: #22cc88;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role.blue {\r\n\t\tbackground: #0284FE;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role.red {\r\n\t\tbackground: #ff3a3a;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role.green {\r\n\t\tbackground: #22cc88;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.fail {\r\n\t\tfont-size: 20rpx;\r\n\t\tcolor: #ccc;\r\n\t}\r\n\r\n\t.room-icon-lock,\r\n\t.room-icon-chair {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tbackground: #444;\r\n\t\tborder-radius: 20rpx;\r\n\t}\r\n\r\n\t.room-chat {\r\n\t\tpadding: 0 20rpx;\r\n\t\tflex: 1;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.chat-msg {\r\n\t\t/* background: #2a2a38; */\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 12rpx;\r\n\t\tmargin-bottom: 12rpx;\r\n\t\tcolor: #000;\r\n\t}\r\n\r\n\t.chat-tag {\r\n\t\tcolor: #58a6ff;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.chat-role {\r\n\t\tfont-size: 20rpx;\r\n\t\tpadding: 5rpx 20rpx;\r\n\t\tborder-radius: 30rpx;\r\n\t\tcolor: #fff;\r\n\t\tmargin: 0rpx 10rpx;\r\n\t}\r\n\r\n\t.chat-role.green {\r\n\t\tcolor: #48d6a2;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.chat-text {\r\n\t\tcolor: #333 !important;\r\n\t}\n\t.seller-layout{\n\t\t\n\t}\n\t\n\t.tera-aown{\n\t\t\n\t}\n\t.tera-ratio{\n\t\twidth: 131rpx;\n\t\theight: 40rpx;\n\t\tbackground: #EF6A22;\n\t\t// opacity: 0.8;\n\t\tborder-radius: 10rpx;\n\t\tfont-weight: 500;\n\t\tfont-size: 23rpx;\n\t\tline-height: 40rpx;\n\t\tcolor: #fff;\n\t\ttext-align: center;\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.room-chat {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.chat-msg {\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.chat-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-start;\r\n\t}\r\n\r\n\t.chat-meta {\r\n\t\tmargin-left: 20rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.chat-nickname {\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 6rpx;\r\n\t}\r\n\r\n\t.chat-tag {\r\n\t\tmargin-right: 12rpx;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.chat-role {\r\n\t\tfont-size: 20rpx;\r\n\t\t// opacity: 0.8;\r\n\t}\r\n\r\n\t.chat-text {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.room-footer {\r\n\t\t// padding: 20rpx;\r\n\t\tbackground: #f8f8f8;\r\n\t\tz-index: 3000;\r\n\t\t/* border-top: 1rpx solid #333; */\r\n\t}\r\n\r\n\t.input-layout {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.chat-shortcuts {\r\n\t\tdisplay: flex;\r\n\t\tgap: 20rpx;\r\n\t\tmargin-bottom: 16rpx;\r\n\t\t// padding: 20rpx;\r\n\t}\r\n\r\n\t.shortcut {\r\n\t\tbackground: #fff;\r\n\t\tcolor: #000;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\t// margin: 20rpx;\r\n\t}\n\t.icon-escaped{\n\t\twidth: 48rpx;\n\t\theight: 48rpx;\n\t}\r\n\r\n\t.chat-input {\r\n\t\theight: 72rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 10 rpx;\r\n\t\tpadding: 8rpx 16rpx;\r\n\t}\r\n\r\n\t.input {\r\n\t\tflex: 1;\r\n\t\tbackground: transparent;\r\n\t\tcolor: #000;\r\n\t\tfont-size: 24rpx;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t}\r\n\r\n\t.icon-face,\r\n\t.icon-send {\r\n\t\twidth: 60rpx;\r\n\t\theight: 60rpx;\r\n\t\tmargin-left: 16rpx;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t.room-members-grid {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\tgap: 24rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tjustify-items: center;\r\n\t}\r\n\r\n\t.room-player {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.avatar-frame {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 6rpx;\r\n\t}\r\n\r\n\t.avatar-bg {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: absolute;\r\n\t\ttop: 8rpx;\r\n\t\tleft: 8rpx;\r\n\t\tz-index: 2;\r\n\t}\r\n\r\n\t.room-icon-placeholder {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t}\r\n\r\n\r\n\t.room-icon-placeholder {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t}\r\n\r\n\t.room-actions {\r\n\t\tposition: absolute;\r\n\t\tbottom: 500rpx;\r\n\t\tright: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tgap: 30rpx;\r\n\t}\r\n\r\n\t.start-btn {\r\n\t\tbackground: #1677ff;\r\n\t\tbox-shadow: 0rpx 4rpx 9rpx 0rpx rgba(33, 56, 225, 0.98);\r\n\t}\r\n\r\n\t.refresh-btn {\r\n\t\tbackground: #5b2ae5;\r\n\t\tbox-shadow: 0rpx 4rpx 9rpx 0rpx rgb(6 30 255);\r\n\t}\r\n\r\n\t.reset-btn {\r\n\t\tbackground: #1677ff;\r\n\t\tbox-shadow: 0rpx 4rpx 9rpx 0rpx rgba(33, 56, 225, 0.98);\r\n\t}\r\n\r\n\t.forced-two-line {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.end-btn {\r\n\t\tbackground: rgba(128, 0, 2, 1.0);\r\n\t\tbox-shadow: 0rpx 4rpx 9rpx 0rpx #fc0107;\r\n\t}\r\n\r\n\t.room-action {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 25rpx;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.room-action image {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t\tmargin-bottom: 4rpx;\r\n\t}\r\n\r\n\t.leave-room {\r\n\t\twidth: 160rpx;\r\n\t\theight: 160rpx;\r\n\t\tbackground: url('https://dnf.hanyunkeji.cn/static/room/12.png');\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\r\n\r\n\t.room-cards {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\tgap: 24rpx;\r\n\t\tpadding: 24rpx;\r\n\t}\r\n\r\n\t.role-avatar {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 5rpx;\r\n\t}\r\n\r\n\t.role-info {}\r\n\r\n\t.role-meta {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\t/* gap: 10rpx; */\r\n\t\tcolor: #333;\r\n\t\tmargin: 5rpx 0rpx;\r\n\t}\r\n\r\n\t.role-level {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.chat-role.dps {\r\n\t\tbackground: #ff4d4f;\r\n\t}\r\n\r\n\t.chat-role.leader {\r\n\t\tbackground: #1677ff;\r\n\t}\r\n\r\n\t.chat-role.support {\r\n\t\tbackground: #00c292;\n\t\tcolor: #fff;\r\n\t}\n\t.chat-role.baoche {\n\t\tbackground: #5b2ae5;\n\t\tcolor: #fff;\n\t}\n\t.chat-role.team {\n\t\tbackground: #fbbd12;\n\t\tcolor: #fff;\n\t}\n\t.chat-role.deck {\n\t\tbackground: #0198cc;\n\t\tcolor: #fff;\n\t}\r\n\r\n\r\n\r\n\t.lock {\r\n\t\tcolor: #000;\r\n\t}\r\n\r\n\t.role-tag {\r\n\t\tfont-size: 20rpx;\r\n\t\tpadding: 4rpx 10rpx;\r\n\t\tborder-radius: 20rpx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role-tag.red {\r\n\t\tbackground: #ff4d4f;\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role-tag.blue {\r\n\t\tbackground: #1677ff;\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role-tag.green {\r\n\t\tbackground: #00c292;\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\r\n\t.role-tag.baoche {\r\n\t\tbackground: #5b2ae5;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.role-tag.team {\r\n\t\tbackground: #fbbd12;\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.baoche {\r\n\t\tcolor: #5b2ae5;\r\n\t}\r\n\r\n\t.team {\r\n\t\tcolor: #fbbd12;\r\n\t}\r\n\r\n\t.deck {\r\n\t\tcolor: #0198cc;\r\n\t}\n\t\n\t.chat-role.seller{\n\t\tbackground: #EF6A22;\n\t\tcolor: #fff;\n\t}\r\n\r\n\t.role-tag.deck {\r\n\t\tbackground: #0198cc;\n\t\tcolor: #fff;\r\n\t}\n\t\n\t.role-tag.seller{\n\t\tbackground: #EF6A22;\n\t\tcolor: #fff;\n\t}\n\t.seller{\n\t\tcolor: #EF6A22;\n\t}\r\n\r\n\t.role-tag.lock {\r\n\t\tbackground: #000;\r\n\t}\r\n\r\n\r\n\t.role-desc {\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #888;\r\n\t\ttext-align: center;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\r\n\r\n\t.role-card.dps {\r\n\t\tborder: 1rpx solid #ff4d4f !important;\r\n\t}\r\n\r\n\t.role-card.leader {\r\n\t\tborder: 1rpx solid #1677ff !important;\r\n\t}\r\n\r\n\t.role-card.support {\r\n\t\tborder: 1rpx solid #00c292 !important;\r\n\t}\r\n\r\n\t.role-card.baoche {\r\n\t\tborder: 1rpx solid #5b2ae5 !important;\r\n\t}\r\n\r\n\t.role-card.team {\r\n\t\tborder: 1rpx solid #fbbd12 !important;\r\n\t}\r\n\r\n\t.role-card.deck {\r\n\t\tborder: 1rpx solid #0198cc !important;\r\n\t}\r\n\r\n\t.role-card.lock {\r\n\t\tborder: 1rpx solid #000 !important;\r\n\t}\n\t.role-card.seller {\n\t\tborder: 1rpx solid #EF6A22 !important;\n\t}\n\t\n\t\r\n\r\n\t.role-card {\r\n\t\t/* background: #f8f9fa; */\r\n\t\tborder-radius: 10rpx;\r\n\t\theight: 110rpx;\r\n\t\t/* padding: 16rpx; */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 10rpx;\r\n\t\tjustify-content: center;\r\n\t\t/* gap: 12rpx; */\r\n\t\tposition: relative;\r\n\t\tborder: 1rpx #ccc solid;\r\n\t}\r\n\r\n\t.role-tag-box {\r\n\t\tposition: absolute;\r\n\t\ttop: -20rpx;\r\n\t\tright: -10rpx;\r\n\t\tz-index: 1;\r\n\t}\r\n\r\n\t.phrase-popup {\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* padding: 0rpx 40rpx; */\r\n\t}\r\n\r\n\r\n\t.phras-header {\r\n\t\ttext-align: left;\r\n\t\tfont-size: 30rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tcolor: #000;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t}\r\n\r\n\t.complete-popup {\r\n\t\tposition: relative;\r\n\t\tbackground-color: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\t/* padding: 0rpx 40rpx; */\r\n\t}\r\n\r\n\t.phras-list {}\r\n\r\n\t.phras-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 30rpx;\r\n\t\tcolor: #333;\r\n\t\tfont-size: 26rpx;\r\n\t\t// border-bottom: 1rpx solid #ccc;\r\n\t}\r\n\r\n\t.phras-send {\r\n\t\tcolor: #3366ff;\r\n\t\tborder-radius: 26rpx;\r\n\t\tpadding: 5rpx 15rpx;\r\n\t\tborder: 1rpx solid #3366ff;\r\n\t}\r\n\r\n\r\n\t/* 弹窗头 */\r\n\t.popup-header {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 30rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tcolor: #3366ff;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t}\r\n\r\n\t.fui-icon__close {\r\n\t\tposition: absolute;\r\n\t\ttop: 24rpx;\r\n\t\tright: 54rpx;\r\n\r\n\t}\r\n\r\n\t.popup-alert {\r\n\t\tbackground-color: #fff0f0;\r\n\t\tcolor: #f53f3f;\r\n\t\tfont-size: 28rpx;\r\n\t\tpadding: 25rpx;\r\n\t\t/* border-radius: 12rpx; */\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t.form-group {\r\n\t\tmargin: 30rpx;\r\n\t\t// height: 800rpx;\r\n\t\t/* margin-bottom: 40rpx; */\r\n\t}\r\n\r\n\t// .label {\r\n\t// \tfont-size: 28rpx;\r\n\t// \tcolor: #333;\r\n\t// \tmargin-bottom: 20rpx;\r\n\t// \tdisplay: block;\r\n\t// }\r\n\r\n\t.label.required::before {\r\n\t\tcontent: '*';\r\n\t\tcolor: red;\r\n\t\tmargin-right: 6rpx;\r\n\t}\n\t\n\t\n\t.form-group {\n\t  display: flex;\n\t  justify-content: space-between;\n\t  align-items: center;\n\t  padding: 20rpx 0;\n\t}\n\t\n\t.label {\n\t  width: 300rpx;\n\t  font-weight: bold;\n\t  font-size: 28rpx;\n\t  color: #333;\n\t}\n\t\n\t.input-box,\n\t.radio-box {\n\t  flex: 1;\n\t  text-align: right;\n\t  color: #333;\n\t}\n\r\n\r\n\t/* .upload-box {\r\n\t  width: 200rpx;\r\n\t  height: 200rpx;\r\n\t  background-color: #f8f8f8;\r\n\t  border-radius: 16rpx;\r\n\t  display: flex;\r\n\t  flex-direction: column;\r\n\t  justify-content: center;\r\n\t  align-items: center;\r\n\t  border: 2rpx dashed #ccc;\r\n\t} */\r\n\r\n\r\n\r\n\t.upload-text {\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #888;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.popup-footer {\r\n\t\tmargin: 30rpx;\r\n\r\n\t}\r\n\r\n\t.submit-btn {\r\n\t\tbackground-color: #007aff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 30rpx;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 24rpx 0;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\r\n\t.room-summary {\r\n\t\tdisplay: flex;\r\n\t\theight: 300rpx;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 30rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-top: 1rpx solid #eee;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.summary-left {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.summary-item {\r\n\t\tmargin-bottom: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tflex-wrap: wrap;\r\n\t}\r\n\r\n\t.summary-label {\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-right: 10rpx;\r\n\t}\r\n\r\n\t.value {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t.images {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10rpx;\r\n\t\tmargin-top: 10rpx;\r\n\t}\r\n\r\n\t.settle-img {\r\n\t\twidth: 160rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\r\n\t.summary-right {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.stamp {\r\n\t\twidth: 150rpx;\r\n\t\theight: 150rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t\t// flex-direction: column;\r\n\t\tgap: 10rpx;\r\n\t}\r\n\r\n\t.btn-outline {\r\n\t\tbackground: #fff;\r\n\t\tcolor: #ff4d4f;\r\n\t\tborder: 1rpx solid #ff4d4f;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.btn-primary {\r\n\t\tbackground: #007aff;\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 12rpx;\r\n\t\tpadding: 10rpx 20rpx;\r\n\t\tfont-size: 26rpx;\r\n\t}\r\n\r\n\t.bottom-status {\r\n\t\tposition: absolute;\r\n\t\tright: 50rpx;\r\n\t\tbottom: 200rpx;\r\n\t}\r\n\r\n\t.bottom-status-img {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\t.fui-face__hidden {\r\n\t\ttransform: translate3d(0, 520rpx, 0);\r\n\t}\r\n\r\n\r\n\t.fui-face__show {\r\n\t\ttransform: translate3d(0, 0, 0);\r\n\r\n\t\ttransform: translateY(0);\r\n\t}\r\n\r\n\r\n\t.fui-scroll__box {\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fui-face__box {\r\n\t\twidth: 100%;\r\n\t\t// width: 750rpx;\r\n\t\theight: 520rpx;\r\n\t\tbackground-color: #f8f8f8;\r\n\t}\r\n\r\n\t.fui-face__inner {\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tbox-sizing: border-box;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: wrap;\r\n\t\tpadding: 32rpx 2rpx;\r\n\t}\r\n\r\n\t.fui-face__text {\r\n\t\tdisplay: flex;\r\n\t\twidth: 106rpx;\r\n\t\tfont-size: 60rpx;\r\n\t\tpadding: 16rpx 0;\r\n\t\ttext-align: center;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\t/* #ifdef H5 */\r\n\t\tcursor: pointer;\r\n\t\t/* #endif */\r\n\t}\r\n\r\n\t.fui-del__box {\r\n\t\tposition: absolute;\r\n\t\tright: 32rpx;\r\n\t\tbottom: 32rpx;\r\n\t\twidth: 120rpx;\r\n\t\theight: 72rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t.fui-del__box:active {\r\n\t\tbackground-color: #ddd;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/zhizhi/Documents/HBuilderProjects/dnf/pages/room/room.vue'\nwx.createPage(MiniProgramPage)"],"mappings":";;;;;;;;;;;;;;;;;;;;AA8WC,IAAMA,OAAA,GAAU,SAAVA,QAAA;EAAA,OAAqB;AAAA;AAC3B,IAAMC,MAAA,GAAS,SAATA,OAAA;EAAA,OAAoB;AAAA;AAC1B,IAAMC,SAAA,GAAY,SAAZA,UAAA;EAAA,OAAuB;AAAA;AAoB7B,IAAMC,cAAA,GAAiB,SAAjBA,eAAA;EAAA,OAA4B;AAAA;AAClC,IAAMC,QAAA,GAAW,SAAXA,SAAA;EAAA,OAAsB;AAAA;AAC5B,IAAMC,WAAA,GAAc,SAAdA,YAAA;EAAA,OAAyB;AAAA;AAC/B,IAAMC,SAAA,GAAY,SAAZA,UAAA;EAAA,OAAuB;AAAA;AAC7B,IAAMC,SAAA,GAAY,SAAZA,UAAA;EAAA,OAAuB;AAAA;;;;IAC7B,IAAMC,SAAA,GAAYC,aAAA,CAAGC,GAAA,CAAC,IAAI;IAC1B,IAAMC,SAAA,GAAYC,QAAA,CAAAC,OAAA,GAAU;IAC5B,IAAMC,YAAA,GAAeL,aAAA,CAAAC,GAAA,CAAI,KAAK;IAC9B,IAAMK,eAAA,GAAkBN,aAAA,CAAAC,GAAA,CAAI,IAAI;IAChC,IAAMM,UAAA,GAAaP,aAAA,CAAAC,GAAA,CAAI,KAAK;IAC5B,IAAMO,YAAA,GAAeR,aAAA,CAAAC,GAAA,CAAI,IAAI;IAC7B,IAAMQ,KAAA,GAAQT,aAAA,CAAGC,GAAA,CAAC,IAAI;IACtB,IAAMS,OAAA,GAAUV,aAAA,CAAGC,GAAA,CAAC,IAAI;IACxB,IAAMU,WAAA,GAAcX,aAAA,CAAGC,GAAA,CAAC,IAAI;IAC5B,IAAMW,QAAA,GAAWZ,aAAA,CAAGC,GAAA,CAAC,EAAE;IACvB,IAAMY,SAAA,GAAYb,aAAA,CAAGC,GAAA,CAAC,IAAI;IAC1B,IAAMa,cAAA,GAAiBd,aAAA,CAAGC,GAAA,CAAC,IAAI;IAC/B,IAAMc,OAAA,GAAUf,aAAA,CAAGC,GAAA,CAAC,cAAc;IAClC,IAAMe,QAAA,GAAWhB,aAAA,CAAAC,GAAA,CAAI,EAAE;IACvB,IAAMgB,OAAA,GAAUjB,aAAA,CAAGC,GAAA,CAAC,IAAI;IACxB,IAAMiB,OAAA,GAAUlB,aAAA,CAAGC,GAAA,CAAC,EAAE;IACtB,IAAMkB,SAAA,GAAYnB,aAAA,CAAGC,GAAA,CAAC,KAAK;IAC3B,IAAMmB,SAAA,GAAYpB,aAAA,CAAGC,GAAA,CAAC,GAAG;IACzB,IAAMoB,OAAA,GAAUrB,aAAA,CAAGC,GAAA,CAAC,GAAG;IACvB,IAAMqB,QAAA,GAAWtB,aAAA,CAAGC,GAAA,CAAC,EAAE;IACvB,IAAMsB,SAAA,GAAYvB,aAAA,CAAGC,GAAA,CAAC,EAAE;IAKxBD,aAAA,CAAMwB,MAAA,CAAC,UAACC,MAAA,EAAW;MAClB,IAAIA,MAAA,CAAOC,SAAA,EAAW;QACrB1B,aAAA,CAAA2B,KAAA,CAAIC,cAAA,CAAe,aAAaH,MAAA,CAAOC,SAAS;QAChD1B,aAAA,CAAY2B,KAAA,CAAAE,KAAA,kDAAYJ,MAAA,CAAOC,SAAS;MACxC;MAED,IAAID,MAAA,CAAOR,OAAA,EAAS;QACnBA,OAAA,CAAQa,KAAA,GAAQL,MAAA,CAAOR,OAAA;MAC1B,OAAS;QACNjB,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;UACbtB,KAAA,EAAO;UACPuB,IAAA,EAAM;QACV,CAAI;MACD;IACH,CAAE;IAED,IAAMC,eAAA,GAAkBjC,aAAA,CAAGC,GAAA,CAAC,EAAE;IAC9B,IAAMiC,gBAAA,GAAmBlC,aAAA,CAAGC,GAAA,CAAC,EAAE;IAC/B,IAAIkC,KAAA,GAAQ;IAGZ,IAAMC,SAAA,GAAYpC,aAAA,CAAGC,GAAA,CAAC,CAAC;IACvB,IAAMoC,MAAA,GAASrC,aAAA,CAAGC,GAAA,CAAC,EAAE;IACTD,aAAA,CAAAC,GAAA,CAAIqC,IAAA,CAAKC,GAAA,EAAK;IAE1B,IAAMC,UAAA,GAAa,SAAbA,WAAcC,OAAA,EAAY;MAC/B,IAAMC,CAAA,GAAIC,MAAA,CAAOC,IAAA,CAAKC,KAAA,CAAMJ,OAAA,GAAU,IAAI,CAAC,EAAEK,QAAA,CAAS,GAAG,GAAG;MAC5D,IAAMC,CAAA,GAAIJ,MAAA,CAAOC,IAAA,CAAKC,KAAA,CAAOJ,OAAA,GAAU,OAAQ,EAAE,CAAC,EAAEK,QAAA,CAAS,GAAG,GAAG;MACnE,IAAME,CAAA,GAAIL,MAAA,CAAOF,OAAA,GAAU,EAAE,EAAEK,QAAA,CAAS,GAAG,GAAG;MAC9C,UAAAG,MAAA,CAAUP,CAAC,OAAAO,MAAA,CAAIF,CAAC,OAAAE,MAAA,CAAID,CAAC;IACrB;IAGD,IAAME,WAAA,GAAc,SAAdA,YAAA,EAAoB;MACzB,IAAMC,OAAA,GAAUP,IAAA,CAAKC,KAAA,CAAMP,IAAA,CAAKC,GAAA,EAAK,GAAG,GAAI;MAC5C,IAAMa,KAAA,GAAQC,MAAA,CAAOjB,SAAA,CAAUN,KAAA,IAAS,CAAC;MACzC,IAAMW,OAAA,GAAUG,IAAA,CAAKU,GAAA,CAAI,GAAGH,OAAA,GAAUC,KAAK;MAE3C,IAAIf,MAAA,CAAOP,KAAA,KAAU,WAAW;QAC/BG,eAAA,CAAgBH,KAAA,GAAQU,UAAA,CAAWC,OAAO;MAC7C,WAAaJ,MAAA,CAAOP,KAAA,KAAU,eAAe;QAC1CI,gBAAA,CAAiBJ,KAAA,GAAQU,UAAA,CAAWC,OAAO;MAC3C;IACD;IAED,IAAMc,WAAA,GAAc,SAAdA,YAAeC,IAAA,EAAS;MAC7BxD,aAAA,CAAA2B,KAAA,CAAYE,KAAA,sCAAA2B,IAAI;MAChBnB,MAAA,CAAOP,KAAA,GAAQ0B,IAAA,CAAKnB,MAAA;MACpB,IAAIA,MAAA,CAAOP,KAAA,KAAU,WAAW;QAC/BM,SAAA,CAAUN,KAAA,GAAQuB,MAAA,CAAOG,IAAA,CAAKC,gBAAgB;MACjD,WAAapB,MAAA,CAAOP,KAAA,KAAU,eAAe;QAC1CM,SAAA,CAAUN,KAAA,GAAQuB,MAAA,CAAOG,IAAA,CAAKE,iBAAiB;MAC/C;MAEDR,WAAA,EAAa;MACbS,aAAA,CAAcxB,KAAK;MACnB,IAAIE,MAAA,CAAOP,KAAA,KAAU,aAAaO,MAAA,CAAOP,KAAA,KAAU,eAAe;QACjEK,KAAA,GAAQyB,WAAA,CAAYV,WAAA,EAAa,GAAI;MACrC;IACD;IAEDlD,aAAA,CAAA6D,WAAA,CAAY,YAAM;MACjBF,aAAA,CAAcxB,KAAK;IACrB,CAAE;IAED,IAAM2B,WAAA,GAAc,SAAdA,YAAA,EAAoB;MACzB9D,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,KAAK;MACjBV,SAAA,CAAUW,KAAA,GAAQ;MAClB,IAAGiC,QAAA,CAASjC,KAAA,EAAM;QACjBiC,QAAA,CAASjC,KAAA,GAAQ;MACjB;IACD;IAGD,IAAMkC,aAAA,GAAiB,SAAjBA,cAAA,EAAqB;;MAC1BC,MAAA,kCAAAhB,MAAA,CAAO,CAAiCiB,EAAA,GAAAtD,QAAA,CAASkB,KAAA,CAAM0B,IAAA,KAAf,gBAAAU,EAAA,CAAqBC,EAAE,EAAE;IACjE;IAED,IAAMC,OAAA,GAAU,SAAVA,QAAWC,CAAA,EAAM;MACtBrE,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,iBAAiBwC,CAAC;MAC9B,IAAIA,CAAA,CAAE1C,KAAA,KAAU,KAAK,OAAOd,SAAA,CAAUiB,KAAA,KAAU,YAAY;QAC3D9B,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,MAAM;QAClBhB,SAAA,CAAUiB,KAAA,EAAO;MACjB;MACDvB,UAAA,CAAWuB,KAAA,GAAQ;IACnB;IACD,IAAMwC,OAAA,GAAU,SAAVA,QAAA,EAAgB;MACrB/D,UAAA,CAAWuB,KAAA,GAAQ;MACnB9B,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,MAAM;IAClB;IAED,IAAM0C,OAAA;MAAA,IAAAC,IAAA,GAAAC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAU,SAAAC,QAAA;QAAA,OAAAF,oBAAA,GAAAG,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OAETC,WAAA,EAAa;YAAA;cAAAH,QAAA,CAAAE,IAAA;cAAA,OACbE,WAAA,EAAa;YAAA;cAEnBnF,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;gBACbtB,KAAA,EAAO;gBACPuB,IAAA,EAAM;cACT,CAAG;YAAA;YAAA;cAAA,OAAA+C,QAAA,CAAAK,IAAA;UAAA;QAAA,GAAAR,OAAA;MAAA,CACD;MAAA,gBATKL,QAAA;QAAA,OAAAC,IAAA,CAAAa,KAAA,OAAAC,SAAA;MAAA;IAAA,GASL;IAGD,IAAMC,WAAA,GAAc,SAAdA,YAAA,EAAoB;MACxB,IAAMC,SAAA,GAAY5E,QAAA,CAASkB,KAAA,CAAM0D,SAAA,IAAa,EAAE;MAChD,IAAMhC,IAAA,GAAO5C,QAAA,CAASkB,KAAA,CAAM0B,IAAA,IAAQ,CAAE;MAGtC,IAAMiC,aAAA,GAAgBD,SAAA,CAAUE,MAAA,CAAO,UAAAC,GAAA;QAAA,OAAOA,GAAA,CAAIC,IAAI;MAAA,GAAEC,MAAA;MAGxD,IAAIrC,IAAA,CAAKsC,UAAA,IAAcL,aAAA,GAAgB,GAAG;QACxCzF,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;UACZtB,KAAA,EAAO;UACPuB,IAAA,EAAM;QACb,CAAM;QACD;MACD;MAGD,IAAI,CAACwB,IAAA,CAAKsC,UAAA,IAAcL,aAAA,IAAiB,GAAG;QAC1CzF,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;UACZtB,KAAA,EAAO;UACPuB,IAAA,EAAM;QACb,CAAM;QACD;MACD;MAEDvB,KAAA,CAAMqB,KAAA,GAAQ;MACdpB,OAAA,CAAQoB,KAAA,GAAQ;MAChBnB,WAAA,CAAYmB,KAAA,GAAQ;MACpBvB,UAAA,CAAWuB,KAAA,GAAQ;MAEnBjB,SAAA,CAAUiB,KAAA,GAAQiE,WAAA;IACnB;IAOD,IAAM9B,MAAA,GAAS,SAATA,OAAU+B,IAAA,EAAoB;MAAA,IAAdC,IAAA,GAAAX,SAAA,CAAAO,MAAA,QAAAP,SAAA,QAAAY,SAAA,GAAAZ,SAAA,MAAO;MAC5B,IAAIW,IAAA,IAAQ,UAAU;QACrBjG,aAAA,CAAA2B,KAAA,CAAIwE,SAAA,CAAU;UACbC,GAAA,EAAKJ;QACT,CAAI;MACJ,OAAS;QACNhG,aAAA,CAAA2B,KAAA,CAAI0E,UAAA,CAAW;UACdD,GAAA,EAAKJ;QACT,CAAI;MACD;IACD;IAED,IAAMM,cAAA,GAAiBtG,aAAA,CAAAuG,QAAA,CAAS,YAAM;;MACpC,IAAM/C,IAAA,IAAOU,EAAA,GAAAtD,QAAA,CAASkB,KAAA,KAAT,gBAAAoC,EAAA,CAAgBV,IAAA;MAC7B,IAAI,CAACA,IAAA,EAAK;QACRxD,aAAA,CAAA2B,KAAA,CAAYE,KAAA,6CAAO;QACnB,OAAO;MACR;MACD,IAAI2B,IAAA,CAAKsC,UAAA,EAAY;QACnB,OAAOtC,IAAA,CAAKgD,gBAAA,KAAqB;MACtC,OAAU;QACL,OAAOhD,IAAA,CAAKgD,gBAAA,KAAqB;MAClC;IACJ,CAAE;IAKD,IAAMC,YAAA,GAAe,SAAfA,aAAgBd,GAAA,EAAQ;MAC5B,IAAMnC,IAAA,GAAO5C,QAAA,CAASkB,KAAA,CAAM0B,IAAA;MAC5B,IAAMkD,aAAA,GAAgBlD,IAAA,oBAAAA,IAAA,CAAMmD,OAAA;MAG5B3G,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY8D,GAAG;MAGf,IAAI,EAACnC,IAAA,oBAAAA,IAAA,CAAMoD,QAAA,GAAU;MAGrB,IAAI,CAACjB,GAAA,CAAIC,IAAA,IAAQD,GAAA,CAAIkB,IAAA,KAAS,QAAQ;MAGtC,IAAIlB,GAAA,CAAIC,IAAA,CAAKe,OAAA,KAAYD,aAAA,EAAe;MAGxCjG,KAAA,CAAMqB,KAAA,GAAQ;MACdpB,OAAA,CAAQoB,KAAA,8BAAAmB,MAAA,CAAe0C,GAAA,CAAIC,IAAA,CAAKkB,QAAQ;MACxCnG,WAAA,CAAYmB,KAAA,GAAQ;MACpBvB,UAAA,CAAWuB,KAAA,GAAQ;MAEnBjB,SAAA,CAAUiB,KAAA,GAAQ;QAAA,OAAMiF,YAAA,CAAapB,GAAA,CAAIxB,EAAE;MAAA;IAC5C;IAID,IAAM4C,YAAA;MAAA,IAAAC,KAAA,GAAAvC,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAe,SAAAsC,SAAOC,QAAA;QAAA,IAAAC,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAAuC,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAArC,IAAA,GAAAqC,SAAA,CAAApC,IAAA;YAAA;cAAAoC,SAAA,CAAApC,IAAA;cAAA,OACRjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,iBAAiB;gBAChDtG,OAAA,EAASL,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW,EAAA;gBAC7BqD,SAAA,EAAWN;cAChB,CAAI;YAAA;cAHKC,GAAA,GAAAE,SAAA,CAAAI,IAAA;cAIN,IAAIN,GAAA,CAAIN,IAAA,KAAS,GAAG;gBAClB7G,aAAA,CAAG2B,KAAA,CAACI,SAAA,CAAU;kBAAEtB,KAAA,EAAO;kBAAOuB,IAAA,EAAM;gBAAA,CAAQ;gBAC5CmD,WAAA,EAAa;cAElB,OAAU;gBACLnF,aAAA,CAAG2B,KAAA,CAACI,SAAA,CAAU;kBAAEtB,KAAA,EAAO0G,GAAA,CAAIO,GAAA;kBAAK1F,IAAA,EAAM;gBAAA,CAAQ;cAC/C;YAAA;YAAA;cAAA,OAAAqF,SAAA,CAAAjC,IAAA;UAAA;QAAA,GAAA6B,QAAA;MAAA,CACF;MAAA,gBAZKF,aAAAY,GAAA;QAAA,OAAAX,KAAA,CAAA3B,KAAA,OAAAC,SAAA;MAAA;IAAA,GAYL;IAID,IAAMsC,QAAA;MAAA,IAAAC,KAAA,GAAApD,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAW,SAAAmD,SAAA;QAAA,OAAApD,oBAAA,GAAAG,IAAA,UAAAkD,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAhD,IAAA,GAAAgD,SAAA,CAAA/C,IAAA;YAAA;cAAA,IACXjE,QAAA,CAASc,KAAA,CAAMmG,IAAA;gBAAAD,SAAA,CAAA/C,IAAA;gBAAA;cAAA;cAAA,OAAA+C,SAAA,CAAAE,MAAA,WACZlI,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;gBACpBtB,KAAA,EAAO;gBACPuB,IAAA,EAAM;cACV,CAAI;YAAA;cAIFmG,OAAA,CAAAC,EAAA,CAAGC,IAAA,CAAK;gBACNpC,IAAA,EAAM;gBACNhF,OAAA,UAAAgC,MAAA,CAAiBrC,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW,EAAE;gBACvCzD,OAAA,EAAQM,QAAA,CAASc;cACrB,CAAG;cAMD,IAAGiC,QAAA,CAASjC,KAAA,EAAM;gBACjBiC,QAAA,CAASjC,KAAA,GAAQ;cACjB;cACDd,QAAA,CAASc,KAAA,GAAQ;YAAA;YAAA;cAAA,OAAAkG,SAAA,CAAA5C,IAAA;UAAA;QAAA,GAAA0C,QAAA;MAAA,CAgBjB;MAAA,gBAtCKF,SAAA;QAAA,OAAAC,KAAA,CAAAxC,KAAA,OAAAC,SAAA;MAAA;IAAA,GAsCL;IAED,IAAMgD,SAAA;MAAA,IAAAC,KAAA,GAAA9D,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAY,SAAA6D,SAAO1G,KAAA;QAAA,OAAA4C,oBAAA,GAAAG,IAAA,UAAA4D,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA1D,IAAA,GAAA0D,SAAA,CAAAzD,IAAA;YAAA;cAMxBkD,OAAA,CAAAC,EAAA,CAAGC,IAAA,CAAK;gBACNpC,IAAA,EAAM;gBACNhF,OAAA,UAAAgC,MAAA,CAAiBrC,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW,EAAE;gBACvCzD,OAAA,EAAQoB;cACZ,CAAG;cACDX,SAAA,CAAUW,KAAA,GAAQ;YAAA;YAAA;cAAA,OAAA4G,SAAA,CAAAtD,IAAA;UAAA;QAAA,GAAAoD,QAAA;MAAA,CAYlB;MAAA,gBAvBKF,UAAAK,GAAA;QAAA,OAAAJ,KAAA,CAAAlD,KAAA,OAAAC,SAAA;MAAA;IAAA,GAuBL;IAED,IAAMJ,WAAA;MAAA,IAAA0D,KAAA,GAAAnE,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAc,SAAAkE,SAAA;QAAA,IAAA1B,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAAiE,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA/D,IAAA,GAAA+D,SAAA,CAAA9D,IAAA;YAAA;cAAA8D,SAAA,CAAA9D,IAAA;cAAA,OAEDjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,qBAAqB;gBACrDtG,OAAA,EAASA,OAAA,CAAQa,KAAA;gBACjBkH,OAAA,EAAS;cACZ,CAAG;YAAA;cAHK7B,GAAA,GAAA4B,SAAA,CAAAtB,IAAA;cAINzH,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,SAASsF,GAAG;cAExB,IAAIA,GAAA,CAAIN,IAAA,KAAS,GAAG;gBACnB3F,OAAA,CAAQY,KAAA,GAAQqF,GAAA,CAAI8B,IAAA,CAAKC,IAAA;cAE5B,OAAS;gBACNlJ,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO0G,GAAA,CAAIO,GAAA;kBACX1F,IAAA,EAAM;gBACV,CAAI;cACD;YAAA;YAAA;cAAA,OAAA+G,SAAA,CAAA3D,IAAA;UAAA;QAAA,GAAAyD,QAAA;MAAA,CACD;MAAA,gBAjBK3D,YAAA;QAAA,OAAA0D,KAAA,CAAAvD,KAAA,OAAAC,SAAA;MAAA;IAAA,GAiBL;IAED,IAAM6D,aAAA,GAAgBnJ,aAAA,CAAAC,GAAA,CAAI,EAAE;IAC5B,IAAMmJ,gBAAA;MAAA,IAAAC,KAAA,GAAA5E,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAmB,SAAA2E,SAAA;QAAA,IAAAnC,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAA0E,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAxE,IAAA,GAAAwE,SAAA,CAAAvE,IAAA;YAAA;cAAAuE,SAAA,CAAAvE,IAAA;cAAA,OAENjF,aAAA,CAAG2B,KAAA,CAAC2F,KAAA,CAAMC,IAAA,CAAK,0BAA0B,EAAE;YAAA;cAAvDJ,GAAA,GAAAqC,SAAA,CAAA/B,IAAA;cACNzH,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,SAASsF,GAAG;cAExB,IAAIA,GAAA,CAAIN,IAAA,KAAS,GAAG;gBACnBsC,aAAA,CAAcrH,KAAA,GAAQqF,GAAA,CAAI8B,IAAA;cAE1B;YAAA;YAAA;cAAA,OAAAO,SAAA,CAAApE,IAAA;UAAA;QAAA,GAAAkE,QAAA;MAAA,CACD;MAAA,gBATKF,iBAAA;QAAA,OAAAC,KAAA,CAAAhE,KAAA,OAAAC,SAAA;MAAA;IAAA,GASL;IAGD,IAAMH,WAAA;MAAA,IAAAsE,KAAA,GAAAhF,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAc,SAAA+E,SAAA;QAAA,IAAAvC,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAA8E,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAA5E,IAAA,GAAA4E,SAAA,CAAA3E,IAAA;YAAA;cAAA2E,SAAA,CAAA3E,IAAA;cAAA,OACDjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,iBAAiB;gBACjDtG,OAAA,EAASA,OAAA,CAAQa;cACpB,CAAG;YAAA;cAFKqF,GAAA,GAAAyC,SAAA,CAAAnC,IAAA;cAGNzH,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAY,SAASsF,GAAG;cAExB,IAAIA,GAAA,CAAIN,IAAA,KAAS,GAAG;gBACnBjG,QAAA,CAASkB,KAAA,GAAQqF,GAAA,CAAI8B,IAAA;gBACrBY,WAAA,EAAa;gBACbtG,WAAA,CAAY4D,GAAA,CAAI8B,IAAA,CAAKzF,IAAI;cAEzB;YAAA;YAAA;cAAA,OAAAoG,SAAA,CAAAxE,IAAA;UAAA;QAAA,GAAAsE,QAAA;MAAA,CACD;MAAA,gBAZKvE,YAAA;QAAA,OAAAsE,KAAA,CAAApE,KAAA,OAAAC,SAAA;MAAA;IAAA,GAYL;IAED,IAAMwE,gBAAA;MAAA,IAAAC,KAAA,GAAAtF,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAmB,SAAAqF,SAAOrE,GAAA;QAAA,IAAAwB,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAAoF,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAlF,IAAA,GAAAkF,SAAA,CAAAjF,IAAA;YAAA;cAAA,MAE3BU,GAAA,CAAIkB,IAAA,IAAQ;gBAAAqD,SAAA,CAAAjF,IAAA;gBAAA;cAAA;cAAA,OAAAiF,SAAA,CAAAhC,MAAA,WACR;YAAA;cAAA,KAEJvC,GAAA,CAAIC,IAAA;gBAAAsE,SAAA,CAAAjF,IAAA;gBAAA;cAAA;cACPkF,IAAA,CAAKxE,GAAA,CAAIC,IAAA,CAAKkB,QAAQ;cAAA,OAAAoD,SAAA,CAAAhC,MAAA;YAAA;cAAA,KAInBtH,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAK4G,SAAA;gBAAAF,SAAA,CAAAjF,IAAA;gBAAA;cAAA;cAAA,OAAAiF,SAAA,CAAAhC,MAAA,WAChB;YAAA;cAAAgC,SAAA,CAAAjF,IAAA;cAAA,OAGUjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,iBAAiB;gBACjD8C,OAAA,EAAS;kBACRpJ,OAAA,EAASL,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW,EAAA;kBAC7BqD,SAAA,EAAW7B,GAAA,CAAIxB,EAAA;kBACfmG,YAAA,EAAcxJ,cAAA,CAAegB;kBAAA;gBAC7B;cACJ,CAAG;YAAA;cANKqF,GAAA,GAAA+C,SAAA,CAAAzC,IAAA;cAQN,IAAIN,GAAA,CAAIN,IAAA,KAAS,GAAG;gBACnB7G,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO;kBACPuB,IAAA,EAAM;gBACV,CAAI;gBAEDmG,OAAA,CAAAC,EAAA,CAAGC,IAAA,CAAK;kBACNpC,IAAA,EAAM;kBACNsE,SAAA,UAAAtH,MAAA,CAAmBrC,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW,EAAE;gBAC9C,CAAI;gBACDgB,WAAA,EAAa;cAChB,OAAS;gBACNnF,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO0G,GAAA,CAAIO,GAAA;kBACX1F,IAAA,EAAM;gBACV,CAAI;cACD;YAAA;YAAA;cAAA,OAAAkI,SAAA,CAAA9E,IAAA;UAAA;QAAA,GAAA4E,QAAA;MAAA,CACD;MAAA,gBAvCKF,iBAAAU,GAAA;QAAA,OAAAT,KAAA,CAAA1E,KAAA,OAAAC,SAAA;MAAA;IAAA,GAuCL;IACD,IAAMmF,YAAA,GAAe,SAAfA,aAAgBpG,CAAA,EAAM;MAC3BrE,aAAA,CAAA2B,KAAA,CAAI8I,YAAA,CAAa;QAChBC,IAAA,EAAM,CAACrG,CAAC;QAAA;QACRlB,OAAA,EAAS;QAAA;QACTwH,OAAA,EAAS,SAAAA,QAASxD,GAAA,EAAK,CAAE;QACzByD,IAAA,EAAM,SAAAA,KAASzD,GAAA,EAAK,CAAE;QACtB0D,QAAA,EAAU,SAAAA,SAAS1D,GAAA,EAAK,CAAE;MAC7B,CAAG;IACD;IACD,IAAM2D,WAAA,GAAc,SAAdA,YAAA,EAAoB;MACzB,IAAMtH,IAAA,GAAO5C,QAAA,CAASkB,KAAA,CAAM0B,IAAA;MAC5B,IAAIA,IAAA,CAAKnB,MAAA,KAAW,aAAa;QAEhCrC,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;UACbtB,KAAA,EAAO;UACPuB,IAAA,EAAM;QACV,CAAI;QACD,OAAO;MACP,WAAUwB,IAAA,CAAKoD,QAAA,IAAYpD,IAAA,CAAKnB,MAAA,KAAW,WAAW;QAEtD5B,KAAA,CAAMqB,KAAA,GAAQ;QACdpB,OAAA,CAAQoB,KAAA,GAAQ;QAChBnB,WAAA,CAAYmB,KAAA,GAAQ;MACpB,WAAU0B,IAAA,CAAKoD,QAAA,IAAYpD,IAAA,CAAKnB,MAAA,KAAW,eAAe;QAE1D5B,KAAA,CAAMqB,KAAA,GAAQ;QACdpB,OAAA,CAAQoB,KAAA,GAAQ;QAChBnB,WAAA,CAAYmB,KAAA,GAAQ;MACvB,OAAS;QAENrB,KAAA,CAAMqB,KAAA,GAAQ;QACdpB,OAAA,CAAQoB,KAAA,GAAQ;QAChBnB,WAAA,CAAYmB,KAAA,GAAQ;MACpB;MAEDjB,SAAA,CAAUiB,KAAA,GAAQiJ,gBAAA;MAClBxK,UAAA,CAAWuB,KAAA,GAAQ;IACnB;IAGD,IAAMiE,WAAA;MAAA,IAAAiF,KAAA,GAAAvG,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAc,SAAAsG,SAAA;QAAA,IAAA9D,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAAqG,UAAAC,SAAA;UAAA,kBAAAA,SAAA,CAAAnG,IAAA,GAAAmG,SAAA,CAAAlG,IAAA;YAAA;cAAAkG,SAAA,CAAAlG,IAAA;cAAA,OACDjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,kBAAkB;gBAClDtG,OAAA,EAASL,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW;cAChC,CAAG;YAAA;cAFKgD,GAAA,GAAAgE,SAAA,CAAA1D,IAAA;cAGN,IAAIN,GAAA,CAAIN,IAAA,KAAS,GAAG;gBACnB7G,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO;kBACPuB,IAAA,EAAM;gBACV,CAAI;cAEJ,OAAS;gBACNhC,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO0G,GAAA,CAAIO,GAAA,IAAO;kBAClB1F,IAAA,EAAM;gBACV,CAAI;cACD;YAAA;YAAA;cAAA,OAAAmJ,SAAA,CAAA/F,IAAA;UAAA;QAAA,GAAA6F,QAAA;MAAA,CACD;MAAA,gBAhBKlF,YAAA;QAAA,OAAAiF,KAAA,CAAA3F,KAAA,OAAAC,SAAA;MAAA;IAAA,GAgBL;IAED,IAAM8F,aAAA;MAAA,IAAAC,MAAA,GAAA5G,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAgB,SAAA2G,UAAA;QAAA,IAAAC,MAAA;QAAA,OAAA7G,oBAAA,GAAAG,IAAA,UAAA2G,WAAAC,UAAA;UAAA,kBAAAA,UAAA,CAAAzG,IAAA,GAAAyG,UAAA,CAAAxG,IAAA;YAAA;cAAAwG,UAAA,CAAAxG,IAAA;cAAA,OACAjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,sBAAsB;gBACzDtG,OAAA,EAASL,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW;cAChC,CAAG;YAAA;cAFKoH,MAAA,GAAAE,UAAA,CAAAhE,IAAA;cAGN,IAAI8D,MAAA,CAAO1E,IAAA,KAAS,GAAG;gBAEtB7G,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO8K,MAAA,CAAO7D,GAAA,IAAO;kBACrB1F,IAAA,EAAM;gBACV,CAAI;cACD;YAAA;YAAA;cAAA,OAAAyJ,UAAA,CAAArG,IAAA;UAAA;QAAA,GAAAkG,SAAA;MAAA,CACD;MAAA,gBAXKF,cAAA;QAAA,OAAAC,MAAA,CAAAhG,KAAA,OAAAC,SAAA;MAAA;IAAA,GAWL;IAED,IAAMoG,aAAA;MAAA,IAAAC,MAAA,GAAAlH,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAgB,SAAAiH,UAAA;QAAA,OAAAlH,oBAAA,GAAAG,IAAA,UAAAgH,WAAAC,UAAA;UAAA,kBAAAA,UAAA,CAAA9G,IAAA,GAAA8G,UAAA,CAAA7G,IAAA;YAAA;cACrBxE,KAAA,CAAMqB,KAAA,GAAQ;cACdpB,OAAA,CAAQoB,KAAA,GAAQ;cAChBnB,WAAA,CAAYmB,KAAA,GAAQ;cACpBvB,UAAA,CAAWuB,KAAA,GAAQ;cAEnBjB,SAAA,CAAUiB,KAAA,GAAQsJ,aAAA;YAAA;YAAA;cAAA,OAAAU,UAAA,CAAA1G,IAAA;UAAA;QAAA,GAAAwG,SAAA;MAAA,CAClB;MAAA,gBAPKF,cAAA;QAAA,OAAAC,MAAA,CAAAtG,KAAA,OAAAC,SAAA;MAAA;IAAA,GAOL;IAED,IAAMyG,cAAA;MAAA,IAAAC,MAAA,GAAAvH,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAiB,SAAAsH,UAAA;QAAA,IAAA9E,GAAA;QAAA,OAAAzC,oBAAA,GAAAG,IAAA,UAAAqH,WAAAC,UAAA;UAAA,kBAAAA,UAAA,CAAAnH,IAAA,GAAAmH,UAAA,CAAAlH,IAAA;YAAA;cAAA,MAElB3E,eAAA,CAAgBwB,KAAA,IAAS;gBAAAqK,UAAA,CAAAlH,IAAA;gBAAA;cAAA;cAC5BjF,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;gBACbtB,KAAA,EAAO;gBACPuB,IAAA,EAAM;cACV,CAAI;cAAA,OAAAmK,UAAA,CAAAjE,MAAA,WACM;YAAA;cAAAiE,UAAA,CAAAlH,IAAA;cAAA,OAGUjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,yBAAyB;gBACzDtG,OAAA,EAASL,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW,EAAA;gBAC7BiI,SAAA,EAAW9L,eAAA,CAAgBwB;cAC9B,CAAG;YAAA;cAHKqF,GAAA,GAAAgF,UAAA,CAAA1E,IAAA;cAIN,IAAIN,GAAA,CAAIN,IAAA,KAAS,GAAG;gBACnB7G,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO0G,GAAA,CAAIO,GAAA,IAAO;kBAClB1F,IAAA,EAAM;gBACV,CAAI;gBACDxB,YAAA,CAAasB,KAAA,GAAQ;cAGxB,OAAS;gBACN9B,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;kBACbtB,KAAA,EAAO0G,GAAA,CAAIO,GAAA,IAAO;kBAClB1F,IAAA,EAAM;gBACV,CAAI;cACD;YAAA;YAAA;cAAA,OAAAmK,UAAA,CAAA/G,IAAA;UAAA;QAAA,GAAA6G,SAAA;MAAA,CACD;MAAA,gBA5BKF,eAAA;QAAA,OAAAC,MAAA,CAAA3G,KAAA,OAAAC,SAAA;MAAA;IAAA,GA4BL;IAID,IAAMuE,WAAA;MAAA,IAAAwC,MAAA,GAAA5H,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAc,SAAA2H,UAAA;QAAA,IAAA9G,SAAA,EAAAC,aAAA;QAAA,OAAAf,oBAAA,GAAAG,IAAA,UAAA0H,WAAAC,UAAA;UAAA,kBAAAA,UAAA,CAAAxH,IAAA,GAAAwH,UAAA,CAAAvH,IAAA;YAAA;cAAA,MAGfrE,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKnB,MAAA,IAAU,eAAe,CAACzB,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAK4G,SAAA;gBAAAoC,UAAA,CAAAvH,IAAA;gBAAA;cAAA;cACrExE,KAAA,CAAMqB,KAAA,GAAQ;cACdpB,OAAA,CAAQoB,KAAA,GAAQ;cAChBnB,WAAA,CAAYmB,KAAA,GAAQ;cACpBvB,UAAA,CAAWuB,KAAA,GAAQ;cAEnBjB,SAAA,CAAUiB,KAAA,GAAQ2K,MAAA;cAAA,OAAAD,UAAA,CAAAtE,MAAA,WACX;YAAA;cAEF1C,SAAA,GAAY5E,QAAA,CAASkB,KAAA,CAAM0D,SAAA,IAAa,EAAE;cAE1CC,aAAA,GAAgBD,SAAA,CAAUE,MAAA,CAAO,UAAAC,GAAA;gBAAA,OAAOA,GAAA,CAAIC,IAAI;cAAA,GAAEC,MAAA;cACxD,IAAIL,SAAA,CAAUK,MAAA,IAAUJ,aAAA,IAAiB,CAAC7E,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAK4G,SAAA,EAAW;gBACxE3J,KAAA,CAAMqB,KAAA,GAAQ;gBACdpB,OAAA,CAAQoB,KAAA,GAAQ;gBAChBnB,WAAA,CAAYmB,KAAA,GAAQ;gBACpBvB,UAAA,CAAWuB,KAAA,GAAQ;gBAEnBjB,SAAA,CAAUiB,KAAA,GAAQ2K,MAAA;cAClB;YAAA;YAAA;cAAA,OAAAD,UAAA,CAAApH,IAAA;UAAA;QAAA,GAAAkH,SAAA;MAAA,CAED;MAAA,gBAxBKzC,YAAA;QAAA,OAAAwC,MAAA,CAAAhH,KAAA,OAAAC,SAAA;MAAA;IAAA,GAwBL;IACD,IAAMmH,MAAA,GAAS,SAATA,OAAA,EAAe;MACpBzM,aAAA,CAAA2B,KAAA,CAAIwE,SAAA,CAAU;QACbC,GAAA,EAAK;MACR,CAAG;IACD;IACD,IAAMsG,iBAAA,GAAoB,SAApBA,kBAAqBC,QAAA,EAAa;;MACvC3M,aAAA,CAAA2B,KAAA,CAAAE,KAAA,sCAAYjB,QAAA,CAASkB,KAAA,CAAM0B,IAAI;MAC/B,IAAI,GAACU,EAAA,GAAAtD,QAAA,CAASkB,KAAA,CAAM0B,IAAA,KAAf,gBAAAU,EAAA,CAAqBkG,SAAA,GAAW;QACpCpK,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;UACbtB,KAAA,EAAO;UACPuB,IAAA,EAAM;QACV,CAAI;QACD;MACA;MAED2K,QAAA,IAAYA,QAAA,EAAU;IACtB;IAED,IAAMC,YAAA,GAAe,SAAfA,aAAgB/F,IAAA,EAAS;MAC9B,IAAIA,IAAA,KAAS,UAAU,OAAO;MAC9B,IAAIA,IAAA,KAAS,OAAO,OAAO;MAC3B,IAAIA,IAAA,KAAS,WAAW,OAAO;MAC/B,IAAIA,IAAA,KAAS,SAAS,OAAO;MAC7B,IAAIA,IAAA,KAAS,UAAU,OAAOA,IAAA;MAC9B,IAAIA,IAAA,KAAS,QAAQ,OAAOA,IAAA;MAC5B,IAAIA,IAAA,KAAS,QAAQ,OAAOA,IAAA;MAC5B,IAAIA,IAAA,KAAS,QAAQ,OAAOA,IAAA;MAC5B,IAAIA,IAAA,KAAS,UAAU,OAAOA,IAAA;MAC9B,OAAO;IACP;IAWD,IAAMkE,gBAAA;MAAA,IAAA8B,MAAA,GAAApI,kBAAA,eAAAC,oBAAA,GAAAC,IAAA,CAAmB,SAAAmI,UAAA;QAAA,IAAAvB,MAAA;QAAA,OAAA7G,oBAAA,GAAAG,IAAA,UAAAkI,WAAAC,UAAA;UAAA,kBAAAA,UAAA,CAAAhI,IAAA,GAAAgI,UAAA,CAAA/H,IAAA;YAAA;cAAA+H,UAAA,CAAA/H,IAAA;cAAA,OACHjF,aAAA,CAAA2B,KAAA,CAAI2F,KAAA,CAAMC,IAAA,CAAK,kBAAkB;gBACrDtG,OAAA,EAASL,QAAA,CAASkB,KAAA,CAAM0B,IAAA,CAAKW;cAChC,CAAG;YAAA;cAFKoH,MAAA,GAAAyB,UAAA,CAAAvF,IAAA;cAAA,MAGF8D,MAAA,CAAO1E,IAAA,KAAS;gBAAAmG,UAAA,CAAA/H,IAAA;gBAAA;cAAA;cACnBjF,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;gBACbtB,KAAA,EAAO8K,MAAA,CAAO7D,GAAA,IAAO;gBACrB1F,IAAA,EAAM;cACV,CAAI;cAAA,OAAAgL,UAAA,CAAA9E,MAAA,WAEM;YAAA;cAIPlI,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;gBACbtB,KAAA,EAAO8K,MAAA,CAAO7D,GAAA,IAAO;gBACrB1F,IAAA,EAAM;cACV,CAAI;YAAA;YAAA;cAAA,OAAAgL,UAAA,CAAA5H,IAAA;UAAA;QAAA,GAAA0H,SAAA;MAAA,CAEF;MAAA,gBAnBK/B,iBAAA;QAAA,OAAA8B,MAAA,CAAAxH,KAAA,OAAAC,SAAA;MAAA;IAAA,GAmBL;IACD,IAAM6E,IAAA,GAAO,SAAPA,KAAQ8C,GAAA,EAAQ;MACrBC,qBAAA,CAAAC,OAAA,CAAQ;QACPzM,OAAA,EAASuM,GAAA;QACTtC,OAAA,EAAS,SAAAA,QAACxD,GAAA,EAAQ;UACjBnH,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;YACbtB,KAAA,EAAO0G,GAAA;YACPnF,IAAA,EAAM;UACX,CAAK;QACD;QACDoL,KAAA,EAAO,SAAAA,MAAC/I,CAAA,EAAM;UACbrE,aAAA,CAAA2B,KAAA,CAAII,SAAA,CAAU;YACbtB,KAAA,EAAO4D,CAAA;YACPrC,IAAA,EAAM;YACNqL,QAAA,EAAU;UACf,CAAK;QACD;MACJ,CAAG;IACD;IACD,IAAMC,aAAA,GAAgB,SAAhBA,cAAiBjJ,CAAA,EAAM;MAC5BrE,aAAA,CAAA2B,KAAA,CAAYE,KAAA,sCAAAwC,CAAC;MAEb,IAAI8C,GAAA,GAAMoG,IAAA,CAAKC,KAAA,CAAMnJ,CAAA,CAAE8C,GAAA,CAAI8B,IAAA,CAAKwE,OAAA,CAAQ,WAAW,EAAE,KAAK,IAAI;MAC9DpN,YAAA,CAAayB,KAAA,GAAQuC,CAAA,CAAEhC,MAAA;MACvB,IAAI8E,GAAA,CAAI8B,IAAA,CAAK7C,GAAA,EAAK;QACjB9F,eAAA,CAAgBwB,KAAA,GAAQqF,GAAA,CAAI8B,IAAA,CAAK7C,GAAA;MAKjC;IACD;IAED,IAAMsH,WAAA,GAAc,SAAdA,YAAerJ,CAAA,EAAM;MAC1BhE,YAAA,CAAayB,KAAA,GAAQuC,CAAA,CAAEhC,MAAA;MACvBrC,aAAA,CAAA2B,KAAA,CAAIgM,SAAA,CAAU;QACbjN,OAAA,EAAS6M,IAAA,CAAKK,SAAA,CAAUvJ,CAAC;MAC5B,CAAG;IACD;IAED,IAAMwJ,KAAA,GAAQ7N,aAAA,CAAGC,GAAA,CAAC,KAAK;IACvB,IAAM8D,QAAA,GAAW/D,aAAA,CAAGC,GAAA,CAAC,KAAK;IACRD,aAAA,CAAAC,GAAA,CAAI,IAAI;IAC1B,IAAM6N,WAAA,GAAc,SAAdA,YAAA,EAAoB;MACzBD,KAAA,CAAM/L,KAAA,GAAQ;IACd;IACD,IAAMiM,UAAA,GAAa,SAAbA,WAAA,EAAmB;MACxBF,KAAA,CAAM/L,KAAA,GAAQ;IACd;IACD,IAAMkM,UAAA,GAAa,SAAbA,WAAA,EAAmB;MACxBjK,QAAA,CAASjC,KAAA,GAAQ,CAACiC,QAAA,CAASjC,KAAA;MAC3B9B,aAAA,CAAA2B,KAAA,CAAIsM,YAAA,EAAc;IAIlB;IACD,IAAMC,SAAA,GAAY,SAAZA,UAAaC,IAAA,EAAS;MAC3BnO,aAAA,CAAA2B,KAAA,CAAYE,KAAA,uCAAAsM,IAAI;MAChB,IAAI,CAACpK,QAAA,CAASjC,KAAA,EAAO;MACrBd,QAAA,CAASc,KAAA,IAASqM,IAAA;IAClB;IAED,IAAMC,MAAA,GAAS,SAATA,OAAA,EAAe;MACpB,IAAI,CAACpN,QAAA,CAASc,KAAA,EAAO;MACrB,IAAIuM,MAAA,GAAS;MACb,IAAIrN,QAAA,CAASc,KAAA,CAAM+D,MAAA,GAAS,GAAG;QAC9BwI,MAAA,GAASrN,QAAA,CAASc,KAAA,CAAMwM,MAAA,CAAOtN,QAAA,CAASc,KAAA,CAAM+D,MAAA,GAAS,GAAG7E,QAAA,CAASc,KAAA,CAAM+D,MAAM,EAAE0I,MAAA,CAChF,2EAA0E,IAAK,KAAK,IAAI;MACzF;MACDvN,QAAA,CAASc,KAAA,GAAQd,QAAA,CAASc,KAAA,CAAMwM,MAAA,CAAO,GAAGtN,QAAA,CAASc,KAAA,CAAM+D,MAAA,GAASwI,MAAM;IACxE;IAGqBrO,aAAA,CAAAC,GAAA,CAAI,IAAI;IAa9B,IAAMuO,QAAA,GAAWxO,aAAA,CAAGC,GAAA,CAAC,EAAE;IAEvBD,aAAA,CAAKyO,KAAA,CACJ;MAAA,OAAMvN,OAAA,CAAQY,KAAA,CAAM+D,MAAA;IAAA,GACpB,UAAC6I,GAAA,EAAQ;MACR,IAAIA,GAAA,GAAM,GAAG;QACZF,QAAA,CAAS1M,KAAA,GAAQ,UAAU4M,GAAA,GAAM;MACjC;IACD,EACD;IAED,IAAMC,eAAA,GAAkB,SAAlBA,gBAAmBC,GAAA,EAAQ;MAC/B,IAAMC,KAAA,GAAQ7O,aAAA,CAAG2B,KAAA,CAACmN,uBAAA,EAAyB;MAC3CD,KAAA,CAAME,GAAA,qBAAA9L,MAAA,CAAwB2L,GAAG;MACjCC,KAAA,CAAMG,IAAA,EAAM;MAEZH,KAAA,CAAMI,OAAA,CAAQ;QAAA,OAAMJ,KAAA,CAAMK,OAAA,EAAS;MAAA;MACnCL,KAAA,CAAMM,OAAA,CAAQ;QAAA,OAAMN,KAAA,CAAMK,OAAA,EAAS;MAAA;IACpC;IAKDlP,aAAA,CAAAoP,SAAA,CAAU,YAAM;MACfjK,WAAA,EAAa;MACbD,WAAA,EAAa;MACbkE,gBAAA,EAAkB;MAEjBjB,OAAA,CAAAC,EAAA,CAAGiH,EAAA,CAAG,eAAe,UAAC3H,GAAA,EAAQ;QAC3B1H,aAAA,CAAY2B,KAAA,CAAAE,KAAA,0DAAmB6F,GAAA,CAAIuB,IAAI;QACvCrI,QAAA,CAASkB,KAAA,GAAQ4F,GAAA,CAAIuB,IAAA;QACxBY,WAAA,EAAa;QACbtG,WAAA,CAAYmE,GAAA,CAAIuB,IAAA,CAAKzF,IAAI;MAE5B,CAAK;MAGD2E,OAAA,CAAAC,EAAA,CAAGiH,EAAA,CAAG,QAAQ,UAAC3H,GAAA,EAAQ;QACnBxG,OAAA,CAAQY,KAAA,CAAMwN,IAAA,CAAK5H,GAAA,CAAIuB,IAAI;MAEnC,CAAO;MAEJd,OAAA,CAAAC,EAAA,CAAGiH,EAAA,CAAG,qBAAqB,UAAC3H,GAAA,EAAQ;QAClC,IAAMkH,GAAA,GAAMlH,GAAA,CAAI6H,aAAA;QAChB,IAAIX,GAAA,IAAO,KAAKA,GAAA,IAAO,GAAG;UACxBD,eAAA,CAAgBC,GAAG;QACpB;MACN,CAAI;MACDzG,OAAA,CAAAC,EAAA,CAAGiH,EAAA,CAAG,gBAAe,UAAClI,GAAA,EAAM;QAE3B,IAAGA,GAAA,CAAI8B,IAAA,CAAKuG,oBAAA,EAAqB;UAChC/O,KAAA,CAAMqB,KAAA,GAAQ;UACdpB,OAAA,CAAQoB,KAAA,GAAQ;UAChBnB,WAAA,CAAYmB,KAAA,GAAQ;UACpBvB,UAAA,CAAWuB,KAAA,GAAQ;UAEnBjB,SAAA,CAAUiB,KAAA,GAAQkC,aAAA;QAClB;MAEL,CAAI;MAEDmE,OAAA,CAAAC,EAAA,CAAGiH,EAAA,CAAG,UAAU,YAAM;QACpB5O,KAAA,CAAMqB,KAAA,GAAQ;QACdpB,OAAA,CAAQoB,KAAA,GAAQ;QAChBnB,WAAA,CAAYmB,KAAA,GAAQ;QACpBvB,UAAA,CAAWuB,KAAA,GAAQ;QAEpBjB,SAAA,CAAUiB,KAAA,GAAQ,YAAM;UACtB9B,aAAA,CAAA2B,KAAA,CAAI8N,QAAA,CAAS;YAAErJ,GAAA,EAAK;UAAoB,CAAE,EACvCsJ,KAAA,CAAM,UAAAC,GAAA,EAAO;YACZ3P,aAAA,CAAA2B,KAAA,CAAAE,KAAA,yCAAc,WAAW8N,GAAG;UACtC,CAAS;QACJ;MAEL,CAAI;IAGJ,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnnCFC,EAAA,CAAGC,UAAA,CAAWC,eAAe","ignoreList":[]}