{"version":3,"file":"dungeonSelect.js","sources":["components/dungeonSelect.vue","/Users/zhizhi/Documents/HBuilderProjects/dnf/components/dungeonSelect.vue?type=component"],"sourcesContent":["<template>\r\n\t<!-- 弹窗 -->\n\t<!-- 弹窗 -->\n\t<TnPopup :model-value=\"contentShow\"  :z-index=\"20079\" width=\"100%\" height=\"100%\" borderRadius=\"16rpx\">\n\t\t<Parse v-if=\"contentShow\" v-model=\"contentShow\"  :contentId=\"contentId\"></Parse>\n\t</TnPopup>\r\n\t<!-- 标题栏 -->\r\n\t<view class=\"hd\">\r\n\t\t<text class=\"title\">泰拉车</text>\r\n\t\t<view class=\"btn-close\" @tap=\"onClose\">\r\n\t\t\t<TnIcon name=\"close\" />\r\n\t\t</view>\r\n\t</view>\r\n\t<!-- 滚动区域 -->\r\n\t<scroll-view class=\"bd\" scroll-y>\r\n\t\t<view class=\"dungeon-list\">\r\n\t\t\t<view v-if=\"ozmaDungeon\" class=\"dungeon-item\" :style=\"{ backgroundImage: `url(${ozmaDungeon.image})` }\">\r\n\t\t\t\t<!-- <view class=\"dungeon-label\">{{ ozmaDungeon.title }}</view> -->\n\t\t\t\t<view class=\"dungeon-label\" @tap=\"handleContent(4)\">查看泰拉车规则</view>\r\n\t\t\t\t<view class=\"mask mask-hidden\"></view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<!-- 内部切换 Tab -->\r\n\t\t<view class=\"inner-tab\" v-if=\"false\">\r\n\t\t\t<view v-for=\"(map, index) in currentDungeon?.maps || []\" :key=\"map.id\" class=\"inner-tab-item\"\r\n\t\t\t\t:class=\"{ active: selectedMapIndex === index }\" @tap=\"selectedMapIndex = index;selectedPosition = null\">\r\n\t\t\t\t<text>{{ map.title }}</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\t\t<!-- 当前角色 -->\r\n\t\t<view class=\"current-role\">\r\n\t\t\t<text class=\"label\">当前角色</text>\r\n\t\t\t<view class=\"role-display\" @click=\"handleSelectorClick()\">\r\n\t\t\t\t<TnAvatar :url=\"userStore.userInfo.default_hero?.hero_avatar\" size=\"70rpx\" />\r\n\t\t\t\t<text class=\"role-name\">{{userStore.userInfo.default_hero?.resist_power|| ''}}\r\n\t\t\t\t\t{{ userStore.userInfo.default_hero?.hero_name || '默认角色' }}</text>\r\n\t\t\t\t<text class=\"role-seller\" v-if=\"selectedRole.code == 'seller'\">(卖家)</text>\r\n\t\t\t\t<text class=\"role-buy\" v-if=\"selectedRole.code == 'deck' || selectedRole.code == 'team'\">(买家)</text>\r\n\t\t\t</view>\r\n\t\t</view>\n\t\t\n\t\t<view v-if=\"currentConfigOptions && currentConfigOptions.length\">\n\t\t  <view\n\t\t    class=\"form-group\"\n\t\t    v-for=\"opt in currentConfigOptions\"\n\t\t    :key=\"opt.id\"\n\t\t  >\n\t\t  <view class=\"label-with-tip\">\n\t\t  \t<text>{{ opt.label }}</text>\n\t\t  \t<TnIcon v-if=\"opt.show\" name=\"help\" style=\"margin-left: 10rpx;\" size=\"30rpx\" @tap=\"onTips(opt.tips )\" />\n\t\t  </view>\n\t\t  \n\t\t    <view class=\"options\">\n\t\t      <view\n\t\t        v-for=\"item in opt.options\"\n\t\t        :key=\"item.value\"\n\t\t        class=\"radio-item\"\n\t\t        @tap=\"selectedOptions[opt.id] = item.value\"\n\t\t      >\n\t\t\t  \n\t\t        <view class=\"radio\" :class=\"{ checked: selectedOptions[opt.id] === item.value }\">\n\t\t\t\t\t<view v-if=\"selectedOptions[opt.id] === item.value\" class=\"radio-inner\"></view>\n\t\t\t\t</view>\n\t\t        <text>{{ item.label }}</text>\n\t\t      </view>\n\t\t    </view> \n\t\t </view>\n\t\t\t</view> \n\t\t\t\r\n\r\n\t\t\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t\r\n\r\n\t\r\n\r\n\r\n\t</scroll-view>\r\n\t<!-- 红色提示 -->\r\n\r\n\t<!-- 底部按钮 -->\r\n\t<view class=\"ft\">\r\n\t\t<view class=\"warning\">\r\n\t\t\t{{selectedRole.tip}}\r\n\t\t\t<!-- 如被抢拍，申诉上传出价+被抢价（2张截图） -->\r\n\t\t</view>\r\n\t\t<view class=\"btn-group\">\r\n\t\t\t<view class=\"btn\"\n\t\t\t :class=\"selectedRole.code === 'seller' ? 'btn-primary' : 'btn-outline'\"\r\n\t\t\t\tv-if=\"selectedRole.code == 'dps' || selectedRole.code == 'seller' || selectedRole.code == 'baoche' || selectedRole.code == 'leader'\"\r\n\t\t\t\t@tap=\"createRoom\">创建房间</view>\r\n\t\t\t<view class=\"btn btn-primary\" v-if=\"selectedRole.code != 'seller'\">快速加入</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tdefineProps,\r\n\t\tcomputed,\r\n\t\twatch,\n\t\treactive,\r\n\t\tdefineEmits\r\n\t} from 'vue'\r\n\timport TnIcon from '@/uni_modules/tuniaoui-vue3/components/icon/src/icon.vue'\r\n\timport TnAvatar from '@/uni_modules/tuniaoui-vue3/components/avatar/src/avatar.vue'\n\timport TnPopup from '@/uni_modules/tuniaoui-vue3/components/popup/src/popup.vue'\n\timport Parse from \"@/components/parse.vue\"\r\n\timport {\r\n\t\tuseUserStore\r\n\t} from '@/stores/user'\r\n\t// 控制弹窗显示\r\n\tconst show = ref(true)\n\t\n\tconst contentId = ref(null)\n\tconst contentShow = ref(false)\n\tconst handleContent = (id) => {\n\t\t\tcontentId.value = id;\n\t\t\tcontentShow.value = true;\n\t\t}\n\t\n\t\r\n\t// 计算 70% 高度\r\n\tconst sys = uni.getSystemInfoSync()\r\n\tconst popupHeight = sys.windowHeight * 0.7 + 'px';\r\n\tconst userStore = useUserStore()\r\n\tconst props = defineProps({\r\n\t\tmodelValue: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false\r\n\t\t},\r\n\t\tmodeMapTree: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => []\r\n\t\t},\r\n\t\tdefaultDungeonCode: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"ozma_assault\"\r\n\t\t},\r\n\t\tdefaultMapCode: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"baoche\"\r\n\t\t},\r\n\t\tdefaultRoleCode: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"deck\"\r\n\t\t}\r\n\t})\r\n\tconst emit = defineEmits(['update:modelValue', 'confirm-select', 'confirm-share','confirm-recharge'])\r\n\tconst handleSelectorClick = () => {\r\n\t\tconsole.log(\"通知父组件\");\r\n\t\temit('confirm-select')\r\n\t}\r\n\r\n\t\n\tconst ozmaDungeon = computed(() =>\n\t  props.modeMapTree.find(d => d.code === 'ozma_assault') || {}\n\t)\n\r\n\r\n\r\n\tconst selectedDungeon = ref(0)\r\n\tconst selectedDungeonIndex = ref(0)\r\n\tconst selectedMapIndex = ref(0)\r\n\tconst selectedPosition = ref(null)\r\n\tconst currentDungeon = computed(() => props.modeMapTree[selectedDungeonIndex.value] || {})\r\n\tconst currentMap = computed(() => currentDungeon.value?.maps?.[selectedMapIndex.value] || {})\r\n\tconst currentRoles = computed(() => currentMap.value?.roles || [])\r\n\tconst configOptions = computed(() => currentDungeon.value?.config_option || {})\r\n\t// 当前选中角色对象\r\n\tconst selectedRole = computed(() =>\r\n\t\tcurrentRoles.value.find(r => r.id === selectedPosition.value) || {}\r\n\t)\r\n\r\n\tconst modeMapCode = computed(() => currentDungeon.value?.code || '')\r\n\r\n\r\n\tconst selectedClosure = ref(null)\r\n\tconst selectedHire = ref(null)\r\n\tconst selectedTeraRatio = ref(null)\r\n\tconst selectedTeraOwn = ref(null)\r\n\tconst selectedIsSolo = ref(null)\r\n\tconst selectedPrivate = ref(null)\r\n\tconst selectedSupport = ref(null)\r\n\r\n\r\n\tconst showPositionSelector = computed(() => {\r\n\t\tconst mapCode = currentMap.value?.code\r\n\t\tconst roleCode = selectedRole.value.code\r\n\t\t// 如果是特拉切地图 + 卖家，不显示\r\n\t\tif (mapCode === 'terache' && roleCode === 'seller') return false\r\n\r\n\t\t// 默认规则\r\n\t\treturn ['deck', 'team'].includes(roleCode)\r\n\t})\r\n\r\n\tconst filteredRoles = computed(() => {\r\n\t\tconst roleCode = selectedRole.value.code\r\n\t\tconst mapCode = currentMap.value?.code\r\n\t\tconst roles = currentRoles.value\r\n\r\n\t\tif (mapCode === 'terache') {\r\n\t\t\t// 如果是 terache 地图，只显示 一队 和 甲板\r\n\t\t\treturn roles.filter(r => ['team', 'deck'].includes(r.code))\r\n\t\t}\r\n\r\n\t\tif (['deck', 'team'].includes(roleCode)) {\r\n\t\t\t// 正常逻辑\r\n\t\t\treturn roles.filter(r => r.code === roleCode)\r\n\t\t}\r\n\r\n\t\treturn []\r\n\t})\r\n\r\n\r\n\tconst roleInited = ref(false)\r\n\r\n\twatch(\r\n\t\t() => selectedRole.value.code,\r\n\t\t(code) => {\r\n\t\t\tif (roleInited.value) return // 已初始化过，后续点击不影响\r\n\r\n\t\t\tconst mapCode = currentMap.value?.code\r\n\t\t\tif (mapCode === 'terache') {\r\n\t\t\t\tconst match = currentRoles.value.find(r => ['deck', 'team'].includes(r.code))\r\n\t\t\t\tif (match) selectedPosition.value = match.id\r\n\t\t\t\troleInited.value = true\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (['deck', 'team'].includes(code)) {\r\n\t\t\t\tconst match = currentRoles.value.find(r => r.code === code)\r\n\t\t\t\tif (match) selectedPosition.value = match.id\r\n\t\t\t} else {\r\n\t\t\t\tselectedPosition.value = null\r\n\t\t\t}\r\n\r\n\t\t\troleInited.value = true\r\n\t\t}, {\r\n\t\t\timmediate: true\r\n\t\t}\r\n\t)\r\n\r\n\r\n\r\n\r\n\r\n\tconst showClosureOption = computed(() =>\r\n\t\tmodeMapCode.value === \"ozma_assault\" && ['leader', 'baoche'].includes(selectedRole.value.code)\r\n\t)\r\n\r\n\tconst showHireOption = computed(() =>\r\n\t\tmodeMapCode.value === \"ozma_assault\" && ['leader', 'baoche'].includes(selectedRole.value.code)\r\n\t)\r\n\r\n\tconst showTeraOptions = computed(() => ['seller', 'deck', 'team'].includes(selectedRole.value.code))\r\n\r\n\tconst showIsSoloOption = computed(() =>\r\n\t\tmodeMapCode.value === \"ozma_assault\" && selectedRole.value.code === 'dps'\r\n\t)\r\n\t// 拥有泰拉\r\n\tconst showTeraOwnOption = computed(() => ['seller', 'deck', 'team'].includes(selectedRole.value.code)\r\n\r\n\t)\r\n\r\n\t//私密房间\r\n\tconst showPrivateOption = computed(() => ['seller'].includes(selectedRole.value.code))\r\n\t//开启辅助\r\n\tconst showEnableSupport = computed(() =>\r\n\t\tmodeMapCode.value === \"ozma_descent\" && selectedRole.value.code === 'dps'\r\n\t)\r\n\r\n\r\n\tconsole.log(currentMap.value.code);\r\n\r\n\r\n\r\n\r\n\r\n\t// 监听 modeMapTree 初始化地图/团本\r\n\t// watch(\r\n\t//   () => props.modeMapTree,\r\n\t//   (val) => {\r\n\t//     if (val.length > 0) {\r\n\t//       selectedDungeonIndex.value = 0\r\n\t//       selectedDungeon.value = val[0].id\r\n\t//       selectedMapIndex.value = 0;\r\n\t// \t  console.log(currentMap.value.code);\r\n\t//     }\r\n\t//   },\r\n\t//   { immediate: true }\r\n\t// )\r\n\tconst initialized = ref(false)\n\tconst currentConfigOptions = ref([])    // 当前显示的配置项列表\n\tconst selectedOptions = reactive({});    // 当前已选配置项的值\n\t\n\tconst initSelection = () => {\n\t  const val = props.modeMapTree\n\t  console.log('props.modeMapTree.length:', val.length)\n\t\n\t  const dungeon = val.find(d => d.code === props.defaultDungeonCode)\n\t  if (!dungeon) return\n\t\n\t  console.log('dungeon.maps:', dungeon.maps)\n\t  console.log('roles:', dungeon.maps?.[0]?.roles)\n\t\n\t  selectedDungeon.value = dungeon.id\n\t  selectedDungeonIndex.value = val.findIndex(d => d.id === dungeon.id)\n\t\n\t  const mapIndex = dungeon.maps?.findIndex(m => m.code === props.defaultMapCode)\n\t  selectedMapIndex.value = mapIndex >= 0 ? mapIndex : 0\n\t\n\t  const map = dungeon.maps?.[selectedMapIndex.value]\n\t  const role = map?.roles?.find(r => r.code === props.defaultRoleCode)\n\t  selectedPosition.value = role?.id ?? null;\n\t  \n\t  \n\t  \n\t  console.log(role);\n\t  currentConfigOptions.value = JSON.parse(JSON.stringify(role.config_options || []))\n\t  \n\t    // 每次切换角色，初始化配置项选中值\n\t    // selectedOptionsClear()  // 先清空\n\t    if (currentConfigOptions.value.length) {\n\t      currentConfigOptions.value.forEach(opt => {\n\t        // 默认选中第一个选项\n\t        selectedOptions[opt.id] = opt.options?.[0]?.value\n\t      })\n\t    }\n\t  \n\t\n\t  console.log('selectedMapIndex:', selectedMapIndex.value)\n\t  console.log('selectedPosition:', selectedPosition.value)\n\t}\n\n\r\n\n\t\n\t\n\t\n\twatch(\n\t  () => props.modeMapTree,\n\t  (val) => {\n\t    if (val.length) {\n\t      // 延迟执行，等 DOM / 数据都 ready\n\t      setTimeout(() => {\n\t        initSelection()\n\t      }, 50)\n\t    }\n\t  },\n\t  { immediate: true }\n\t)\n\r\n\tconst onSelectDungeon = (index) => {\r\n\t\tselectedDungeonIndex.value = index\r\n\t\tselectedDungeon.value = props.modeMapTree[index].id\r\n\t\tselectedMapIndex.value = 0;\r\n\t\tselectedPosition.value = null;\r\n\r\n\t}\n\t\n\tconst getPayloadConfig = ()=> {\n\t  if (!currentConfigOptions.value.length) return []\n\t  return currentConfigOptions.value.map(opt => ({\n\t    option_id: opt.id,\n\t    value: selectedOptions[opt.id]\n\t  }))\n\t}\r\n\r\n\tconst createRoom = async () => {\r\n\t\tconsole.log(props.channel);\r\n\t\tconst payload = {\r\n\t\t\tchannel: props.channel,\r\n\t\t\tmap_id: currentMap.value?.id,\r\n\t\t\trole_id: selectedPosition.value,\r\n\t\t\thero_id: 0, // 如果你有英雄选择逻辑\r\n\t\t\tconfig: getPayloadConfig()\r\n\t\t}\n\t\t\n\t\t\n\t\t\r\n\t\tconst res = await uni.$http.post('/dungeon/create', {\r\n\t\t\tpayload\r\n\t\t})\r\n\t\tconsole.log('用户信息:', res)\n\t\t\n\t\tif(res.code == 100){\n\t\t\t   emit('confirm-recharge',res.data)\n\t\t\t   return false;\n\t\t}\r\n\r\n\t\tif (res.code === 1) {\r\n\t\t\temit('update:modelValue', false)\r\n\t\t\temit('confirm-share', res.data.roomInfo)\r\n\t\t\t// modeMapTree.value = res.data\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tconst onClose = () => {\r\n\t\temit('update:modelValue', false)\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.hd {\r\n\t\tposition: relative;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 32rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.btn-close {\r\n\t\tposition: absolute;\r\n\t\tright: 24rpx;\r\n\t\ttop: 24rpx;\r\n\t}\r\n\r\n\t.bd {\r\n\t\tpadding: 0 24rpx 20rpx;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/* 团本列表 */\r\n\t.dungeon-list {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10rpx;\r\n\t\tmargin-bottom: 24rpx;\r\n\t}\r\n\r\n\t.dungeon-item {\r\n\t\tposition: relative;\r\n\t\tbackground-size: 100% 100%;\r\n\t\t/* margin: 15rpx 10rpx; */\r\n\t\theight: 280rpx;\r\n\t\tflex: 1;\r\n\t\t/* background: #fff; */\r\n\t\t/* padding: 20rpx; */\r\n\t\tborder-radius: 10rpx;\r\n\t\tcolor: #888;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.dungeon-label {\r\n\t\tposition: absolute;\r\n\t\tright: 0rpx;\r\n\t\tbottom: 5rpx;\r\n\t\tpadding: 15rpx 35rpx;\r\n\t\tfont-size: 26rpx;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.7);\r\n\t\tcolor: #fff;\r\n\t\tborder-radius: 100rpx 0rpx 0rpx 100rpx;\r\n\t}\r\n\r\n\t/* 内部 Tab */\r\n\t.inner-tab {\r\n\t\tflex-direction: row;\r\n\t\tdisplay: flex;\r\n\t\t/* border: 1rpx solid #eee; */\r\n\t\tborder-radius: 10rpx;\r\n\t\toverflow: hidden;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n\t\t/* 阴影效果 */\r\n\t}\r\n\r\n\t.inner-tab-item {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tpadding: 20rpx 0;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t/* .inner-tab-item.active {\r\n  color: #409eff;\r\n  background: #f6f8ff;\r\n} */\r\n\r\n\t.inner-tab-item text {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.inner-tab-item.active text {\r\n\t\tcolor: #007aff;\r\n\t\tfont-weight: bold;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.inner-tab-item.active text::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\tbottom: -10rpx;\r\n\t\t/* 距离文字底部的距离 */\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 5rpx;\r\n\t\tbackground: linear-gradient(90deg, #366fff 0%, #5da0fc 100%);\r\n\t\tborder-radius: 2rpx;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t.current-role {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 15rpx;\r\n\t}\r\n\r\n\t.role-name {\r\n\t\tmargin-left: 20rpx;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.role-seller {\r\n\t\tcolor: #409eff;\r\n\t}\r\n\r\n\t.role-buy {\r\n\t\tcolor: red;\r\n\t}\r\n\r\n\t.tn-icon-help {\r\n\t\tmargin-left: 10rpx;\r\n\t}\r\n\r\n\t/* 左侧标签固定宽度（可选） */\r\n\t.current-role .label {\r\n\t\t/* 如果想让左侧宽度固定，可以加上宽度 */\r\n\t\t/* width: 120rpx; */\r\n\t\tcolor: #888;\r\n\t}\r\n\r\n\t/* 右侧角色显示区不自动拉伸 */\r\n\t.current-role .role-display {\r\n\t\tflex: 0 0 auto;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* 小头像 + 名字间距 */\r\n\t.current-role .role-display tn-avatar {\r\n\t\tmargin-right: 16rpx;\r\n\t}\r\n\r\n\t/* 表单组 */\r\n\t.form-group {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\t/* 左右拉满 */\r\n\t\talign-items: center;\r\n\t\t/* 垂直居中 */\r\n\t\t/* margin-bottom: 24rpx; */\r\n\t\theight: 80rpx;\r\n\t\tcolor: #888;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t/* 标签那一块去掉 margin-bottom */\r\n\t.form-group .label-with-tip {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\r\n\t/* 让选项组靠右 */\r\n\t.form-group .options {\r\n\t\t/* 确保 options 不会被拉伸 */\r\n\t\tflex: 0 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tgap: 30rpx;\r\n\t\tcolor: #000;\r\n\t}\r\n\r\n\t.option-btn {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tpadding: 5rpx 20rpx;\r\n\t\tborder: 2rpx solid #ddd;\r\n\t\tborder-radius: 5rpx;\r\n\t\tborder-color: #3366ff;\r\n\t\tcolor: #3366ff;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.option-btn.active {\r\n\t\tbackground: #3366ff;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t/* 单选 */\r\n\t.radio-item {\r\n\t\tflex-direction: row;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.radio {\r\n\t\twidth: 38rpx;\r\n\t\theight: 38rpx;\r\n\t\tborder: 3rpx solid #ccc;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: relative;\r\n\t\tfont-size: 28rpx;\r\n\t\tmargin-right: 8rpx;\r\n\t}\r\n\r\n\t.radio.checked {\r\n\t\tborder-color: #3366ff;\r\n\t}\r\n\r\n\t.radio.checked::after {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\ttop: 6rpx;\r\n\t\tleft: 6rpx;\r\n\t\twidth: 22rpx;\r\n\t\theight: 22rpx;\r\n\t\tbackground: #3366ff;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t/* 警告 */\r\n\t.warning {\r\n\t\tcolor: #e74c3c;\r\n\t\tfont-size: 24rpx;\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tfont-weight: 500;\r\n\t}\r\n\r\n\t/* 底部按钮 */\r\n\t.ft {\r\n\t\tposition: absolute;\r\n\t\tbottom: 10rpx;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.btn-group {\r\n\t\tflex-direction: row;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 20rpx;\r\n\t\t/* padding: 20rpx 24rpx calc(20rpx + env(safe-area-inset-bottom)); */\r\n\t\tgap: 16rpx;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.btn {\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t\tpadding: 20rpx 0;\r\n\t\tborder-radius: 40rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\t/*  line-height: 100rpx;\r\n  height: 100rpx;\r\n  box-sizing: border-box; */\r\n\t}\r\n\r\n\t.btn-outline {\r\n\t\tborder: 2rpx solid #3366ff;\r\n\t\tcolor: #3366ff;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.btn-primary {\r\n\t\tbackground: #3366ff;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\r\n\t.mask {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.4);\r\n\t\t/* 白色半透明 */\r\n\t\tpointer-events: none;\r\n\t\t/* 不挡点击 */\r\n\t}\r\n\r\n\t.mask-hidden {\r\n\t\tdisplay: none;\r\n\t}\r\n</style>","import Component from '/Users/zhizhi/Documents/HBuilderProjects/dnf/components/dungeonSelect.vue'\nwx.createComponent(Component)"],"names":["ref","uni","useUserStore","computed","watch","reactive","_b","_a"],"mappings":"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"}