{"version":3,"file":"team.js","sources":["components/team.vue","/Users/zhizhi/Documents/HBuilderProjects/dnf/components/team.vue?type=component"],"sourcesContent":["<template>\n  <!-- 弹窗 -->\n    <!-- 标题栏 -->\n    <view class=\"hd\">\n      <text class=\"title\">选择团本</text>\n      <view class=\"btn-close\" @tap=\"onClose\">\n        <TnIcon name=\"close\" />\n      </view>\n    </view>\n    <!-- 滚动区域 -->\n    <scroll-view class=\"bd\" scroll-y>\n      <!-- 团本图 -->\n      <view class=\"dungeon-list\">\n        <view\n           v-for=\"(d, index) in modeMapTree\"\n          :key=\"d.id\"\n          class=\"dungeon-item\"\n          :style=\"{ backgroundImage: `url(${d.image})` }\"\n          @tap=\"onSelectDungeon(index)\"\n        >\n          <view class=\"dungeon-label\">{{ d.title }}</view>\n\t\t  <view  :class=\"['mask', selectedDungeon === d.id ? 'mask-hidden' : '']\"></view>\n        </view>\n      </view>\n\n      <!-- 内部切换 Tab -->\n\t  <view class=\"inner-tab\">\n\t    <view\n\t      v-for=\"(map, index) in currentDungeon?.maps || []\"\n\t      :key=\"map.id\"\n\t      class=\"inner-tab-item\"\n\t      :class=\"{ active: selectedMapIndex === index }\"\n\t      @tap=\"selectedMapIndex = index;selectedPosition = null\"\n\t    >\n\t      <text>{{ map.title }}</text>\n\t    </view>\n\t  </view>\n\t  \n\t  \n      <!-- 当前角色 -->\n      <view class=\"current-role\">\n        <text class=\"label\">当前角色</text>\n        <view class=\"role-display\" @click=\"handleSelectorClick()\">\n          <TnAvatar :url=\"userStore.userInfo.default_hero?.hero_avatar\" size=\"70rpx\" />\n          <text class=\"role-name\">{{userStore.userInfo.default_hero?.resist_power|| ''}} {{ userStore.userInfo.default_hero?.hero_name || '默认角色' }}</text>\n\t\t  <text class=\"role-seller\" v-if=\"selectedRole.code == 'seller'\">(卖家)</text>\n\t\t   <text class=\"role-buy\" v-if=\"selectedRole.code == 'deck' || selectedRole.code == 'team'\">(买家)</text>\n        </view>\n      </view>\n\n      <!-- 选择位置 -->\n      <view class=\"form-group\" v-if=\"!selectedRole.code != 'seller'\">\n        <text class=\"label\">选择位置</text>\n        <view class=\"options\">\n          <view\n            v-for=\"role in currentRoles\"\n            :key=\"role.id\"\n            class=\"option-btn\"\n            :class=\"{ active: selectedPosition === role.id }\"\n            @tap=\"selectedPosition = role.id\"\n          >\n            {{ role.title }} \n          </view>\n        </view>\n      </view>\n\t  \n\t  \n\t  <!-- 关闭位置 -->\n\t  <view class=\"form-group\" v-if=\"showClosureOption\">\n\t    <text class=\"label\">关闭位置</text>\n\t    <view class=\"options\">\n\t      <view\n\t        v-for=\"opt in configOptions.closure_count\"\n\t        :key=\"opt.value\"\n\t        class=\"radio-item\"\n\t        @tap=\"selectedClosure = opt.value\"\n\t      >\n\t        <view class=\"radio\" :class=\"{ checked: selectedClosure === opt.value }\" />\n\t        <text>{{ opt.label }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t  \n      <!-- 雇佣打手 -->\n      <view class=\"form-group\" v-if=\"showHireOption\">\n        <view class=\"label-with-tip\">\n          <text>雇佣打手</text>\n          <TnIcon name=\"help\" size=\"24rpx\" @tap=\"tip('雇佣打手说明')\" />\n        </view>\n        <view class=\"options\">\n          <view\n            v-for=\"opt in configOptions.hire_count\"\n            :key=\"opt.value\"\n            class=\"radio-item\"\n            @tap=\"selectedHire = opt.value\"\n          >\n            <view class=\"radio\" :class=\"{ checked: selectedHire === opt.value }\" />\n            <text>{{ opt.label }}</text>\n          </view>\n        </view>\n      </view>\n\t  \n\t  <!-- 是否一拖 -->\n\t  <view class=\"form-group\" v-if=\"showIsSoloOption\">\n\t    <text class=\"label\">是否一拖</text>\n\t    <view class=\"options\">\n\t      <view\n\t        v-for=\"opt in configOptions.is_solo\"\n\t        :key=\"opt.value\"\n\t        class=\"radio-item\"\n\t        @tap=\"selectedIsSolo = opt.value\"\n\t      >\n\t        <view class=\"radio\" :class=\"{ checked: selectedIsSolo === opt.value }\" />\n\t        <text>{{ opt.label }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t  \n\t  \n\t  <!-- 开启辅助位置 -->\n\t  <view class=\"form-group\" v-if=\"showEnableSupport\">\n\t    <text class=\"label\">开启辅助位置</text>\n\t    <view class=\"options\">\n\t      <view\n\t        v-for=\"opt in configOptions.enable_support\"\n\t        :key=\"opt.value\"\n\t        class=\"radio-item\"\n\t        @tap=\"selectedSupport = opt.value\"\n\t      >\n\t        <view class=\"radio\" :class=\"{ checked: selectedSupport === opt.value }\" />\n\t        <text>{{ opt.label }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t  \n\t  \n\t  \n\t  \n\t  <!-- 拥有泰拉 -->\n\t  <view class=\"form-group\" v-if=\"showTeraOwnOption\">\n\t\t<view class=\"label-with-tip\">\n\t\t  <text>拥有泰拉</text>\n\t\t  <TnIcon name=\"help\" size=\"24rpx\" @tap=\"tip('拥有泰拉说明')\" />\n\t\t</view>\n\t    <view class=\"options\">\n\t      <view\n\t        v-for=\"opt in configOptions.tera_own\"\n\t        :key=\"opt.value\"\n\t        class=\"radio-item\"\n\t        @tap=\"selectedTeraOwn = opt.value\"\n\t      >\n\t        <view class=\"radio\" :class=\"{ checked: selectedTeraOwn === opt.value }\" />\n\t        <text>{{ opt.label }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t  \n\t  <view class=\"form-group\" v-if=\"showTeraOptions\">\n\t  \t\t<view class=\"label-with-tip\">\n\t  \t\t  <text>泰拉比例</text>\n\t  \t\t  <TnIcon name=\"help\" size=\"24rpx\" @tap=\"tip('泰拉比例说明')\" />\n\t  \t\t</view>\n\t    <view class=\"options\">\n\t      <view\n\t        v-for=\"opt in configOptions.tera_ratio\"\n\t        :key=\"opt.value\"\n\t        class=\"radio-item\"\n\t        @tap=\"selectedTeraRatio = opt.value\"\n\t      >\n\t        <view class=\"radio\" :class=\"{ checked: selectedTeraRatio === opt.value }\" />\n\t        <text>{{ opt.label }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\t  \n\t  \n\t  <!-- 是否私密房间 -->\n\t  <view class=\"form-group\" v-if=\"showPrivateOption\">\n\t    <view class=\"label-with-tip\">\n\t      <text>私密房间</text>\n\t      <TnIcon name=\"help\" size=\"24rpx\" @tap=\"tip('私密房间说明')\" />\n\t    </view>\n\t    <view class=\"options\">\n\t      <view\n\t        v-for=\"opt in configOptions.is_private\"\n\t        :key=\"opt.value\"\n\t        class=\"radio-item\"\n\t        @tap=\"selectedPrivate = opt.value\"\n\t      >\n\t        <view class=\"radio\" :class=\"{ checked: selectedPrivate === opt.value }\" />\n\t        <text>{{ opt.label }}</text>\n\t      </view>\n\t    </view>\n\t  </view>\n\n\n    </scroll-view>\n<!-- 红色提示 -->\n      \n    <!-- 底部按钮 -->\n    <view class=\"ft\">\n\t\t<view class=\"warning\">\n\t\t\t{{selectedRole.tip}}\n\t\t <!-- 如被抢拍，申诉上传出价+被抢价（2张截图） -->\n\t\t</view>\n      <view class=\"btn-group\">\n      \t<view class=\"btn\" :class=\"selectedRole.code === 'seller' ? 'btn-primary' : 'btn-outline'\" v-if=\"selectedRole.code == 'dps' || selectedRole.code == 'seller' || selectedRole.code == 'baoche' || selectedRole.code == 'leader'\" @tap=\"createRoom\">创建房间</view>\n      \t<view class=\"btn btn-primary\" v-if=\"selectedRole.code != 'seller'\">快速加入</view>\n      </view>\n    </view>\n</template>\n\n<script setup>\nimport { ref,defineProps,computed,watch,defineEmits } from 'vue'\nimport TnIcon from '@/uni_modules/tuniaoui-vue3/components/icon/src/icon.vue'\nimport TnAvatar from '@/uni_modules/tuniaoui-vue3/components/avatar/src/avatar.vue'\nimport ws from '@/util/ws.js'\nimport {\r\n\t\tuseUserStore\r\n\t} from '@/stores/user'\n// 控制弹窗显示\nconst show = ref(true)\n// 计算 70% 高度\nconst sys = uni.getSystemInfoSync()\nconst popupHeight = sys.windowHeight * 0.7 + 'px';\nconst userStore = useUserStore()\nconst props = defineProps({\n\tmodelValue: {\n\t\ttype: Boolean,\n\t\tdefault: false\n\t},\n  modeMapTree: {\n      type: Array,\n      default: () => []\n    },\n\tchannel:{\n\t\ttype:String,\n\t\tdefault:\"wechat\"\n\t}\n})\nconst emit = defineEmits(['update:modelValue','confirm-select','confirm-share'])\nconst handleSelectorClick = ()=> {\n\tconsole.log(\"通知父组件\");\n\temit('confirm-select')\n}\n\nconst selectedDungeon = ref(0)\nconst selectedDungeonIndex = ref(0)\nconst selectedMapIndex = ref(0)\nconst selectedPosition = ref(null)\nconst currentDungeon = computed(() => props.modeMapTree[selectedDungeonIndex.value] || {})\nconst currentMap = computed(() => currentDungeon.value?.maps?.[selectedMapIndex.value] || {})\nconst currentRoles = computed(() => currentMap.value?.roles || [])\nconst configOptions = computed(() => currentDungeon.value?.config_option || {})\n// 当前选中角色对象\nconst selectedRole = computed(() =>\n  currentRoles.value.find(r => r.id === selectedPosition.value) || {}\n)\n\nconst modeMapCode = computed(() => currentDungeon.value?.code || '')\n\n\nconst selectedClosure = ref(null)\nconst selectedHire = ref(null)\nconst selectedTeraRatio = ref(null)\nconst selectedTeraOwn = ref(null)\nconst selectedIsSolo = ref(null)\nconst selectedPrivate = ref(null)\nconst selectedSupport = ref(null)\n\n\n\nconst showClosureOption = computed(() =>\n\tmodeMapCode.value === \"ozma_assault\" &&\n  ['leader', 'baoche'].includes(selectedRole.value.code)\n)\n\nconst showHireOption = computed(() =>\nmodeMapCode.value === \"ozma_assault\" &&\n  ['leader', 'baoche'].includes(selectedRole.value.code)\n)\n\nconst showTeraOptions = computed(() =>\n  ['seller', 'deck', 'team'].includes(selectedRole.value.code)\n)\n\nconst showIsSoloOption = computed(() =>\n  modeMapCode.value === \"ozma_assault\" && selectedRole.value.code === 'dps'\n)\n// 拥有泰拉\nconst showTeraOwnOption = computed(() =>\n  ['seller', 'deck', 'team'].includes(selectedRole.value.code)\n  \n)\n\n//私密房间\nconst showPrivateOption = computed(() =>\n  ['seller'].includes(selectedRole.value.code)\n)\n//开启辅助\nconst showEnableSupport = computed(() =>\n modeMapCode.value === \"ozma_descent\" && selectedRole.value.code === 'dps'\n)\n\n\nconsole.log(currentMap.value.code);\n\n\n\n\n\n// 监听 modeMapTree 初始化地图/团本\nwatch(\n  () => props.modeMapTree,\n  (val) => {\n    if (val.length > 0) {\n      selectedDungeonIndex.value = 0\n      selectedDungeon.value = val[0].id\n      selectedMapIndex.value = 0;\n\t  console.log(currentMap.value.code);\n    }\n  },\n  { immediate: true }\n)\n\n\nwatch(() => configOptions.value.closure_count, (opts) => {\n  if (opts?.length) selectedClosure.value = opts[0].value\n}, { immediate: true })\n\nwatch(() => configOptions.value.hire_count, (opts) => {\n  if (opts?.length) selectedHire.value = opts[0].value\n}, { immediate: true })\n\nwatch(() => configOptions.value.tera_ratio, (opts) => {\n  if (opts?.length) selectedTeraRatio.value = opts[0].value\n}, { immediate: true })\n\nwatch(() => configOptions.value.tera_own, (opts) => {\n  if (opts?.length) selectedTeraOwn.value = opts[0].value\n}, { immediate: true })\n\nwatch(() => configOptions.value.is_solo, (opts) => {\n  if (opts?.length) selectedIsSolo.value = opts[0].value\n}, { immediate: true })\n\n\nwatch(() => configOptions.value.is_private, (opts) => {\n  if (opts?.length) selectedPrivate.value = opts[0].value\n}, { immediate: true })\n\n\nwatch(() => configOptions.value.enable_support, (opts) => {\n  if (opts?.length) selectedSupport.value = opts[0].value\n}, { immediate: true })\n\nconst onSelectDungeon = (index) => {\n  selectedDungeonIndex.value = index\n  selectedDungeon.value = props.modeMapTree[index].id\n  selectedMapIndex.value = 0;\n  selectedPosition.value = null;\n\n}\n\n const createRoom = async () => {\n\tconsole.log(props.channel);\n  const payload = {\n\tchannel:props.channel,\n    map_id: currentMap.value?.id,\n    role_id: selectedPosition.value,\n    hero_id:  0, // 如果你有英雄选择逻辑\n    config: []\n  }\n  \n  \n  \n\n\n  // 帮你封装一个查找函数：\n  const findOptionId = (groupKey, value) => {\n    const list = configOptions.value[groupKey] || []\n    const option = list.find(item => item.value == value)\n    return option?.id || null\n  }\n  \n  // 然后改写你的逻辑：\n  if (showClosureOption.value && selectedClosure.value) {\n    const id = findOptionId('closure_count', selectedClosure.value)\n    if (id) payload.config.push(id)\n  }\n  \n  if (showHireOption.value && selectedHire.value) {\n    const id = findOptionId('hire_count', selectedHire.value)\n    if (id) payload.config.push(id)\n  }\n  \n  if (showTeraOptions.value && selectedTeraRatio.value) {\n    const id = findOptionId('tera_ratio', selectedTeraRatio.value)\n    if (id) payload.config.push(id)\n  }\n  \n  if (showTeraOwnOption.value && selectedTeraOwn.value) {\n    const id = findOptionId('tera_own', selectedTeraOwn.value)\n    if (id) payload.config.push(id)\n  }\n  \n  if (showIsSoloOption.value && selectedIsSolo.value) {\n    const id = findOptionId('is_solo', selectedIsSolo.value)\n    if (id) payload.config.push(id)\n  }\n  \n  if (showPrivateOption.value && selectedPrivate.value) {\n    const id = findOptionId('is_private', selectedPrivate.value)\n    if (id) payload.config.push(id)\n  }\n  \n  if (showEnableSupport.value && selectedSupport.value) {\n    const id = findOptionId('enable_support', selectedSupport.value)\n    if (id) payload.config.push(id)\n  }\n  \n  \n  \n  // console.log(payload.config);\n  // return false;\n  \n  \n  // if (showClosureOption.value) {\n  //   payload.config.closure_count = selectedClosure.value\n  // }\n  // if (showHireOption.value) {\n  //   payload.config.hire_count = selectedHire.value\n  // }\n  // if (showTeraOptions.value && selectedTeraRatio.value) {\n  //   payload.config.tera_ratio = selectedTeraRatio.value\n  // }\n  // if (showTeraOwnOption.value && selectedTeraOwn.value) {\n  //   payload.config.tera_own = selectedTeraOwn.value\n  // }\n  // if (showIsSoloOption.value && selectedIsSolo.value) {\n  //   payload.config.is_solo = selectedIsSolo.value\n  // }\n  // if (showPrivateOption.value && selectedPrivate.value) {\n  //   payload.config.is_private = selectedPrivate.value\n  // }\n  // if (showEnableSupport.value && selectedSupport.value) {\n  //   payload.config.enable_support = selectedSupport.value\n  // }\n  const res = await uni.$http.post('/dungeon/create',{\n\t  payload\n  })\n  console.log('用户信息:', res)\n  \n  if (res.code === 1) {\n\t  \n\t  ws.send({\n\t    type: 'join',\n\t    room_code: `room_${res.data.roomInfo.room_id}`\n\t  })\n\t  emit('update:modelValue', false)\n\t  emit('confirm-share',res.data.roomInfo)\n  \t// modeMapTree.value = res.data\n  }\n}\n\n\n\nconst onClose = () => {\n\t\temit('update:modelValue', false)\n\t}\n</script>\n\n<style scoped>\n.hd {\n  position: relative;\n  text-align: center;\n  font-size: 32rpx;\n  padding: 24rpx;\n  color: #333;\n}\n.btn-close {\n  position: absolute;\n  right: 24rpx;\n  top: 24rpx;\n}\n.bd {\n  padding: 0 24rpx 20rpx;\n  height: 100%;\n}\n/* 团本列表 */\n.dungeon-list {\n  display: flex;\n  gap: 10rpx;\n  margin-bottom: 24rpx;\n}\n.dungeon-item {\n\tposition: relative;\n\tbackground-size: 100% 100%;\n\t/* margin: 15rpx 10rpx; */\n\theight: 120rpx;\n\tflex: 1;\n\t/* background: #fff; */\n\t/* padding: 20rpx; */\n\tborder-radius: 10rpx;\n\tcolor: #888;\n\tfont-size: 24rpx;\n}\n.dungeon-label {\n  position: absolute;\n  right: 0rpx;\n  bottom: 1rpx;\n  padding: 10rpx 10rpx;\n  font-size: 26rpx;\n  background-color: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  border-radius: 10rpx 0rpx 10rpx 0rpx;\n}\n/* 内部 Tab */\n.inner-tab {\n  flex-direction: row;\n  display: flex;\n  /* border: 1rpx solid #eee; */\n  border-radius: 10rpx;\n  overflow: hidden;\n  margin-bottom: 24rpx;\nbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1); /* 阴影效果 */\n}\n.inner-tab-item {\n  flex: 1;\n  text-align: center;\n  padding: 20rpx 0;\n  color: #666;\n}\n/* .inner-tab-item.active {\n  color: #409eff;\n  background: #f6f8ff;\n} */\n\n.inner-tab-item text {\n  display: inline-block;\n  position: relative;\n}\n\n.inner-tab-item.active text {\n  color: #007aff;\n  font-weight: bold;\n  font-size: 30rpx;\n}\n\n.inner-tab-item.active text::after {\n  content: '';\n  position: absolute;\n  bottom: -10rpx; /* 距离文字底部的距离 */\n  left: 0;\n  width: 100%;\n  height: 5rpx;\n  background: linear-gradient(90deg, #366fff 0%, #5da0fc 100%);\n  border-radius: 2rpx;\n}\n\n\n\n\n.current-role {\n  display: flex;\n  justify-content: space-between; \n  align-items: center;           \n  margin-bottom: 15rpx;\n}\n.role-name{\n\tmargin-left: 20rpx;\n\tfont-size: 30rpx;\n}\n.role-seller{\n\tcolor: #409eff;\n}\n.role-buy{\n\tcolor: red;\n}\n.tn-icon-help{\n\tmargin-left: 10rpx;\n}\n\n/* 左侧标签固定宽度（可选） */\n.current-role .label {\n  /* 如果想让左侧宽度固定，可以加上宽度 */\n  /* width: 120rpx; */\n  color: #888;\n}\n\n/* 右侧角色显示区不自动拉伸 */\n.current-role .role-display {\n  flex: 0 0 auto;\n  display: flex;\n  align-items: center;\n}\n\n/* 小头像 + 名字间距 */\n.current-role .role-display tn-avatar {\n  margin-right: 16rpx;\n}\n\n/* 表单组 */\n.form-group {\n  display: flex;\n  justify-content: space-between;  /* 左右拉满 */\n  align-items: center;             /* 垂直居中 */\n  /* margin-bottom: 24rpx; */\n  height: 80rpx;\n  color: #888;\n  font-size: 28rpx;\n}\n\n/* 标签那一块去掉 margin-bottom */\n.form-group .label-with-tip {\n  margin-bottom: 0;\n}\n\n/* 让选项组靠右 */\n.form-group .options {\n  /* 确保 options 不会被拉伸 */\n  flex: 0 0 auto;\n  display: flex;\n  gap: 30rpx;\n  color: #000;\n}\n\n.option-btn {\n  flex: 1;\n  text-align: center;\n  padding: 5rpx 20rpx;\n  border: 2rpx solid #ddd;\n  border-radius: 5rpx;\n  border-color: #3366ff;\n  color: #3366ff;\n  background: #fff;\n}\n.option-btn.active {\n  background: #3366ff;\n  color: #fff;\n}\n/* 单选 */\n.radio-item {\n  flex-direction: row;\n  display: flex;\n  align-items: center;\n}\n.radio {\n  width: 38rpx;\n  height: 38rpx;\n  border: 3rpx solid #ccc;\n  border-radius: 50%;\n  position: relative;\n  font-size: 28rpx;\n  margin-right: 8rpx;\n}\n.radio.checked {\n  border-color: #3366ff;\n}\n.radio.checked::after {\n  content: \"\";\n  position: absolute;\n  top: 6rpx;\n  left: 6rpx;\n  width: 22rpx;\n  height: 22rpx;\n  background: #3366ff;\n  border-radius: 50%;\n}\n/* 警告 */\n.warning {\n  color: #e74c3c;\n  font-size: 24rpx;\n  text-align: center;\n  margin-bottom: 24rpx;\n  font-weight: 500;\n}\n/* 底部按钮 */\n.ft {\n\tposition: absolute;\n\tbottom: 10rpx;\n\twidth: 100%;\n}\n.btn-group{\n\tflex-direction: row;\n\tdisplay: flex;\n\tpadding: 20rpx;\n\t/* padding: 20rpx 24rpx calc(20rpx + env(safe-area-inset-bottom)); */\n\tgap: 16rpx;\n\tbackground: #fff;\n}\n.btn {\n  flex: 1;\n  text-align: center;\n  padding: 20rpx 0;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n/*  line-height: 100rpx;\n  height: 100rpx;\n  box-sizing: border-box; */\n}\n.btn-outline {\n  border: 2rpx solid #3366ff;\n  color: #3366ff;\n  background: #fff;\n}\n.btn-primary {\n  background: #3366ff;\n  color: #fff;\n}\n\n\n.mask {\n\t  position: absolute;\n\t  top: 0;\n\t  left: 0;\n\t  width: 100%;\n\t  height: 100%;\n\t  background-color: rgba(255, 255, 255, 0.4); /* 白色半透明 */\n\t  pointer-events: none; /* 不挡点击 */\n\t}\n\t\n\t.mask-hidden {\n\t  display: none;\n\t}\n\n\n</style>\n","import Component from '/Users/zhizhi/Documents/HBuilderProjects/dnf/components/team.vue'\nwx.createComponent(Component)"],"names":["ref","uni","useUserStore","computed","watch","ws"],"mappings":"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"}