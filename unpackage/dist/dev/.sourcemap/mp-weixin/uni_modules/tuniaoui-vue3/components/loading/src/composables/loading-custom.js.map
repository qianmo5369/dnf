{"version":3,"file":"loading-custom.js","sources":["uni_modules/tuniaoui-vue3/components/loading/src/composables/loading-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport {\n  useComponentColor,\n  useComponentSize,\n  useNamespace,\n} from '../../../../hooks'\nimport { formatDomSizeValue } from '../../../../utils'\n\nimport type { CSSProperties } from 'vue'\nimport type { LoadingProps } from '../loading'\n\nexport const useLoadingCustomStyle = (props: LoadingProps) => {\n  const ns = useNamespace('loading')\n\n  // 解析颜色\n  const [colorClass, colorStyle, updateColor] = useComponentColor(\n    toRef(props, 'color'),\n    'bg'\n  )\n\n  // 解析尺寸\n  const { sizeType } = useComponentSize(props.size)\n\n  // 加载动画所属类\n  const loadingClass = computed<string>(() => {\n    const cls: string[] = []\n    cls.push(ns.b())\n\n    // 设置尺寸\n    if (props.size && sizeType.value === 'inner')\n      cls.push(ns.m(props.size as string))\n\n    return cls.join(' ')\n  })\n  // 加载动画所属样式\n  const loadingStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    // 设置尺寸\n    if (props.size && sizeType.value === 'custom')\n      style.width = style.height = formatDomSizeValue(props.size)\n\n    return style\n  })\n\n  // 加载内容所属类\n  const loadingContentClass = computed<string>(() => {\n    const cls: string[] = []\n    cls.push(ns.b())\n\n    // 是否开启动画\n    if (props.animation) cls.push(ns.m('animation'))\n    return cls.join(' ')\n  })\n  // 加载内容所属样式\n  const loadingContentStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    // 加载颜色类型\n    if (props.type) style['--loading-color'] = `var(--tn-color-${props.type})`\n\n    // 加载内容颜色\n    if (props.color && colorClass.value) {\n      const color = props.color.replace('tn-', '')\n      style['--loading-color'] = `var(--tn-color-${color})`\n    }\n\n    // 加载内容颜色\n    if (colorStyle.value) style['--loading-color'] = colorStyle.value\n\n    // 设置动画执行时间\n    if (props.duration) style.animationDuration = `${props.duration}s`\n\n    // 设置动画执行时间函数\n    if (props.mode === 'circle' || props.mode === 'semicircle') {\n      if (props.timeFunction) style.animationTimingFunction = props.timeFunction\n    }\n    return style\n  })\n\n  return {\n    ns,\n    loadingClass,\n    loadingStyle,\n    loadingContentClass,\n    loadingContentStyle,\n    updateColor,\n  }\n}\n"],"names":["useNamespace","useComponentColor","toRef","useComponentSize","computed","formatDomSizeValue"],"mappings":";;;;;;;;AAWa,MAAA,wBAAwB,CAAC,UAAwB;AACtD,QAAA,KAAKA,+DAAa,SAAS;AAGjC,QAAM,CAAC,YAAY,YAAY,WAAW,IAAIC,uDAAA;AAAA,IAC5CC,cAAA,MAAM,OAAO,OAAO;AAAA,IACpB;AAAA,EAAA;AAIF,QAAM,EAAE,SAAa,IAAAC,sDAAA,iBAAiB,MAAM,IAAI;AAG1C,QAAA,eAAeC,cAAAA,SAAiB,MAAM;AAC1C,UAAM,MAAgB,CAAA;AAClB,QAAA,KAAK,GAAG,EAAG,CAAA;AAGX,QAAA,MAAM,QAAQ,SAAS,UAAU;AACnC,UAAI,KAAK,GAAG,EAAE,MAAM,IAAc,CAAC;AAE9B,WAAA,IAAI,KAAK,GAAG;AAAA,EAAA,CACpB;AAEK,QAAA,eAAeA,cAAAA,SAAwB,MAAM;AACjD,UAAM,QAAuB,CAAA;AAGzB,QAAA,MAAM,QAAQ,SAAS,UAAU;AACnC,YAAM,QAAQ,MAAM,SAASC,wCAAAA,mBAAmB,MAAM,IAAI;AAErD,WAAA;AAAA,EAAA,CACR;AAGK,QAAA,sBAAsBD,cAAAA,SAAiB,MAAM;AACjD,UAAM,MAAgB,CAAA;AAClB,QAAA,KAAK,GAAG,EAAG,CAAA;AAGf,QAAI,MAAM;AAAW,UAAI,KAAK,GAAG,EAAE,WAAW,CAAC;AACxC,WAAA,IAAI,KAAK,GAAG;AAAA,EAAA,CACpB;AAEK,QAAA,sBAAsBA,cAAAA,SAAwB,MAAM;AACxD,UAAM,QAAuB,CAAA;AAG7B,QAAI,MAAM;AAAM,YAAM,iBAAiB,IAAI,kBAAkB,MAAM,IAAI;AAGnE,QAAA,MAAM,SAAS,WAAW,OAAO;AACnC,YAAM,QAAQ,MAAM,MAAM,QAAQ,OAAO,EAAE;AACrC,YAAA,iBAAiB,IAAI,kBAAkB,KAAK;AAAA,IACpD;AAGA,QAAI,WAAW;AAAa,YAAA,iBAAiB,IAAI,WAAW;AAG5D,QAAI,MAAM;AAAgB,YAAA,oBAAoB,GAAG,MAAM,QAAQ;AAG/D,QAAI,MAAM,SAAS,YAAY,MAAM,SAAS,cAAc;AAC1D,UAAI,MAAM;AAAc,cAAM,0BAA0B,MAAM;AAAA,IAChE;AACO,WAAA;AAAA,EAAA,CACR;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}