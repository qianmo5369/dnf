{"version":3,"file":"use-radio.js","sources":["uni_modules/tuniaoui-vue3/components/radio/src/composables/use-radio.ts"],"sourcesContent":["import { computed, nextTick } from 'vue'\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../../constants'\nimport { useRadioCommonProps } from './use-radio-common-props'\n\nimport type { SetupContext } from 'vue'\nimport type { RadioEmits, RadioProps } from '../radio'\n\nexport const useRadio = (\n  props: RadioProps,\n  emits: SetupContext<RadioEmits>['emit']\n) => {\n  const {\n    radioGroupContext: radioGroup,\n    disabled,\n    labelDisabled,\n  } = useRadioCommonProps(props)\n\n  // 判断是否为单选组\n  const isGroup = computed(() => !!radioGroup)\n\n  const modelValue = computed<RadioProps['modelValue']>({\n    get() {\n      return isGroup.value ? radioGroup!.modelValue : props.modelValue!\n    },\n    set(val) {\n      if (isGroup.value) {\n        radioGroup!.changeEvent(val)\n      } else {\n        emits(UPDATE_MODEL_EVENT, val)\n      }\n    },\n  })\n\n  // radio标签点击事件\n  const radioClickEvent = (type: 'radio' | 'label') => {\n    if (disabled.value) return\n    if (type === 'label' && labelDisabled.value) return\n    modelValue.value = props.label\n    nextTick(() => {\n      emits(CHANGE_EVENT, props.label)\n    })\n  }\n\n  return {\n    isGroup,\n    modelValue,\n    radioClickEvent,\n  }\n}\n"],"names":["useRadioCommonProps","computed","UPDATE_MODEL_EVENT","nextTick","CHANGE_EVENT"],"mappings":";;;;AAOa,MAAA,WAAW,CACtB,OACA,UACG;AACG,QAAA;AAAA,IACJ,mBAAmB;AAAA,IACnB;AAAA,IACA;AAAA,EAAA,IACEA,8EAAAA,oBAAoB,KAAK;AAG7B,QAAM,UAAUC,cAAA,SAAS,MAAM,CAAC,CAAC,UAAU;AAE3C,QAAM,aAAaA,cAAAA,SAAmC;AAAA,IACpD,MAAM;AACJ,aAAO,QAAQ,QAAQ,WAAY,aAAa,MAAM;AAAA,IACxD;AAAA,IACA,IAAI,KAAK;AACP,UAAI,QAAQ,OAAO;AACjB,mBAAY,YAAY,GAAG;AAAA,MAAA,OACtB;AACL,cAAMC,yCAAAA,oBAAoB,GAAG;AAAA,MAC/B;AAAA,IACF;AAAA,EAAA,CACD;AAGK,QAAA,kBAAkB,CAAC,SAA4B;AACnD,QAAI,SAAS;AAAO;AAChB,QAAA,SAAS,WAAW,cAAc;AAAO;AAC7C,eAAW,QAAQ,MAAM;AACzBC,kBAAAA,WAAS,MAAM;AACP,YAAAC,yCAAA,cAAc,MAAM,KAAK;AAAA,IAAA,CAChC;AAAA,EAAA;AAGI,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}