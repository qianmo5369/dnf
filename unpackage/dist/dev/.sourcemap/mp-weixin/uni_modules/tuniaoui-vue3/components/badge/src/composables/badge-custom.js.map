{"version":3,"file":"badge-custom.js","sources":["uni_modules/tuniaoui-vue3/components/badge/src/composables/badge-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport {\n  useComponentColor,\n  useComponentSize,\n  useNamespace,\n} from '../../../../hooks'\nimport { formatDomSizeValue, isEmpty } from '../../../../utils'\nimport { useBadge } from './use-badge'\n\nimport type { CSSProperties } from 'vue'\nimport type { BadgeProps } from '../badge'\n\nexport const useBadgeCustomStyle = (props: BadgeProps) => {\n  const ns = useNamespace('badge')\n  const contentNs = useNamespace('badge-content')\n\n  const { contentType } = useBadge(props)\n\n  // 解析背景颜色\n  const [bgColorClass, bgColorStyle] = useComponentColor(\n    toRef(props, 'bgColor'),\n    'bg'\n  )\n  // 解析文字颜色\n  const [textColorClass, textColorStyle] = useComponentColor(\n    toRef(props, 'textColor'),\n    'text'\n  )\n  // 解析尺寸大小\n  const { sizeType } = useComponentSize(props.size)\n\n  // 徽标内容对应的类\n  const badgeContentClass = computed<string>(() => {\n    const cls: string[] = []\n    cls.push(contentNs.b())\n\n    // 点徽标\n    if (props.dot) cls.push(contentNs.m('dot'))\n    // 图标徽标\n    if (contentType.value === 'icon') cls.push(contentNs.m('icon'))\n\n    // 绝对定位\n    if (props.absolute) {\n      cls.push(contentNs.e('absolute'))\n      if (props.absoluteCenter) cls.push(contentNs.em('absolute', 'center'))\n    }\n\n    // 设置类型颜色\n    if (props.type) cls.push(`tn-type-${props.type}_bg`)\n\n    // 背景颜色\n    if (bgColorClass.value) cls.push(bgColorClass.value)\n\n    // 字体颜色\n    if (textColorClass.value) cls.push(textColorClass.value)\n\n    // 尺寸大小\n    if (props.size && sizeType.value === 'inner')\n      cls.push(contentNs.m(props.size as string))\n\n    // 加粗字体\n    if (props.bold) cls.push('tn-text-bold')\n\n    if (props.customClass) cls.push(props.customClass)\n    return cls.join(' ')\n  })\n\n  // 徽标对应的样式\n  const badgeContentStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n\n    // 背景颜色\n    if (bgColorStyle.value) style.backgroundColor = bgColorStyle.value\n\n    // 字体颜色\n    if (textColorStyle.value) style.color = textColorStyle.value\n\n    // 尺寸大小\n    if (\n      props.size &&\n      (sizeType.value === 'custom' || contentType.value === 'icon')\n    )\n      style.width = style.height = formatDomSizeValue(props.size)\n\n    // 字体尺寸\n    if (props.fontSize) style.fontSize = formatDomSizeValue(props.fontSize)\n\n    // 绝对定位是徽标偏移量\n    if (props.absolutePosition.top)\n      style.top = formatDomSizeValue(props.absolutePosition.top)\n    if (props.absolutePosition.right)\n      style.right = formatDomSizeValue(props.absolutePosition.right)\n    if (!isEmpty(props.customStyle)) {\n      Object.assign(style, props.customStyle)\n    }\n    return style\n  })\n\n  return {\n    ns,\n    contentNs,\n    badgeContentClass,\n    badgeContentStyle,\n  }\n}\n"],"names":["useNamespace","useBadge","useComponentColor","toRef","useComponentSize","computed","formatDomSizeValue","isEmpty"],"mappings":";;;;;;;;;;AAYa,MAAA,sBAAsB,CAAC,UAAsB;AAClD,QAAA,KAAKA,+DAAa,OAAO;AACzB,QAAA,YAAYA,+DAAa,eAAe;AAE9C,QAAM,EAAE,YAAA,IAAgBC,mEAAA,SAAS,KAAK;AAGhC,QAAA,CAAC,cAAc,YAAY,IAAIC,uDAAA;AAAA,IACnCC,cAAA,MAAM,OAAO,SAAS;AAAA,IACtB;AAAA,EAAA;AAGI,QAAA,CAAC,gBAAgB,cAAc,IAAID,uDAAA;AAAA,IACvCC,cAAA,MAAM,OAAO,WAAW;AAAA,IACxB;AAAA,EAAA;AAGF,QAAM,EAAE,SAAa,IAAAC,sDAAA,iBAAiB,MAAM,IAAI;AAG1C,QAAA,oBAAoBC,cAAAA,SAAiB,MAAM;AAC/C,UAAM,MAAgB,CAAA;AAClB,QAAA,KAAK,UAAU,EAAG,CAAA;AAGtB,QAAI,MAAM;AAAK,UAAI,KAAK,UAAU,EAAE,KAAK,CAAC;AAE1C,QAAI,YAAY,UAAU;AAAQ,UAAI,KAAK,UAAU,EAAE,MAAM,CAAC;AAG9D,QAAI,MAAM,UAAU;AAClB,UAAI,KAAK,UAAU,EAAE,UAAU,CAAC;AAChC,UAAI,MAAM;AAAgB,YAAI,KAAK,UAAU,GAAG,YAAY,QAAQ,CAAC;AAAA,IACvE;AAGA,QAAI,MAAM;AAAM,UAAI,KAAK,WAAW,MAAM,IAAI,KAAK;AAGnD,QAAI,aAAa;AAAW,UAAA,KAAK,aAAa,KAAK;AAGnD,QAAI,eAAe;AAAW,UAAA,KAAK,eAAe,KAAK;AAGnD,QAAA,MAAM,QAAQ,SAAS,UAAU;AACnC,UAAI,KAAK,UAAU,EAAE,MAAM,IAAc,CAAC;AAG5C,QAAI,MAAM;AAAM,UAAI,KAAK,cAAc;AAEvC,QAAI,MAAM;AAAiB,UAAA,KAAK,MAAM,WAAW;AAC1C,WAAA,IAAI,KAAK,GAAG;AAAA,EAAA,CACpB;AAGK,QAAA,oBAAoBA,cAAAA,SAAwB,MAAM;AACtD,UAAM,QAAuB,CAAA;AAG7B,QAAI,aAAa;AAAO,YAAM,kBAAkB,aAAa;AAG7D,QAAI,eAAe;AAAO,YAAM,QAAQ,eAAe;AAGvD,QACE,MAAM,SACL,SAAS,UAAU,YAAY,YAAY,UAAU;AAEtD,YAAM,QAAQ,MAAM,SAASC,wCAAAA,mBAAmB,MAAM,IAAI;AAG5D,QAAI,MAAM;AAAgB,YAAA,WAAWA,wCAAAA,mBAAmB,MAAM,QAAQ;AAGtE,QAAI,MAAM,iBAAiB;AACzB,YAAM,MAAMA,wCAAA,mBAAmB,MAAM,iBAAiB,GAAG;AAC3D,QAAI,MAAM,iBAAiB;AACzB,YAAM,QAAQA,wCAAA,mBAAmB,MAAM,iBAAiB,KAAK;AAC/D,QAAI,CAACC,qCAAA,QAAQ,MAAM,WAAW,GAAG;AACxB,aAAA,OAAO,OAAO,MAAM,WAAW;AAAA,IACxC;AACO,WAAA;AAAA,EAAA,CACR;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}