{"version":3,"file":"avatar.js","sources":["uni_modules/tuniaoui-vue3/components/avatar/src/avatar.ts","uni_modules/tuniaoui-vue3/components/avatar/src/avatar.vue","/Users/zhizhi/Documents/HBuilderProjects/dnf/uni_modules/tuniaoui-vue3/components/avatar/src/avatar.vue?type=component"],"sourcesContent":["import { useComponentBoolean } from '../../base/composables/use-component-common-props'\nimport { buildProps, definePropType } from '../../../utils'\nimport { componentImgModes, componentTypes } from '../../../constants'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type { BadgeProps } from '../../badge'\nimport type { IconProps } from '../../icon'\n\n/**\n * @description 头像形状\n */\nexport const avatarShape = ['circle', 'square'] as const\n\n/**\n * @description 图标参数配置\n */\nexport interface AvatarIconProps {\n  /**\n   * @description 图标颜色\n   */\n  color?: IconProps['color']\n  /**\n   * @description 图标大小\n   */\n  size?: IconProps['size']\n  /**\n   * @description 图标加粗\n   */\n  bold?: IconProps['bold']\n}\n\n/**\n * @description 徽标参数属性\n */\nexport type AvatarBadgeProps = Partial<\n  Pick<\n    BadgeProps,\n    | 'max'\n    | 'type'\n    | 'size'\n    | 'bgColor'\n    | 'textColor'\n    | 'fontSize'\n    | 'bold'\n    | 'dot'\n    | 'absolute'\n    | 'absolutePosition'\n    | 'absoluteCenter'\n  >\n>\n\nexport const avatarProps = buildProps({\n  /**\n   * @description 头像地址(url地址和绝对地址)\n   */\n  url: String,\n  /**\n   * @descripttion 头像图标\n   */\n  icon: String,\n  /**\n   * @description 头像图标配置\n   */\n  iconConfig: {\n    type: definePropType<AvatarIconProps>(Object),\n    default: () => ({}),\n  },\n  /**\n   * @description 头像颜色类型\n   */\n  type: {\n    type: String,\n    values: componentTypes,\n    default: '',\n  },\n  /**\n   * @description 头像大小\n   */\n  size: {\n    type: [String, Number],\n  },\n  /**\n   * @description 头像形状\n   */\n  shape: {\n    type: String,\n    values: avatarShape,\n    default: 'circle',\n  },\n  /**\n   * @description 头像图片模式\n   */\n  imgMode: {\n    type: String,\n    values: componentImgModes,\n    default: 'aspectFill',\n  },\n  /**\n   * @description 背景颜色\n   */\n  bgColor: String,\n  /**\n   * @description 显示边框\n   */\n  border: useComponentBoolean,\n  /**\n   * @description 边框颜色\n   */\n  borderColor: String,\n  /**\n   * @description 是否加粗边框\n   */\n  borderBold: useComponentBoolean,\n  /**\n   * @description 显示阴影\n   */\n  shadow: useComponentBoolean,\n  /**\n   * @description 阴影颜色\n   */\n  shadowColor: String,\n  /**\n   * @description 角标内容\n   */\n  badge: {\n    type: [String, Number],\n  },\n  /**\n   * @description 角标配置\n   */\n  badgeConfig: {\n    type: definePropType<AvatarBadgeProps>(Object),\n    default: () => ({}),\n  },\n})\nexport const avatarEmits = {\n  /**\n   * @description 点击事件\n   */\n  click: () => true,\n}\n\nexport type AvatarProps = ExtractPropTypes<typeof avatarProps>\nexport type AvatarEmits = typeof avatarEmits\n","<script lang=\"ts\" setup>\nimport TnIcon from '../../icon/src/icon.vue'\nimport TnBadge from '../../badge/src/badge.vue'\nimport { avatarEmits, avatarProps } from './avatar'\n\nimport {\n  useAvatar,\n  useAvatarBadgeProps,\n  useAvatarCustomStyle,\n  useAvatarIconConfig,\n  useAvatarProps,\n} from './composables'\n\nconst props = defineProps(avatarProps)\nconst emits = defineEmits(avatarEmits)\n\nconst { componentId, avatarGroupIndex, avatarWidth, avatarClick } = useAvatar(\n  props,\n  emits\n)\nconst { ns, avatarClass, avatarStyle } = useAvatarCustomStyle(\n  props,\n  avatarGroupIndex,\n  avatarWidth\n)\nconst { imgMode } = useAvatarProps(props)\nconst { iconSize, iconColor, iconBold } = useAvatarIconConfig(props.iconConfig)\nconst { badgeConfig } = useAvatarBadgeProps(props)\n</script>\n\n<template>\n  <view\n    :id=\"componentId\"\n    :class=\"[avatarClass]\"\n    :style=\"avatarStyle\"\n    @tap=\"avatarClick\"\n  >\n    <!-- 图片头像 -->\n    <view v-if=\"url\" :class=\"[ns.e('image')]\">\n      <image class=\"image\" :src=\"url\" :mode=\"imgMode\" />\n    </view>\n    <!-- 图标头像 -->\n    <view v-else-if=\"icon\" :class=\"[ns.e('icon')]\">\n      <TnIcon\n        :name=\"icon\"\n        :color=\"iconColor\"\n        :size=\"iconSize\"\n        :bold=\"iconBold\"\n      />\n    </view>\n    <!-- 自定义 -->\n    <view v-else :class=\"[ns.e('custom')]\">\n      <slot />\n    </view>\n    <!-- 角标 -->\n    <TnBadge v-bind=\"badgeConfig\" />\n  </view>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../../../theme-chalk/src/avatar.scss';\n</style>\n","import Component from '/Users/zhizhi/Documents/HBuilderProjects/dnf/uni_modules/tuniaoui-vue3/components/avatar/src/avatar.vue'\nwx.createComponent(Component)"],"names":["buildProps","definePropType","componentTypes","componentImgModes","useComponentBoolean","useAvatar","useAvatarCustomStyle","useAvatarProps","useAvatarIconConfig","useAvatarBadgeProps"],"mappings":";;;;;;;;;;;;;AAWa,MAAA,cAAc,CAAC,UAAU,QAAQ;AAwCvC,MAAM,cAAcA,iDAAAA,WAAW;AAAA;AAAA;AAAA;AAAA,EAIpC,KAAK;AAAA;AAAA;AAAA;AAAA,EAIL,MAAM;AAAA;AAAA;AAAA;AAAA,EAIN,YAAY;AAAA,IACV,MAAMC,gEAAgC,MAAM;AAAA,IAC5C,SAAS,OAAO,CAAA;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM;AAAA,IACJ,MAAM;AAAA,IACN,QAAQC,yCAAA;AAAA,IACR,SAAS;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM;AAAA,IACJ,MAAM,CAAC,QAAQ,MAAM;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAIA,OAAO;AAAA,IACL,MAAM;AAAA,IACN,QAAQ;AAAA,IACR,SAAS;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,SAAS;AAAA,IACP,MAAM;AAAA,IACN,QAAQC,2CAAA;AAAA,IACR,SAAS;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,SAAS;AAAA;AAAA;AAAA;AAAA,EAIT,QAAQC,mFAAA;AAAA;AAAA;AAAA;AAAA,EAIR,aAAa;AAAA;AAAA;AAAA;AAAA,EAIb,YAAYA,mFAAA;AAAA;AAAA;AAAA;AAAA,EAIZ,QAAQA,mFAAA;AAAA;AAAA;AAAA;AAAA,EAIR,aAAa;AAAA;AAAA;AAAA;AAAA,EAIb,OAAO;AAAA,IACL,MAAM,CAAC,QAAQ,MAAM;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAIA,aAAa;AAAA,IACX,MAAMH,gEAAiC,MAAM;AAAA,IAC7C,SAAS,OAAO,CAAA;AAAA,EAClB;AACF,CAAC;AACM,MAAM,cAAc;AAAA;AAAA;AAAA;AAAA,EAIzB,OAAO,MAAM;AACf;;;;AC3IA,MAAA,SAAmB,MAAA;AACnB,MAAA,UAAoB,MAAA;;;;;;AAWpB,UAAM,QAAQ;AACd,UAAM,QAAQ;AAEd,UAAM,EAAE,aAAa,kBAAkB,aAAa,YAAgB,IAAAI,qEAAA;AAAA,MAClE;AAAA,MACA;AAAA,IAAA;AAEF,UAAM,EAAE,IAAI,aAAa,YAAgB,IAAAC,wEAAA;AAAA,MACvC;AAAA,MACA;AAAA,MACA;AAAA,IAAA;AAEF,UAAM,EAAE,QAAA,IAAYC,0EAAA,eAAe,KAAK;AACxC,UAAM,EAAE,UAAU,WAAW,SAAa,IAAAC,kGAAoB,MAAM,UAAU;AAC9E,UAAM,EAAE,YAAA,IAAgBC,+EAAA,oBAAoB,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BjD,GAAG,gBAAgB,SAAS;"}