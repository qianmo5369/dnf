{"version":3,"file":"badge.js","sources":["uni_modules/tuniaoui-vue3/components/badge/src/badge.ts","uni_modules/tuniaoui-vue3/components/badge/src/badge.vue","/Users/zhizhi/Documents/HBuilderProjects/dnf/uni_modules/tuniaoui-vue3/components/badge/src/badge.vue?type=component"],"sourcesContent":["import {\n  useComponentCustomStyleProp,\n  useComponentIndexProp,\n} from '../../base/composables/use-component-common-props'\nimport { buildProps, definePropType } from '../../../utils'\nimport { componentTypes } from '../../../constants'\n\nimport type { ExtractPropTypes } from 'vue'\nimport type { ComponentIndex } from '../../base/composables/use-component-common-props'\n\n/**\n * @description 绝对定位的位置配置\n */\nexport interface BadgeAbsolutePositionConfig {\n  /**\n   * @description 上边距\n   */\n  top?: string | number\n  /**\n   * @description 右边距\n   */\n  right?: string | number\n}\n\nexport const badgeProps = buildProps({\n  /**\n   * @description 徽标内容，可以是数字或者字符串，当为数字时，超过max会显示{max}+，以icon-开头则显示图标\n   */\n  value: {\n    type: [String, Number],\n  },\n  /**\n   * @description 徽标内容最大值，在value为number时有效，超过最大值会显示{max}+\n   */\n  max: {\n    type: [String, Number],\n  },\n  /**\n   * @description 徽标颜色类型\n   */\n  type: {\n    type: String,\n    values: componentTypes,\n    default: 'primary',\n  },\n  /**\n   * @description 徽标背景颜色, 以tn开头则使用图鸟内置的颜色\n   */\n  bgColor: String,\n  /**\n   * @description 徽标文字颜色, 以tn开头则使用图鸟内置的颜色\n   */\n  textColor: String,\n  /**\n   * @description 徽标大小\n   */\n  size: {\n    type: [String, Number],\n  },\n  /**\n   * @description 字体大小\n   */\n  fontSize: {\n    type: [String, Number],\n  },\n  /**\n   * @description 徽标加粗\n   */\n  bold: Boolean,\n  /**\n   * @description 自定义徽标样式\n   */\n  customStyle: useComponentCustomStyleProp,\n  /**\n   * @description 自定义徽标类\n   */\n  customClass: String,\n  /**\n   * @description 是否显示点徽标\n   */\n  dot: Boolean,\n  /**\n   * @description 是否绝对定位徽标\n   */\n  absolute: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description 绝对定位的位置\n   */\n  absolutePosition: {\n    type: definePropType<BadgeAbsolutePositionConfig>(Object),\n    default: () => ({}),\n  },\n  /**\n   * @description 绝对居中对齐\n   */\n  absoluteCenter: {\n    type: Boolean,\n    default: true,\n  },\n  /**\n   * @description 点击标识\n   */\n  index: useComponentIndexProp,\n})\nexport const badgeEmits = {\n  /**\n   * @description 点击事件\n   */\n  click: (index: ComponentIndex) =>\n    typeof index === 'number' || typeof index === 'string',\n}\n\nexport type BadgeProps = ExtractPropTypes<typeof badgeProps>\nexport type BadgeEmits = typeof badgeEmits\n","<script lang=\"ts\" setup>\nimport { computed, useSlots } from 'vue'\nimport TnIcon from '../../icon/src/icon.vue'\nimport { badgeEmits, badgeProps } from './badge'\nimport { useBadge, useBadgeCustomStyle } from './composables'\n\nconst props = defineProps(badgeProps)\nconst emits = defineEmits(badgeEmits)\n\nconst slots = useSlots()\n\nconst { ns, contentNs, badgeContentClass, badgeContentStyle } =\n  useBadgeCustomStyle(props)\nconst { showBadge, contentType, content, badgeClick } = useBadge(props, emits)\n\n// badge所属类\nconst badgeClass = computed<string>(() => {\n  const cls: string[] = []\n  cls.push(ns.b())\n  if (!slots?.default) {\n    // 绝对定位\n    if (props.absolute) {\n      cls.push(ns.e('absolute'))\n      if (props.absoluteCenter) cls.push(ns.em('absolute', 'center'))\n    }\n  }\n  return cls.join(' ')\n})\n</script>\n\n<template>\n  <view :class=\"[badgeClass]\">\n    <slot />\n    <!-- 徽标 -->\n    <view\n      v-if=\"showBadge\"\n      :class=\"[badgeContentClass]\"\n      :style=\"badgeContentStyle\"\n      @tap.stop=\"badgeClick\"\n    >\n      <template v-if=\"content\">\n        <TnIcon v-if=\"contentType === 'icon'\" :name=\"content\" />\n        <span v-else :class=\"`${contentNs.e('data')}`\">{{ content }}</span>\n      </template>\n    </view>\n  </view>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '../../../theme-chalk/src/badge.scss';\n</style>\n","import Component from '/Users/zhizhi/Documents/HBuilderProjects/dnf/uni_modules/tuniaoui-vue3/components/badge/src/badge.vue'\nwx.createComponent(Component)"],"names":["buildProps","componentTypes","useComponentCustomStyleProp","definePropType","useComponentIndexProp","useSlots","useBadgeCustomStyle","useBadge","computed"],"mappings":";;;;;;;;AAwBO,MAAM,aAAaA,iDAAAA,WAAW;AAAA;AAAA;AAAA;AAAA,EAInC,OAAO;AAAA,IACL,MAAM,CAAC,QAAQ,MAAM;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAIA,KAAK;AAAA,IACH,MAAM,CAAC,QAAQ,MAAM;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM;AAAA,IACJ,MAAM;AAAA,IACN,QAAQC,yCAAA;AAAA,IACR,SAAS;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,SAAS;AAAA;AAAA;AAAA;AAAA,EAIT,WAAW;AAAA;AAAA;AAAA;AAAA,EAIX,MAAM;AAAA,IACJ,MAAM,CAAC,QAAQ,MAAM;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAIA,UAAU;AAAA,IACR,MAAM,CAAC,QAAQ,MAAM;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA,EAIA,MAAM;AAAA;AAAA;AAAA;AAAA,EAIN,aAAaC,mFAAA;AAAA;AAAA;AAAA;AAAA,EAIb,aAAa;AAAA;AAAA;AAAA;AAAA,EAIb,KAAK;AAAA;AAAA;AAAA;AAAA,EAIL,UAAU;AAAA,IACR,MAAM;AAAA,IACN,SAAS;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,kBAAkB;AAAA,IAChB,MAAMC,gEAA4C,MAAM;AAAA,IACxD,SAAS,OAAO,CAAA;AAAA,EAClB;AAAA;AAAA;AAAA;AAAA,EAIA,gBAAgB;AAAA,IACd,MAAM;AAAA,IACN,SAAS;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAIA,OAAOC,mFAAA;AACT,CAAC;AACM,MAAM,aAAa;AAAA;AAAA;AAAA;AAAA,EAIxB,OAAO,CAAC,UACN,OAAO,UAAU,YAAY,OAAO,UAAU;AAClD;;;;AC/GA,MAAA,SAAmB,MAAA;;;;;;AAInB,UAAM,QAAQ;AACd,UAAM,QAAQ;AAEd,UAAM,QAAQC,cAAAA;AAEd,UAAM,EAAE,IAAI,WAAW,mBAAmB,sBACxCC,sEAAAA,oBAAoB,KAAK;AACrB,UAAA,EAAE,WAAW,aAAa,SAAS,eAAeC,mEAAA,SAAS,OAAO,KAAK;AAGvE,UAAA,aAAaC,cAAAA,SAAiB,MAAM;AACxC,YAAM,MAAgB,CAAA;AAClB,UAAA,KAAK,GAAG,EAAG,CAAA;AACX,UAAA,EAAC,+BAAO,UAAS;AAEnB,YAAI,MAAM,UAAU;AAClB,cAAI,KAAK,GAAG,EAAE,UAAU,CAAC;AACzB,cAAI,MAAM;AAAgB,gBAAI,KAAK,GAAG,GAAG,YAAY,QAAQ,CAAC;AAAA,QAChE;AAAA,MACF;AACO,aAAA,IAAI,KAAK,GAAG;AAAA,IAAA,CACpB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BD,GAAG,gBAAgB,SAAS;"}