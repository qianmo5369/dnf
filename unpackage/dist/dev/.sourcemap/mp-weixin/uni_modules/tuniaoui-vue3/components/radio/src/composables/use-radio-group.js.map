{"version":3,"file":"use-radio-group.js","sources":["uni_modules/tuniaoui-vue3/components/radio/src/composables/use-radio-group.ts"],"sourcesContent":["import { nextTick, watch } from 'vue'\nimport { useFormItem } from '../../../form'\nimport { CHANGE_EVENT, UPDATE_MODEL_EVENT } from '../../../../constants'\nimport { debugWarn } from '../../../../utils'\n\nimport type { SetupContext } from 'vue'\nimport type { RadioGroupEmits, RadioGroupProps } from '../radio-group'\n\nexport const useRadioGroup = (\n  props: RadioGroupProps,\n  emits: SetupContext<RadioGroupEmits>['emit']\n) => {\n  const { formItem } = useFormItem()\n\n  // 值更新事件\n  const changeEvent = (val: RadioGroupProps['modelValue']) => {\n    emits(UPDATE_MODEL_EVENT, val)\n    nextTick(() => {\n      emits(CHANGE_EVENT, val)\n    })\n  }\n\n  // 当值发生改变时触发校验\n  watch(\n    () => props.modelValue,\n    () => {\n      if (props.validateEvent) {\n        formItem?.validate?.('change').catch((err) => {\n          debugWarn(err)\n        })\n      }\n    }\n  )\n\n  return {\n    changeEvent,\n  }\n}\n"],"names":["useFormItem","UPDATE_MODEL_EVENT","nextTick","CHANGE_EVENT","watch","debugWarn"],"mappings":";;;;;;;AAQa,MAAA,gBAAgB,CAC3B,OACA,UACG;AACG,QAAA,EAAE,aAAaA,qEAAAA;AAGf,QAAA,cAAc,CAAC,QAAuC;AAC1D,UAAMC,yCAAAA,oBAAoB,GAAG;AAC7BC,kBAAAA,WAAS,MAAM;AACb,YAAMC,yCAAAA,cAAc,GAAG;AAAA,IAAA,CACxB;AAAA,EAAA;AAIHC,gBAAA;AAAA,IACE,MAAM,MAAM;AAAA,IACZ,MAAM;;AACJ,UAAI,MAAM,eAAe;AACvB,mDAAU,aAAV,kCAAqB,UAAU,MAAM,CAAC,QAAQ;AAC5CC,+CAAA,UAAU,GAAG;AAAA,QAAA;AAAA,MAEjB;AAAA,IACF;AAAA,EAAA;AAGK,SAAA;AAAA,IACL;AAAA,EAAA;AAEJ;;"}