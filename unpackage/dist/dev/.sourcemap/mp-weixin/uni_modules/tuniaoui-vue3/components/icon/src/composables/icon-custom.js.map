{"version":3,"file":"icon-custom.js","sources":["uni_modules/tuniaoui-vue3/components/icon/src/composables/icon-custom.ts"],"sourcesContent":["import { computed, toRef } from 'vue'\nimport { formatDomSizeValue, isEmpty } from '../../../../utils'\nimport { useNamespace } from '../../../../hooks/use-namespace'\nimport { useComponentColor } from '../../../../hooks/use-component-color'\nimport { useComponentSize } from '../../../../hooks/use-component-size'\n\nimport type { CSSProperties } from 'vue'\nimport type { IconProps } from '../icon'\n\nexport const useIcon = (props: IconProps) => {\n  const ns = useNamespace('icon')\n\n  // 解析图标颜色\n  const [colorClass, colorStyle, updateColor] = useComponentColor(\n    toRef(props, 'color'),\n    'text'\n  )\n  // 解析透明图标背景\n  const [transparentBgClass] = useComponentColor(toRef(props, 'transparentBg'), 'bg')\n  // 解析图标尺寸\n  const { sizeType } = useComponentSize(props.size)\n\n  // 判断是图片还是图鸟内置的图标\n  const isImg = computed<boolean>(\n    () => !!props?.name && props.name.includes('/')\n  )\n\n  // 图标对应的类名\n  const iconClass = computed<string>(() => {\n    const cls: string[] = []\n    cls.push(ns.b())\n    // 判断图标是否是图片\n    if (isImg.value) {\n      cls.push(ns.m('image'))\n    } else {\n      // 设置图标颜色类型\n      if (props.type) cls.push(`tn-type-${props.type}_text`)\n\n      // 判断是否设置透明图标背景\n      if (props.transparent) {\n        cls.push('tn-text-transparent', transparentBgClass.value)\n      } else {\n        // 设置图标颜色\n        if (colorClass.value) cls.push(colorClass.value)\n      }\n\n      // 设置图标加粗\n      if (props.bold) cls.push('tn-text-bold')\n    }\n\n    // 设置图标尺寸\n    if (sizeType.value === 'inner') cls.push(ns.m(props.size as string))\n\n    if (props.customClass) cls.push(props.customClass)\n    return cls.join(' ')\n  })\n\n  // 图标对应的样式\n  const iconStyle = computed<CSSProperties>(() => {\n    const style: CSSProperties = {}\n    // 判断图标是否是图片\n    if (isImg.value) {\n      // 如果设置了size，则设置图片的宽高\n      if (sizeType.value === 'custom' && props.size) {\n        style.width = style.height = formatDomSizeValue(props.size)\n      }\n    } else {\n      // 设置图标颜色\n      if (colorStyle.value) style.color = colorStyle.value\n\n      // 设置图标大小\n      if (sizeType.value === 'custom' && props.size)\n        style.fontSize = formatDomSizeValue(props.size)\n    }\n    // 设置垂直方向上的偏移量\n    if (props.offsetTop)\n      style.transform = `translateY(${formatDomSizeValue(props.offsetTop)})`\n\n    if (!isEmpty(props.customStyle)) Object.assign(style, props.customStyle)\n\n    return style\n  })\n\n  return {\n    isImg,\n    iconClass,\n    iconStyle,\n    updateColor,\n  }\n}\n"],"names":["useNamespace","useComponentColor","toRef","useComponentSize","computed","formatDomSizeValue","isEmpty"],"mappings":";;;;;;;;AASa,MAAA,UAAU,CAAC,UAAqB;AACrC,QAAA,KAAKA,+DAAa,MAAM;AAG9B,QAAM,CAAC,YAAY,YAAY,WAAW,IAAIC,uDAAA;AAAA,IAC5CC,cAAA,MAAM,OAAO,OAAO;AAAA,IACpB;AAAA,EAAA;AAGI,QAAA,CAAC,kBAAkB,IAAID,yEAAkBC,cAAAA,MAAM,OAAO,eAAe,GAAG,IAAI;AAElF,QAAM,EAAE,SAAa,IAAAC,sDAAA,iBAAiB,MAAM,IAAI;AAGhD,QAAM,QAAQC,cAAA;AAAA,IACZ,MAAM,CAAC,EAAC,+BAAO,SAAQ,MAAM,KAAK,SAAS,GAAG;AAAA,EAAA;AAI1C,QAAA,YAAYA,cAAAA,SAAiB,MAAM;AACvC,UAAM,MAAgB,CAAA;AAClB,QAAA,KAAK,GAAG,EAAG,CAAA;AAEf,QAAI,MAAM,OAAO;AACf,UAAI,KAAK,GAAG,EAAE,OAAO,CAAC;AAAA,IAAA,OACjB;AAEL,UAAI,MAAM;AAAM,YAAI,KAAK,WAAW,MAAM,IAAI,OAAO;AAGrD,UAAI,MAAM,aAAa;AACjB,YAAA,KAAK,uBAAuB,mBAAmB,KAAK;AAAA,MAAA,OACnD;AAEL,YAAI,WAAW;AAAW,cAAA,KAAK,WAAW,KAAK;AAAA,MACjD;AAGA,UAAI,MAAM;AAAM,YAAI,KAAK,cAAc;AAAA,IACzC;AAGA,QAAI,SAAS,UAAU;AAAS,UAAI,KAAK,GAAG,EAAE,MAAM,IAAc,CAAC;AAEnE,QAAI,MAAM;AAAiB,UAAA,KAAK,MAAM,WAAW;AAC1C,WAAA,IAAI,KAAK,GAAG;AAAA,EAAA,CACpB;AAGK,QAAA,YAAYA,cAAAA,SAAwB,MAAM;AAC9C,UAAM,QAAuB,CAAA;AAE7B,QAAI,MAAM,OAAO;AAEf,UAAI,SAAS,UAAU,YAAY,MAAM,MAAM;AAC7C,cAAM,QAAQ,MAAM,SAASC,wCAAAA,mBAAmB,MAAM,IAAI;AAAA,MAC5D;AAAA,IAAA,OACK;AAEL,UAAI,WAAW;AAAO,cAAM,QAAQ,WAAW;AAG3C,UAAA,SAAS,UAAU,YAAY,MAAM;AACjC,cAAA,WAAWA,wCAAAA,mBAAmB,MAAM,IAAI;AAAA,IAClD;AAEA,QAAI,MAAM;AACR,YAAM,YAAY,cAAcA,wCAAAA,mBAAmB,MAAM,SAAS,CAAC;AAEjE,QAAA,CAACC,qCAAAA,QAAQ,MAAM,WAAW;AAAU,aAAA,OAAO,OAAO,MAAM,WAAW;AAEhE,WAAA;AAAA,EAAA,CACR;AAEM,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}