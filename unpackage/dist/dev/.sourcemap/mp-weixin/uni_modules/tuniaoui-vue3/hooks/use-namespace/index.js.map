{"version":3,"file":"index.js","sources":["uni_modules/tuniaoui-vue3/hooks/use-namespace/index.ts"],"sourcesContent":["import { computed, inject, ref, unref } from 'vue'\n\nimport type { InjectionKey, Ref } from 'vue'\n\nexport const defaultNamespace = 'tn'\n\nconst _bem = (\n  namespace: string,\n  block: string,\n  blockSuffix: string,\n  element: string,\n  modifier: string\n) => {\n  let cls = `${namespace}-${block}`\n  if (blockSuffix) {\n    cls += `-${blockSuffix}`\n  }\n  if (element) {\n    cls += `__${element}`\n  }\n  if (modifier) {\n    cls += `--${modifier}`\n  }\n  return cls\n}\n\nexport const namespaceContextKey: InjectionKey<Ref<string | undefined>> =\n  Symbol('localContextKey')\n\nexport const useGetDerivedNamespace = () => {\n  const derivedNamespace = inject(namespaceContextKey, ref(defaultNamespace))\n  const namespace = computed(() => {\n    return unref(derivedNamespace) || defaultNamespace\n  })\n  return namespace\n}\n\nexport const useNamespace = (block: string) => {\n  const namespace = useGetDerivedNamespace()\n\n  const b = (blockSuffix = '') =>\n    _bem(namespace.value, block, blockSuffix, '', '')\n  const e = (element?: string) =>\n    element ? _bem(namespace.value, block, '', element, '') : ''\n  const m = (modifier?: string) =>\n    modifier ? _bem(namespace.value, block, '', '', modifier) : ''\n  const be = (blockSuffix?: string, element?: string) =>\n    blockSuffix && element\n      ? _bem(namespace.value, block, blockSuffix, element, '')\n      : ''\n  const em = (element?: string, modifier?: string) =>\n    element && modifier\n      ? _bem(namespace.value, block, '', element, modifier)\n      : ''\n  const bm = (blockSuffix?: string, modifier?: string) =>\n    blockSuffix && modifier\n      ? _bem(namespace.value, block, blockSuffix, '', modifier)\n      : ''\n  const bem = (blockSuffix?: string, element?: string, modifier?: string) =>\n    blockSuffix && element && modifier\n      ? _bem(namespace.value, block, blockSuffix, element, modifier)\n      : ''\n  const is: {\n    (name: string, state: boolean | undefined): string\n    (name: string): string\n  } = (name: string, ...args: [boolean | undefined] | []) => {\n    const state = args.length >= 1 ? args[0] : true\n    return name && state ? `is-${name}` : ''\n  }\n\n  // for css var\n  const cssVar = (object: Record<string, string>) => {\n    const styles: Record<string, string> = {}\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${key}`] = object[key]\n      }\n    }\n    return styles\n  }\n  // with Block\n  const cssVarBlock = (object: Record<string, string>) => {\n    const styles: Record<string, string> = {}\n    for (const key in object) {\n      if (object[key]) {\n        styles[`--${namespace.value}-${block}-${key}`] = object[key]\n      }\n    }\n    return styles\n  }\n\n  const cssVarName = (name: string) => `--${namespace.value}-${name}`\n  const cssVarBlockName = (name: string) =>\n    `--${namespace.value}-${block}-${name}`\n\n  return {\n    namespace,\n    b,\n    e,\n    m,\n    be,\n    em,\n    bm,\n    bem,\n    is,\n    // css\n    cssVar,\n    cssVarName,\n    cssVarBlock,\n    cssVarBlockName,\n  }\n}\n\nexport type UseNamespaceReturn = ReturnType<typeof useNamespace>\n"],"names":["inject","ref","computed","unref"],"mappings":";;AAIO,MAAM,mBAAmB;AAEhC,MAAM,OAAO,CACX,WACA,OACA,aACA,SACA,aACG;AACH,MAAI,MAAM,GAAG,SAAS,IAAI,KAAK;AAC/B,MAAI,aAAa;AACf,WAAO,IAAI,WAAW;AAAA,EACxB;AACA,MAAI,SAAS;AACX,WAAO,KAAK,OAAO;AAAA,EACrB;AACA,MAAI,UAAU;AACZ,WAAO,KAAK,QAAQ;AAAA,EACtB;AACO,SAAA;AACT;AAEa,MAAA,sBACX,OAAO,iBAAiB;AAEnB,MAAM,yBAAyB,MAAM;AAC1C,QAAM,mBAAmBA,cAAAA,OAAO,qBAAqBC,cAAAA,IAAI,gBAAgB,CAAC;AACpE,QAAA,YAAYC,cAAAA,SAAS,MAAM;AACxB,WAAAC,cAAA,MAAM,gBAAgB,KAAK;AAAA,EAAA,CACnC;AACM,SAAA;AACT;AAEa,MAAA,eAAe,CAAC,UAAkB;AAC7C,QAAM,YAAY;AAEZ,QAAA,IAAI,CAAC,cAAc,OACvB,KAAK,UAAU,OAAO,OAAO,aAAa,IAAI,EAAE;AAC5C,QAAA,IAAI,CAAC,YACT,UAAU,KAAK,UAAU,OAAO,OAAO,IAAI,SAAS,EAAE,IAAI;AACtD,QAAA,IAAI,CAAC,aACT,WAAW,KAAK,UAAU,OAAO,OAAO,IAAI,IAAI,QAAQ,IAAI;AAC9D,QAAM,KAAK,CAAC,aAAsB,YAChC,eAAe,UACX,KAAK,UAAU,OAAO,OAAO,aAAa,SAAS,EAAE,IACrD;AACN,QAAM,KAAK,CAAC,SAAkB,aAC5B,WAAW,WACP,KAAK,UAAU,OAAO,OAAO,IAAI,SAAS,QAAQ,IAClD;AACN,QAAM,KAAK,CAAC,aAAsB,aAChC,eAAe,WACX,KAAK,UAAU,OAAO,OAAO,aAAa,IAAI,QAAQ,IACtD;AACN,QAAM,MAAM,CAAC,aAAsB,SAAkB,aACnD,eAAe,WAAW,WACtB,KAAK,UAAU,OAAO,OAAO,aAAa,SAAS,QAAQ,IAC3D;AACA,QAAA,KAGF,CAAC,SAAiB,SAAqC;AACzD,UAAM,QAAQ,KAAK,UAAU,IAAI,KAAK,CAAC,IAAI;AAC3C,WAAO,QAAQ,QAAQ,MAAM,IAAI,KAAK;AAAA,EAAA;AAIlC,QAAA,SAAS,CAAC,WAAmC;AACjD,UAAM,SAAiC,CAAA;AACvC,eAAW,OAAO,QAAQ;AACpB,UAAA,OAAO,GAAG,GAAG;AACR,eAAA,KAAK,UAAU,KAAK,IAAI,GAAG,EAAE,IAAI,OAAO,GAAG;AAAA,MACpD;AAAA,IACF;AACO,WAAA;AAAA,EAAA;AAGH,QAAA,cAAc,CAAC,WAAmC;AACtD,UAAM,SAAiC,CAAA;AACvC,eAAW,OAAO,QAAQ;AACpB,UAAA,OAAO,GAAG,GAAG;AACR,eAAA,KAAK,UAAU,KAAK,IAAI,KAAK,IAAI,GAAG,EAAE,IAAI,OAAO,GAAG;AAAA,MAC7D;AAAA,IACF;AACO,WAAA;AAAA,EAAA;AAGT,QAAM,aAAa,CAAC,SAAiB,KAAK,UAAU,KAAK,IAAI,IAAI;AAC3D,QAAA,kBAAkB,CAAC,SACvB,KAAK,UAAU,KAAK,IAAI,KAAK,IAAI,IAAI;AAEhC,SAAA;AAAA,IACL;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA;AAAA,IAEA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EAAA;AAEJ;;"}