{"version":3,"file":"team-record.js","sources":["pages/user/team-record.vue","pages/user/team-record.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"team-record-page\">\n\t\t<z-paging ref=\"paging\" v-model=\"teamList\" @query=\"getTeamLogs\" \t>\n\t\t<template #top>\n\t\t\t\t\t\n\t\t\t\t\r\n\t\t<!-- 顶部导航 -->\r\n\t\t<view class=\"tabs\">\r\n\t\t\t<view v-for=\"tab in tabs\" :key=\"tab.value\" class=\"tab\" :class=\"{ active: activeTab === tab.value }\"\r\n\t\t\t\t@tap=\"handleTab(tab.value)\">\r\n\t\t\t\t{{ tab.label }}\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 列表内容 -->\r\n\t\t<view class=\"line\"></view>\n\t\t\t</template>\r\n\t\t<view class=\"record-list\">\r\n\t\t\t<!-- <z-paging ref=\"paging\" v-model=\"teamList\" @query=\"getTeamLogs\" :fixed=\"false\"> -->\r\n\r\n\t\t\t\t<view class=\"item\" v-for=\"(item, index) in teamList\" :key=\"index\" @tap=\"linkTo(`/pages/room/room?room_id=${item.id}`)\">\r\n\t\t\t\t\t<view class=\"item__content\">\r\n\t\t\t\t\t\t<view class=\"role\">\r\n\t\t\t\t\t\t\t<image class=\"role__avatar\" mode=\"aspectFill\" :src=\"item.members.hero_avatar\"></image>\r\n\t\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t\t<view class=\"role__type\">\r\n\t\t\t\t\t\t\t\t\t<text>{{item.members.resist_power}}{{item.members.hero_name}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"role__name\">{{item.members.hero_nickname}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"item__tuanben\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"iconfont icon-gongji item__tuanben__icon\"></text>\r\n\t\t\t\t\t\t\t\t\t<text>{{item.mode_title||'攻坚·奥兹玛'}}</text>\r\n\t\t\t\t\t\t\t\t\t<text class=\"item__playType\"\r\n\t\t\t\t\t\t\t\t\t\t:class=\"item.members.role_code\">{{item.members.role_name}}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<view class=\"item__gameType\"  style=\"margin-bottom: 20rpx;\">\r\n\t\t\t\t\t\t\t\t<text class=\"item__status\" :class=\"item.status\"\r\n\t\t\t\t\t\t\t\t\tv-if=\"item.map_code==='terache' && item.status==='completed'\">已结算</text>\r\n\t\t\t\t\t\t\t\t<text class=\"item__status\" :class=\"item.status\" v-else>\r\n\t\t\t\t\t\t\t\t\t{{item.statusText}}\r\n\t\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"item__time\">{{item.created_at_text}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view catch:tap=\"onFailReason\" class=\"item__footer\"\r\n\t\t\t\t\t\tv-if=\"item.map_code==='terache' && item.status==='completed'\">\r\n\t\t\t\t\t\t<text class=\"iconfont icon-cz item__footer__icon\"></text>\r\n\t\t\t\t\t\t<view class=\"item__footer__content\">\r\n\t\t\t\t\t\t\t<text v-if=\"item.members.role_code =='seller'\">拉满泰拉：{{item.members.settle_info.tera_cost}} ｜\r\n\t\t\t\t\t\t\t\t收益：{{item.members.settle_info.bonus_yuan}}元\r\n\t\t\t\t\t\t\t\t<block v-if=\"item.members.settle_info.card_bonus_yuan > 0\">｜\r\n\t\t\t\t\t\t\t\t\t分红：{{item.members.settle_info.card_bonus_yuan}}元</block>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<text v-else>获得泰拉：{{item.members.settle_info}}万\r\n\t\t\t\t\t\t\t\t<block v-if=\"item.completeStatus === 'completed'\"> ｜ 费用：{{item.tailaCarFee}}元</block>\r\n\t\t\t\t\t\t\t\t<block v-if=\"item.members.settle_info.card_bonus_yuan\"> ｜\r\n\t\t\t\t\t\t\t\t\t分红：{{item.members.settle_info.card_bonus_yuan}}元</block>\r\n\t\t\t\t\t\t\t</text>\r\n\t\t\t\t\t\t\t<text class=\"item__footer__content__rate\">比例{{item.tera_ratio||5000}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!--  <view catch:tap=\"onFailReason\" class=\"item__footer\" data-item=\"{{item}}\" v-if=\"{{item.prizeValue}}\">\r\n\t\t        <text class=\"iconfont icon-hb2 item__footer__icon\"></text>\r\n\t\t        <view class=\"item__footer__content\">\r\n\t\t            <text>本次带团获得<text class=\"item__footer__amount\">{{item.prizeValue}}</text>红包，{{prizeIssueStatusMap[item.prizeIssueStatus]}}</text>\r\n\t\t            <text class=\"iconfont icon-help\" style=\"margin-left: 10rpx;\" v-if=\"{{item.prizeIssueStatus==='REFUSE'}}\"></text>\r\n\t\t        </view>\r\n\t\t    </view> -->\r\n\t\t\t\t</view>\r\n\t\t</view>\n\t\t</z-paging>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tcomputed\r\n\t} from 'vue'\r\n\timport useZPaging from \"@/uni_modules/z-paging/components/z-paging/js/hooks/useZPaging.js\";\r\n\timport TnIcon from '@/uni_modules/tuniaoui-vue3/components/icon/src/icon.vue'\r\n\timport TnPopup from '@/uni_modules/tuniaoui-vue3/components/popup/src/popup.vue';\r\n\tconst paging = ref(null)\r\n\tuseZPaging(paging)\r\n\tconst tabs = [{\r\n\t\t\tlabel: '全部',\r\n\t\t\tvalue: 'all'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '进行中',\r\n\t\t\tvalue: 'in_progress'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '已完成',\r\n\t\t\tvalue: 'completed'\r\n\t\t},\r\n\t\t{\r\n\t\t\tlabel: '已解散',\r\n\t\t\tvalue: 'disbanded'\r\n\t\t}\r\n\t]\r\n\r\n\tconst activeTab = ref('all')\r\n\r\n\tconst teamList = ref([])\r\n\r\n\tconst handleTab = (value) => {\r\n\t\tactiveTab.value = value;\r\n\t\tpaging.value.reload();\r\n\t}\n\t\n\t\n\tconst linkTo = (path) => {\n\t\tuni.navigateTo({\n\t\t\turl: path\n\t\t})\n\t}\r\n\r\n\tconst getTeamLogs = async (pageNo, pageSize) => {\r\n\t\tconst res = await uni.$http.post('/room/teamRoomList', {\r\n\t\t\tpage: pageNo,\r\n\t\t\tpage_size: pageSize,\r\n\t\t\tstatus: activeTab.value\r\n\t\t})\r\n\t\tif (res.code === 1) {\r\n\t\t\tconsole.log(res.data.list);\r\n\t\t\tpaging.value.complete(res.data.list)\r\n\t\t} else {\r\n\t\t\tpaging.value.complete(false)\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.team-record-page {\r\n\t\tbackground: #fff;\r\n\t\t/* min-height: 100vh; */\r\n\t}\r\n\r\n\t.tabs {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t\tpadding: 20rpx 30rpx;\r\n\t\tbackground: #fff;\r\n\t\t/* border-bottom: 1rpx solid #eee; */\r\n\t}\r\n\r\n\t.tab {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-right: 40rpx;\r\n\t\tpadding-bottom: 10rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.tab.active {\r\n\t\tcolor: #007aff;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.line {\r\n\t\twidth: 100%;\r\n\t\theight: 30rpx;\r\n\t\tbackground: #f8f8f8;\r\n\t}\r\n\r\n\t/* .tab.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 4rpx;\r\n  background: #007aff;\r\n  border-radius: 2rpx;\r\n} */\r\n\r\n\t.record-list {\r\n\t\tpadding: 20rpx;\r\n\t\t/* height: 80vh; */\r\n\t}\r\n\r\n\t.record-item {\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tpadding: 20rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\t/* box-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.05); */\r\n\t\tmargin-bottom: 20rpx;\r\n\t\talign-items: flex-start;\r\n\t\tborder-bottom: 1rpx solid #eee;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmargin-right: 20rpx;\r\n\t}\r\n\r\n\t.info {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.top {\r\n\t\tfont-size: 26rpx;\r\n\t\tcolor: #333;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 12rpx;\r\n\t}\r\n\r\n\t.bottom {\r\n\t\tmargin-top: 10rpx;\r\n\t\tfont-size: 24rpx;\r\n\t\tcolor: #888;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 20rpx;\r\n\t}\r\n\r\n\t.tag {\r\n\t\tpadding: 6rpx 18rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 22rpx;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.tag.red {\r\n\t\tbackground: #f56c6c;\r\n\t}\r\n\r\n\t.tag.blue {\r\n\t\tbackground: #409eff;\r\n\t}\r\n\r\n\t.right {\r\n\t\ttext-align: right;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 24rpx;\r\n\t}\r\n\r\n\t.status {\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\r\n\r\n\t.item {\r\n\t\tborder-bottom: 1rpx solid #eee\r\n\t}\r\n\r\n\t.item__content {\r\n\t\tcolor: #333;\r\n\t\tpadding: 34rpx 0\r\n\t}\r\n\r\n\t.item__content,\r\n\t.item__header {\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between\r\n\t}\r\n\r\n\t.item__header {\r\n\t\tmargin-bottom: 20rpx\r\n\t}\r\n\r\n\t.item__gameType,\r\n\t.item__header {\r\n\t\talign-items: center\r\n\t}\r\n\r\n\t.item__gameType {\r\n\t\tcolor: #333;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 28rpx;\r\n\t\tjustify-content: flex-end\r\n\t}\r\n\r\n\t.item__playType {\r\n\t\tborder-radius: 10rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 22rpx;\r\n\t\tmargin-left: 20rpx;\r\n\t\tpadding: 6rpx 14rpx\r\n\t}\r\n\r\n\t.item__type {\r\n\t\tbackground-color: #0283ff;\r\n\t\tborder-radius: 8rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 22rpx;\r\n\t\tmargin-right: 14rpx;\r\n\t\tpadding: 2rpx 20rpx\r\n\t}\r\n\r\n\t.item__status {\r\n\t\t/* color: #0283ff; */\n\t\tcolor: #777;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-left: 20rpx\r\n\t}\n\t.completed{\n\t\tcolor: #000 !important;\n\t}\r\n\r\n\t.item__type.drag {\r\n\t\tbackground-color: #f54a4a\r\n\t}\r\n\r\n\t.item__footer {\r\n\t\tjustify-content: space-between\r\n\t}\r\n\r\n\t.item__name {\r\n\t\tcolor: #777;\r\n\t\tfont-size: 24rpx\r\n\t}\r\n\r\n\t.item__capacity {\r\n\t\tcolor: #666;\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-weight: 400\r\n\t}\r\n\r\n\t.item__time {\r\n\t\tcolor: #999;\r\n\t\tfont-size: 24rpx;\r\n\t\ttext-align: right\r\n\t}\r\n\r\n\t.item__btn {\r\n\t\tjustify-content: flex-end\r\n\t}\r\n\r\n\t.item__btn,\r\n\t.item__footer {\r\n\t\talign-items: center;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex\r\n\t}\r\n\r\n\t.item__footer {\r\n\t\tcolor: #666;\r\n\t\tfont-size: 24rpx;\r\n\t\tjustify-content: flex-start;\r\n\t\tpadding-bottom: 24rpx\r\n\t}\r\n\r\n\t.item__footer__icon {\r\n\t\tcolor: #ea331e;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-right: 10rpx\r\n\t}\r\n\r\n\t.item__footer__amount {\r\n\t\tcolor: #ea331e;\r\n\t\tfont-weight: 600;\r\n\t\tmargin: 0 4rpx\r\n\t}\r\n\r\n\t.item__footer__content {\r\n\t\talign-items: center;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 100%\r\n\t}\r\n\r\n\t.item__footer__content__rate {\r\n\t\tbackground-color: #faece9;\r\n\t\tborder-radius: 8rpx;\r\n\t\tcolor: #ea331e;\r\n\t\tflex-shrink: 0;\r\n\t\tfont-size: 24rpx;\r\n\t\tmax-width: -webkit-fit-content;\r\n\t\tmax-width: fit-content;\r\n\t\tpadding: 4rpx 14rpx\r\n\t}\r\n\r\n\t.item__btn__item {\r\n\t\tborder: 1rpx solid #42b861;\r\n\t\tborder-radius: 30rpx;\r\n\t\tcolor: #42b861;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\tpadding: 6rpx 30rpx\r\n\t}\r\n\r\n\t.role {\r\n\t\talign-items: center;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex\r\n\t}\r\n\r\n\t.role__avatar {\r\n\t\tborder-radius: 50%;\r\n\t\theight: 90rpx;\r\n\t\tmargin-right: 14rpx;\r\n\t\twidth: 90rpx\r\n\t}\r\n\r\n\t.role__type {\r\n\t\talign-items: center;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 30rpx\r\n\t}\r\n\r\n\t.role__name {\r\n\t\tcolor: #777;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-left: 14rpx\r\n\t}\r\n\r\n\t.item__tuanben {\r\n\t\talign-items: center;\r\n\t\tcolor: #777;\r\n\t\tdisplay: -webkit-flex;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 26rpx;\r\n\t\tmargin-top: 10rpx\r\n\t}\r\n\r\n\t.item__tuanben__icon {\r\n\t\tfont-size: 24rpx;\r\n\t\tmargin-right: 10rpx\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\t.dps {\r\n\t\tbackground: #ff4d4f;\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.leader {\r\n\t\tbackground: #1677ff;\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.support {\r\n\t\tbackground: #00c292;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.baoche {\r\n\t\tbackground: #5b2ae5;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.team {\r\n\t\tbackground: #fbbd12;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.deck {\r\n\t\tbackground: #0198cc;\r\n\t\tcolor: #fff;\r\n\t}\r\n</style>","import MiniProgramPage from '/Users/zhizhi/Documents/HBuilderProjects/dnf/pages/user/team-record.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","useZPaging","uni"],"mappings":";;;;;;;;;;;;;;AAsFC,UAAM,SAASA,cAAG,IAAC,IAAI;AACvBC,+DAAAA,WAAW,MAAM;AACjB,UAAM,OAAO;AAAA,MAAC;AAAA,QACZ,OAAO;AAAA,QACP,OAAO;AAAA,MACP;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,OAAO;AAAA,MACP;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,OAAO;AAAA,MACP;AAAA,MACD;AAAA,QACC,OAAO;AAAA,QACP,OAAO;AAAA,MACP;AAAA,IACD;AAED,UAAM,YAAYD,cAAG,IAAC,KAAK;AAE3B,UAAM,WAAWA,cAAG,IAAC,EAAE;AAEvB,UAAM,YAAY,CAAC,UAAU;AAC5B,gBAAU,QAAQ;AAClB,aAAO,MAAM;IACb;AAGD,UAAM,SAAS,CAAC,SAAS;AACxBE,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,MACR,CAAG;AAAA,IACD;AAED,UAAM,cAAc,OAAO,QAAQ,aAAa;AAC/C,YAAM,MAAM,MAAMA,cAAAA,MAAI,MAAM,KAAK,sBAAsB;AAAA,QACtD,MAAM;AAAA,QACN,WAAW;AAAA,QACX,QAAQ,UAAU;AAAA,MACrB,CAAG;AACD,UAAI,IAAI,SAAS,GAAG;AACnBA,sBAAA,MAAA,MAAA,OAAA,qCAAY,IAAI,KAAK,IAAI;AACzB,eAAO,MAAM,SAAS,IAAI,KAAK,IAAI;AAAA,MACtC,OAAS;AACN,eAAO,MAAM,SAAS,KAAK;AAAA,MAC3B;AAAA,IACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrIF,GAAG,WAAW,eAAe;"}