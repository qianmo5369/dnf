{"version":3,"file":"uni-copy.js","sources":["js_sdk/xb-copy/uni-copy.js"],"sourcesContent":["export default function uniCopy({content,title = '角色名字已复制~',success,error}) {\r\n\tif(!content) return error('复制的内容不能为空 !')\r\n\tcontent = typeof content === 'string' ? content : content.toString() // 复制内容，必须字符串，数字需要转换为字符串\r\n\t/**\r\n\t * 小程序端 和 app端的复制逻辑\r\n\t */\r\n\t//#ifndef H5\r\n\tuni.setClipboardData({\r\n\t\tdata: content,\r\n\t\tsuccess: function() {\r\n\t\t\tsuccess(\"复制成功~\")\r\n\t\t\tconsole.log('success');\r\n\t\t},\r\n\t\tfail:function(){\r\n\t\t\tsuccess(\"复制失败~\")\r\n\t\t}\r\n\t});\r\n\t//#endif\r\n\t\r\n\t/**\r\n\t * H5端的复制逻辑\r\n\t */\r\n\t// #ifdef H5\r\n\tif (!document.queryCommandSupported('copy')) { //为了兼容有些浏览器 queryCommandSupported 的判断\r\n\t\t// 不支持\r\n\t\terror('浏览器不支持')\r\n\t}\r\n\tlet textarea = document.createElement(\"textarea\")\r\n\ttextarea.value = content\r\n\ttextarea.readOnly = \"readOnly\"\r\n\tdocument.body.appendChild(textarea)\r\n\ttextarea.select() // 选择对象\r\n\ttextarea.setSelectionRange(0, content.length) //核心\r\n\tlet result = document.execCommand(\"copy\") // 执行浏览器复制命令\r\n\tif(result){\r\n\t\tsuccess(title)\r\n\t}else{\r\n\t\terror(\"复制失败，请检查h5中调用该方法的方式，是不是用户点击的方式调用的，如果不是请改为用户点击的方式触发该方法，因为h5中安全性，不能js直接调用！\")\r\n\t}\t\r\n\ttextarea.remove()\r\n\t// #endif\r\n}\n"],"names":["uni"],"mappings":";;AAAe,SAAS,QAAQ,EAAC,SAAQ,QAAQ,YAAW,SAAQ,MAAK,GAAG;AAC3E,MAAG,CAAC;AAAS,WAAO,MAAM,aAAa;AACvC,YAAU,OAAO,YAAY,WAAW,UAAU,QAAQ,SAAU;AAKpEA,gBAAAA,MAAI,iBAAiB;AAAA,IACpB,MAAM;AAAA,IACN,SAAS,WAAW;AACnB,cAAQ,OAAO;AACfA,oBAAAA,MAAY,MAAA,OAAA,oCAAA,SAAS;AAAA,IACrB;AAAA,IACD,MAAK,WAAU;AACd,cAAQ,OAAO;AAAA,IACf;AAAA,EACH,CAAE;AAyBF;;"}